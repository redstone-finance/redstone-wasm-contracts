var rsdk=(()=>{var bB=Object.create;var so=Object.defineProperty,xB=Object.defineProperties,SB=Object.getOwnPropertyDescriptor,EB=Object.getOwnPropertyDescriptors,AB=Object.getOwnPropertyNames,x0=Object.getOwnPropertySymbols,TB=Object.getPrototypeOf,E0=Object.prototype.hasOwnProperty,IB=Object.prototype.propertyIsEnumerable;var S0=(e,t,r)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))E0.call(t,r)&&S0(e,r,t[r]);if(x0)for(var r of x0(t))IB.call(t,r)&&S0(e,r,t[r]);return e},lr=(e,t)=>xB(e,EB(t)),A0=e=>so(e,"__esModule",{value:!0});var U=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),CB=(e,t)=>{for(var r in t)so(e,r,{get:t[r],enumerable:!0})},T0=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AB(t))!E0.call(e,o)&&(r||o!=="default")&&so(e,o,{get:()=>t[o],enumerable:!(i=SB(t,o))||i.enumerable});return e},ir=(e,t)=>T0(A0(so(e!=null?bB(TB(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),OB=(e=>(t,r)=>e&&e.get(t)||(r=T0(A0({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var pu=U(du=>{"use strict";du.byteLength=iM;du.toByteArray=oM;du.fromByteArray=fM;var Xr=[],Pr=[],nM=typeof Uint8Array<"u"?Uint8Array:Array,fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(hi=0,j0=fl.length;hi<j0;++hi)Xr[hi]=fl[hi],Pr[fl.charCodeAt(hi)]=hi;var hi,j0;Pr["-".charCodeAt(0)]=62;Pr["_".charCodeAt(0)]=63;function z0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function iM(e){var t=z0(e),r=t[0],i=t[1];return(r+i)*3/4-i}function aM(e,t,r){return(t+r)*3/4-r}function oM(e){var t,r=z0(e),i=r[0],o=r[1],u=new nM(aM(e,i,o)),c=0,p=o>0?i-4:i,w;for(w=0;w<p;w+=4)t=Pr[e.charCodeAt(w)]<<18|Pr[e.charCodeAt(w+1)]<<12|Pr[e.charCodeAt(w+2)]<<6|Pr[e.charCodeAt(w+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=t&255;return o===2&&(t=Pr[e.charCodeAt(w)]<<2|Pr[e.charCodeAt(w+1)]>>4,u[c++]=t&255),o===1&&(t=Pr[e.charCodeAt(w)]<<10|Pr[e.charCodeAt(w+1)]<<4|Pr[e.charCodeAt(w+2)]>>2,u[c++]=t>>8&255,u[c++]=t&255),u}function sM(e){return Xr[e>>18&63]+Xr[e>>12&63]+Xr[e>>6&63]+Xr[e&63]}function uM(e,t,r){for(var i,o=[],u=t;u<r;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(e[u+2]&255),o.push(sM(i));return o.join("")}function fM(e){for(var t,r=e.length,i=r%3,o=[],u=16383,c=0,p=r-i;c<p;c+=u)o.push(uM(e,c,c+u>p?p:c+u));return i===1?(t=e[r-1],o.push(Xr[t>>2]+Xr[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],o.push(Xr[t>>10]+Xr[t>>4&63]+Xr[t<<2&63]+"=")),o.join("")}});var K0=U(cl=>{cl.read=function(e,t,r,i,o){var u,c,p=o*8-i-1,w=(1<<p)-1,M=w>>1,C=-7,O=r?o-1:0,I=r?-1:1,S=e[t+O];for(O+=I,u=S&(1<<-C)-1,S>>=-C,C+=p;C>0;u=u*256+e[t+O],O+=I,C-=8);for(c=u&(1<<-C)-1,u>>=-C,C+=i;C>0;c=c*256+e[t+O],O+=I,C-=8);if(u===0)u=1-M;else{if(u===w)return c?NaN:(S?-1:1)*(1/0);c=c+Math.pow(2,i),u=u-M}return(S?-1:1)*c*Math.pow(2,u-i)};cl.write=function(e,t,r,i,o,u){var c,p,w,M=u*8-o-1,C=(1<<M)-1,O=C>>1,I=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:u-1,N=i?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(p=isNaN(t)?1:0,c=C):(c=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-c))<1&&(c--,w*=2),c+O>=1?t+=I/w:t+=I*Math.pow(2,1-O),t*w>=2&&(c++,w/=2),c+O>=C?(p=0,c=C):c+O>=1?(p=(t*w-1)*Math.pow(2,o),c=c+O):(p=t*Math.pow(2,O-1)*Math.pow(2,o),c=0));o>=8;e[r+S]=p&255,S+=N,p/=256,o-=8);for(c=c<<o|p,M+=o;M>0;e[r+S]=c&255,S+=N,c/=256,M-=8);e[r+S-N]|=k*128}});var mu=U(Xi=>{"use strict";var ll=pu(),Yi=K0(),V0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Xi.Buffer=ut;Xi.SlowBuffer=gM;Xi.INSPECT_MAX_BYTES=50;var gu=2147483647;Xi.kMaxLength=gu;ut.TYPED_ARRAY_SUPPORT=cM();!ut.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function cM(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(e){return!1}}Object.defineProperty(ut.prototype,"parent",{enumerable:!0,get:function(){if(!!ut.isBuffer(this))return this.buffer}});Object.defineProperty(ut.prototype,"offset",{enumerable:!0,get:function(){if(!!ut.isBuffer(this))return this.byteOffset}});function mn(e){if(e>gu)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,ut.prototype),t}function ut(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return gl(e)}return Z0(e,t,r)}ut.poolSize=8192;function Z0(e,t,r){if(typeof e=="string")return hM(e,t);if(ArrayBuffer.isView(e))return dM(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(tn(e,ArrayBuffer)||e&&tn(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(tn(e,SharedArrayBuffer)||e&&tn(e.buffer,SharedArrayBuffer)))return dl(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(i!=null&&i!==e)return ut.from(i,t,r);let o=pM(e);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ut.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}ut.from=function(e,t,r){return Z0(e,t,r)};Object.setPrototypeOf(ut.prototype,Uint8Array.prototype);Object.setPrototypeOf(ut,Uint8Array);function X0(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function lM(e,t,r){return X0(e),e<=0?mn(e):t!==void 0?typeof r=="string"?mn(e).fill(t,r):mn(e).fill(t):mn(e)}ut.alloc=function(e,t,r){return lM(e,t,r)};function gl(e){return X0(e),mn(e<0?0:yl(e)|0)}ut.allocUnsafe=function(e){return gl(e)};ut.allocUnsafeSlow=function(e){return gl(e)};function hM(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!ut.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=ty(e,t)|0,i=mn(r),o=i.write(e,t);return o!==r&&(i=i.slice(0,o)),i}function hl(e){let t=e.length<0?0:yl(e.length)|0,r=mn(t);for(let i=0;i<t;i+=1)r[i]=e[i]&255;return r}function dM(e){if(tn(e,Uint8Array)){let t=new Uint8Array(e);return dl(t.buffer,t.byteOffset,t.byteLength)}return hl(e)}function dl(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return t===void 0&&r===void 0?i=new Uint8Array(e):r===void 0?i=new Uint8Array(e,t):i=new Uint8Array(e,t,r),Object.setPrototypeOf(i,ut.prototype),i}function pM(e){if(ut.isBuffer(e)){let t=yl(e.length)|0,r=mn(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||wl(e.length)?mn(0):hl(e);if(e.type==="Buffer"&&Array.isArray(e.data))return hl(e.data)}function yl(e){if(e>=gu)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+gu.toString(16)+" bytes");return e|0}function gM(e){return+e!=e&&(e=0),ut.alloc(+e)}ut.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==ut.prototype};ut.compare=function(t,r){if(tn(t,Uint8Array)&&(t=ut.from(t,t.offset,t.byteLength)),tn(r,Uint8Array)&&(r=ut.from(r,r.offset,r.byteLength)),!ut.isBuffer(t)||!ut.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let i=t.length,o=r.length;for(let u=0,c=Math.min(i,o);u<c;++u)if(t[u]!==r[u]){i=t[u],o=r[u];break}return i<o?-1:o<i?1:0};ut.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ut.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return ut.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<t.length;++i)r+=t[i].length;let o=ut.allocUnsafe(r),u=0;for(i=0;i<t.length;++i){let c=t[i];if(tn(c,Uint8Array))u+c.length>o.length?(ut.isBuffer(c)||(c=ut.from(c)),c.copy(o,u)):Uint8Array.prototype.set.call(o,c,u);else if(ut.isBuffer(c))c.copy(o,u);else throw new TypeError('"list" argument must be an Array of Buffers');u+=c.length}return o};function ty(e,t){if(ut.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||tn(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return pl(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return fy(e).length;default:if(o)return i?-1:pl(e).length;t=(""+t).toLowerCase(),o=!0}}ut.byteLength=ty;function yM(e,t,r){let i=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return TM(this,t,r);case"utf8":case"utf-8":return ry(this,t,r);case"ascii":return EM(this,t,r);case"latin1":case"binary":return AM(this,t,r);case"base64":return xM(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return IM(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}ut.prototype._isBuffer=!0;function di(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}ut.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)di(this,r,r+1);return this};ut.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)di(this,r,r+3),di(this,r+1,r+2);return this};ut.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)di(this,r,r+7),di(this,r+1,r+6),di(this,r+2,r+5),di(this,r+3,r+4);return this};ut.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?ry(this,0,t):yM.apply(this,arguments)};ut.prototype.toLocaleString=ut.prototype.toString;ut.prototype.equals=function(t){if(!ut.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:ut.compare(this,t)===0};ut.prototype.inspect=function(){let t="",r=Xi.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};V0&&(ut.prototype[V0]=ut.prototype.inspect);ut.prototype.compare=function(t,r,i,o,u){if(tn(t,Uint8Array)&&(t=ut.from(t,t.offset,t.byteLength)),!ut.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),i===void 0&&(i=t?t.length:0),o===void 0&&(o=0),u===void 0&&(u=this.length),r<0||i>t.length||o<0||u>this.length)throw new RangeError("out of range index");if(o>=u&&r>=i)return 0;if(o>=u)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,o>>>=0,u>>>=0,this===t)return 0;let c=u-o,p=i-r,w=Math.min(c,p),M=this.slice(o,u),C=t.slice(r,i);for(let O=0;O<w;++O)if(M[O]!==C[O]){c=M[O],p=C[O];break}return c<p?-1:p<c?1:0};function ey(e,t,r,i,o){if(e.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,wl(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof t=="string"&&(t=ut.from(t,i)),ut.isBuffer(t))return t.length===0?-1:J0(e,t,r,i,o);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):J0(e,[t],r,i,o);throw new TypeError("val must be string, number or Buffer")}function J0(e,t,r,i,o){let u=1,c=e.length,p=t.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(e.length<2||t.length<2)return-1;u=2,c/=2,p/=2,r/=2}function w(C,O){return u===1?C[O]:C.readUInt16BE(O*u)}let M;if(o){let C=-1;for(M=r;M<c;M++)if(w(e,M)===w(t,C===-1?0:M-C)){if(C===-1&&(C=M),M-C+1===p)return C*u}else C!==-1&&(M-=M-C),C=-1}else for(r+p>c&&(r=c-p),M=r;M>=0;M--){let C=!0;for(let O=0;O<p;O++)if(w(e,M+O)!==w(t,O)){C=!1;break}if(C)return M}return-1}ut.prototype.includes=function(t,r,i){return this.indexOf(t,r,i)!==-1};ut.prototype.indexOf=function(t,r,i){return ey(this,t,r,i,!0)};ut.prototype.lastIndexOf=function(t,r,i){return ey(this,t,r,i,!1)};function mM(e,t,r,i){r=Number(r)||0;let o=e.length-r;i?(i=Number(i),i>o&&(i=o)):i=o;let u=t.length;i>u/2&&(i=u/2);let c;for(c=0;c<i;++c){let p=parseInt(t.substr(c*2,2),16);if(wl(p))return c;e[r+c]=p}return c}function wM(e,t,r,i){return yu(pl(t,e.length-r),e,r,i)}function vM(e,t,r,i){return yu(MM(t),e,r,i)}function _M(e,t,r,i){return yu(fy(t),e,r,i)}function bM(e,t,r,i){return yu(RM(t,e.length-r),e,r,i)}ut.prototype.write=function(t,r,i,o){if(r===void 0)o="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")o=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,o===void 0&&(o="utf8")):(o=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let u=this.length-r;if((i===void 0||i>u)&&(i=u),t.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let c=!1;for(;;)switch(o){case"hex":return mM(this,t,r,i);case"utf8":case"utf-8":return wM(this,t,r,i);case"ascii":case"latin1":case"binary":return vM(this,t,r,i);case"base64":return _M(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bM(this,t,r,i);default:if(c)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),c=!0}};ut.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xM(e,t,r){return t===0&&r===e.length?ll.fromByteArray(e):ll.fromByteArray(e.slice(t,r))}function ry(e,t,r){r=Math.min(e.length,r);let i=[],o=t;for(;o<r;){let u=e[o],c=null,p=u>239?4:u>223?3:u>191?2:1;if(o+p<=r){let w,M,C,O;switch(p){case 1:u<128&&(c=u);break;case 2:w=e[o+1],(w&192)===128&&(O=(u&31)<<6|w&63,O>127&&(c=O));break;case 3:w=e[o+1],M=e[o+2],(w&192)===128&&(M&192)===128&&(O=(u&15)<<12|(w&63)<<6|M&63,O>2047&&(O<55296||O>57343)&&(c=O));break;case 4:w=e[o+1],M=e[o+2],C=e[o+3],(w&192)===128&&(M&192)===128&&(C&192)===128&&(O=(u&15)<<18|(w&63)<<12|(M&63)<<6|C&63,O>65535&&O<1114112&&(c=O))}}c===null?(c=65533,p=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c),o+=p}return SM(i)}var Q0=4096;function SM(e){let t=e.length;if(t<=Q0)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=Q0));return r}function EM(e,t,r){let i="";r=Math.min(e.length,r);for(let o=t;o<r;++o)i+=String.fromCharCode(e[o]&127);return i}function AM(e,t,r){let i="";r=Math.min(e.length,r);for(let o=t;o<r;++o)i+=String.fromCharCode(e[o]);return i}function TM(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let o="";for(let u=t;u<r;++u)o+=LM[e[u]];return o}function IM(e,t,r){let i=e.slice(t,r),o="";for(let u=0;u<i.length-1;u+=2)o+=String.fromCharCode(i[u]+i[u+1]*256);return o}ut.prototype.slice=function(t,r){let i=this.length;t=~~t,r=r===void 0?i:~~r,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<t&&(r=t);let o=this.subarray(t,r);return Object.setPrototypeOf(o,ut.prototype),o};function ze(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}ut.prototype.readUintLE=ut.prototype.readUIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||ze(t,r,this.length);let o=this[t],u=1,c=0;for(;++c<r&&(u*=256);)o+=this[t+c]*u;return o};ut.prototype.readUintBE=ut.prototype.readUIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||ze(t,r,this.length);let o=this[t+--r],u=1;for(;r>0&&(u*=256);)o+=this[t+--r]*u;return o};ut.prototype.readUint8=ut.prototype.readUInt8=function(t,r){return t=t>>>0,r||ze(t,1,this.length),this[t]};ut.prototype.readUint16LE=ut.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||ze(t,2,this.length),this[t]|this[t+1]<<8};ut.prototype.readUint16BE=ut.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||ze(t,2,this.length),this[t]<<8|this[t+1]};ut.prototype.readUint32LE=ut.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};ut.prototype.readUint32BE=ut.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};ut.prototype.readBigUInt64LE=Dn(function(t){t=t>>>0,Zi(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&go(t,this.length-8);let o=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,u=this[++t]+this[++t]*2**8+this[++t]*2**16+i*2**24;return BigInt(o)+(BigInt(u)<<BigInt(32))});ut.prototype.readBigUInt64BE=Dn(function(t){t=t>>>0,Zi(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&go(t,this.length-8);let o=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],u=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i;return(BigInt(o)<<BigInt(32))+BigInt(u)});ut.prototype.readIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||ze(t,r,this.length);let o=this[t],u=1,c=0;for(;++c<r&&(u*=256);)o+=this[t+c]*u;return u*=128,o>=u&&(o-=Math.pow(2,8*r)),o};ut.prototype.readIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||ze(t,r,this.length);let o=r,u=1,c=this[t+--o];for(;o>0&&(u*=256);)c+=this[t+--o]*u;return u*=128,c>=u&&(c-=Math.pow(2,8*r)),c};ut.prototype.readInt8=function(t,r){return t=t>>>0,r||ze(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};ut.prototype.readInt16LE=function(t,r){t=t>>>0,r||ze(t,2,this.length);let i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i};ut.prototype.readInt16BE=function(t,r){t=t>>>0,r||ze(t,2,this.length);let i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i};ut.prototype.readInt32LE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};ut.prototype.readInt32BE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};ut.prototype.readBigInt64LE=Dn(function(t){t=t>>>0,Zi(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&go(t,this.length-8);let o=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(i<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});ut.prototype.readBigInt64BE=Dn(function(t){t=t>>>0,Zi(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&go(t,this.length-8);let o=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(o)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i)});ut.prototype.readFloatLE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),Yi.read(this,t,!0,23,4)};ut.prototype.readFloatBE=function(t,r){return t=t>>>0,r||ze(t,4,this.length),Yi.read(this,t,!1,23,4)};ut.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||ze(t,8,this.length),Yi.read(this,t,!0,52,8)};ut.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||ze(t,8,this.length),Yi.read(this,t,!1,52,8)};function hr(e,t,r,i,o,u){if(!ut.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<u)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}ut.prototype.writeUintLE=ut.prototype.writeUIntLE=function(t,r,i,o){if(t=+t,r=r>>>0,i=i>>>0,!o){let p=Math.pow(2,8*i)-1;hr(this,t,r,i,p,0)}let u=1,c=0;for(this[r]=t&255;++c<i&&(u*=256);)this[r+c]=t/u&255;return r+i};ut.prototype.writeUintBE=ut.prototype.writeUIntBE=function(t,r,i,o){if(t=+t,r=r>>>0,i=i>>>0,!o){let p=Math.pow(2,8*i)-1;hr(this,t,r,i,p,0)}let u=i-1,c=1;for(this[r+u]=t&255;--u>=0&&(c*=256);)this[r+u]=t/c&255;return r+i};ut.prototype.writeUint8=ut.prototype.writeUInt8=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,1,255,0),this[r]=t&255,r+1};ut.prototype.writeUint16LE=ut.prototype.writeUInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};ut.prototype.writeUint16BE=ut.prototype.writeUInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};ut.prototype.writeUint32LE=ut.prototype.writeUInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};ut.prototype.writeUint32BE=ut.prototype.writeUInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function ny(e,t,r,i,o){uy(t,i,o,e,r,7);let u=Number(t&BigInt(4294967295));e[r++]=u,u=u>>8,e[r++]=u,u=u>>8,e[r++]=u,u=u>>8,e[r++]=u;let c=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=c,c=c>>8,e[r++]=c,c=c>>8,e[r++]=c,c=c>>8,e[r++]=c,r}function iy(e,t,r,i,o){uy(t,i,o,e,r,7);let u=Number(t&BigInt(4294967295));e[r+7]=u,u=u>>8,e[r+6]=u,u=u>>8,e[r+5]=u,u=u>>8,e[r+4]=u;let c=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=c,c=c>>8,e[r+2]=c,c=c>>8,e[r+1]=c,c=c>>8,e[r]=c,r+8}ut.prototype.writeBigUInt64LE=Dn(function(t,r=0){return ny(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});ut.prototype.writeBigUInt64BE=Dn(function(t,r=0){return iy(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});ut.prototype.writeIntLE=function(t,r,i,o){if(t=+t,r=r>>>0,!o){let w=Math.pow(2,8*i-1);hr(this,t,r,i,w-1,-w)}let u=0,c=1,p=0;for(this[r]=t&255;++u<i&&(c*=256);)t<0&&p===0&&this[r+u-1]!==0&&(p=1),this[r+u]=(t/c>>0)-p&255;return r+i};ut.prototype.writeIntBE=function(t,r,i,o){if(t=+t,r=r>>>0,!o){let w=Math.pow(2,8*i-1);hr(this,t,r,i,w-1,-w)}let u=i-1,c=1,p=0;for(this[r+u]=t&255;--u>=0&&(c*=256);)t<0&&p===0&&this[r+u+1]!==0&&(p=1),this[r+u]=(t/c>>0)-p&255;return r+i};ut.prototype.writeInt8=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};ut.prototype.writeInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};ut.prototype.writeInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};ut.prototype.writeInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};ut.prototype.writeInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||hr(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};ut.prototype.writeBigInt64LE=Dn(function(t,r=0){return ny(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ut.prototype.writeBigInt64BE=Dn(function(t,r=0){return iy(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ay(e,t,r,i,o,u){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function oy(e,t,r,i,o){return t=+t,r=r>>>0,o||ay(e,t,r,4,34028234663852886e22,-34028234663852886e22),Yi.write(e,t,r,i,23,4),r+4}ut.prototype.writeFloatLE=function(t,r,i){return oy(this,t,r,!0,i)};ut.prototype.writeFloatBE=function(t,r,i){return oy(this,t,r,!1,i)};function sy(e,t,r,i,o){return t=+t,r=r>>>0,o||ay(e,t,r,8,17976931348623157e292,-17976931348623157e292),Yi.write(e,t,r,i,52,8),r+8}ut.prototype.writeDoubleLE=function(t,r,i){return sy(this,t,r,!0,i)};ut.prototype.writeDoubleBE=function(t,r,i){return sy(this,t,r,!1,i)};ut.prototype.copy=function(t,r,i,o){if(!ut.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!o&&o!==0&&(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<i&&(o=i),o===i||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-i&&(o=t.length-r+i);let u=o-i;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,o):Uint8Array.prototype.set.call(t,this.subarray(i,o),r),u};ut.prototype.fill=function(t,r,i,o){if(typeof t=="string"){if(typeof r=="string"?(o=r,r=0,i=this.length):typeof i=="string"&&(o=i,i=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!ut.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(t.length===1){let c=t.charCodeAt(0);(o==="utf8"&&c<128||o==="latin1")&&(t=c)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);let u;if(typeof t=="number")for(u=r;u<i;++u)this[u]=t;else{let c=ut.isBuffer(t)?t:ut.from(t,o),p=c.length;if(p===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-r;++u)this[u+r]=c[u%p]}return this};var Qi={};function ml(e,t,r){Qi[e]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}ml("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ml("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);ml("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=Y0(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=Y0(o)),o+="n"),i+=` It must be ${t}. Received ${o}`,i},RangeError);function Y0(e){let t="",r=e.length,i=e[0]==="-"?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function CM(e,t,r){Zi(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&go(t,e.length-(r+1))}function uy(e,t,r,i,o,u){if(e>r||e<t){let c=typeof t=="bigint"?"n":"",p;throw u>3?t===0||t===BigInt(0)?p=`>= 0${c} and < 2${c} ** ${(u+1)*8}${c}`:p=`>= -(2${c} ** ${(u+1)*8-1}${c}) and < 2 ** ${(u+1)*8-1}${c}`:p=`>= ${t}${c} and <= ${r}${c}`,new Qi.ERR_OUT_OF_RANGE("value",p,e)}CM(i,o,u)}function Zi(e,t){if(typeof e!="number")throw new Qi.ERR_INVALID_ARG_TYPE(t,"number",e)}function go(e,t,r){throw Math.floor(e)!==e?(Zi(e,r),new Qi.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new Qi.ERR_BUFFER_OUT_OF_BOUNDS:new Qi.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var OM=/[^+/0-9A-Za-z-_]/g;function BM(e){if(e=e.split("=")[0],e=e.trim().replace(OM,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function pl(e,t){t=t||1/0;let r,i=e.length,o=null,u=[];for(let c=0;c<i;++c){if(r=e.charCodeAt(c),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&u.push(239,191,189);continue}else if(c+1===i){(t-=3)>-1&&u.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&u.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&u.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;u.push(r)}else if(r<2048){if((t-=2)<0)break;u.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;u.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;u.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return u}function MM(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function RM(e,t){let r,i,o,u=[];for(let c=0;c<e.length&&!((t-=2)<0);++c)r=e.charCodeAt(c),i=r>>8,o=r%256,u.push(o),u.push(i);return u}function fy(e){return ll.toByteArray(BM(e))}function yu(e,t,r,i){let o;for(o=0;o<i&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function tn(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function wl(e){return e!==e}var LM=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let o=0;o<16;++o)t[i+o]=e[r]+e[o]}return t}();function Dn(e){return typeof BigInt>"u"?PM:e}function PM(){throw new Error("BigInt not supported")}});var wu=U((T8,cy)=>{window.global=window;global.fetch=window.fetch;cy.exports.Buffer=mu().Buffer});var hy=U((s$,ly)=>{function NM(){this.__data__=[],this.size=0}ly.exports=NM});var bl=U((u$,dy)=>{function UM(e,t){return e===t||e!==e&&t!==t}dy.exports=UM});var wo=U((f$,py)=>{var FM=bl();function kM(e,t){for(var r=e.length;r--;)if(FM(e[r][0],t))return r;return-1}py.exports=kM});var yy=U((c$,gy)=>{var DM=wo(),qM=Array.prototype,$M=qM.splice;function WM(e){var t=this.__data__,r=DM(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():$M.call(t,r,1),--this.size,!0}gy.exports=WM});var wy=U((l$,my)=>{var GM=wo();function HM(e){var t=this.__data__,r=GM(t,e);return r<0?void 0:t[r][1]}my.exports=HM});var _y=U((h$,vy)=>{var jM=wo();function zM(e){return jM(this.__data__,e)>-1}vy.exports=zM});var xy=U((d$,by)=>{var KM=wo();function VM(e,t){var r=this.__data__,i=KM(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}by.exports=VM});var vo=U((p$,Sy)=>{var JM=hy(),QM=yy(),YM=wy(),ZM=_y(),XM=xy();function ra(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}ra.prototype.clear=JM;ra.prototype.delete=QM;ra.prototype.get=YM;ra.prototype.has=ZM;ra.prototype.set=XM;Sy.exports=ra});var Ay=U((g$,Ey)=>{var tR=vo();function eR(){this.__data__=new tR,this.size=0}Ey.exports=eR});var Iy=U((y$,Ty)=>{function rR(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}Ty.exports=rR});var Oy=U((m$,Cy)=>{function nR(e){return this.__data__.get(e)}Cy.exports=nR});var My=U((w$,By)=>{function iR(e){return this.__data__.has(e)}By.exports=iR});var xl=U((v$,Ry)=>{var aR=typeof global=="object"&&global&&global.Object===Object&&global;Ry.exports=aR});var Hr=U((_$,Ly)=>{var oR=xl(),sR=typeof self=="object"&&self&&self.Object===Object&&self,uR=oR||sR||Function("return this")();Ly.exports=uR});var Eu=U((b$,Py)=>{var fR=Hr(),cR=fR.Symbol;Py.exports=cR});var ky=U((x$,Fy)=>{var Ny=Eu(),Uy=Object.prototype,lR=Uy.hasOwnProperty,hR=Uy.toString,_o=Ny?Ny.toStringTag:void 0;function dR(e){var t=lR.call(e,_o),r=e[_o];try{e[_o]=void 0;var i=!0}catch(u){}var o=hR.call(e);return i&&(t?e[_o]=r:delete e[_o]),o}Fy.exports=dR});var qy=U((S$,Dy)=>{var pR=Object.prototype,gR=pR.toString;function yR(e){return gR.call(e)}Dy.exports=yR});var bo=U((E$,Gy)=>{var $y=Eu(),mR=ky(),wR=qy(),vR="[object Null]",_R="[object Undefined]",Wy=$y?$y.toStringTag:void 0;function bR(e){return e==null?e===void 0?_R:vR:Wy&&Wy in Object(e)?mR(e):wR(e)}Gy.exports=bR});var na=U((A$,Hy)=>{function xR(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Hy.exports=xR});var Sl=U((T$,jy)=>{var SR=bo(),ER=na(),AR="[object AsyncFunction]",TR="[object Function]",IR="[object GeneratorFunction]",CR="[object Proxy]";function OR(e){if(!ER(e))return!1;var t=SR(e);return t==TR||t==IR||t==AR||t==CR}jy.exports=OR});var Ky=U((I$,zy)=>{var BR=Hr(),MR=BR["__core-js_shared__"];zy.exports=MR});var Qy=U((C$,Jy)=>{var El=Ky(),Vy=function(){var e=/[^.]+$/.exec(El&&El.keys&&El.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RR(e){return!!Vy&&Vy in e}Jy.exports=RR});var Al=U((O$,Yy)=>{var LR=Function.prototype,PR=LR.toString;function NR(e){if(e!=null){try{return PR.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Yy.exports=NR});var Xy=U((B$,Zy)=>{var UR=Sl(),FR=Qy(),kR=na(),DR=Al(),qR=/[\\^$.*+?()[\]{}|]/g,$R=/^\[object .+?Constructor\]$/,WR=Function.prototype,GR=Object.prototype,HR=WR.toString,jR=GR.hasOwnProperty,zR=RegExp("^"+HR.call(jR).replace(qR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KR(e){if(!kR(e)||FR(e))return!1;var t=UR(e)?zR:$R;return t.test(DR(e))}Zy.exports=KR});var em=U((M$,tm)=>{function VR(e,t){return e==null?void 0:e[t]}tm.exports=VR});var qn=U((R$,rm)=>{var JR=Xy(),QR=em();function YR(e,t){var r=QR(e,t);return JR(r)?r:void 0}rm.exports=YR});var Au=U((L$,nm)=>{var ZR=qn(),XR=Hr(),t3=ZR(XR,"Map");nm.exports=t3});var xo=U((P$,im)=>{var e3=qn(),r3=e3(Object,"create");im.exports=r3});var sm=U((N$,om)=>{var am=xo();function n3(){this.__data__=am?am(null):{},this.size=0}om.exports=n3});var fm=U((U$,um)=>{function i3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}um.exports=i3});var lm=U((F$,cm)=>{var a3=xo(),o3="__lodash_hash_undefined__",s3=Object.prototype,u3=s3.hasOwnProperty;function f3(e){var t=this.__data__;if(a3){var r=t[e];return r===o3?void 0:r}return u3.call(t,e)?t[e]:void 0}cm.exports=f3});var dm=U((k$,hm)=>{var c3=xo(),l3=Object.prototype,h3=l3.hasOwnProperty;function d3(e){var t=this.__data__;return c3?t[e]!==void 0:h3.call(t,e)}hm.exports=d3});var gm=U((D$,pm)=>{var p3=xo(),g3="__lodash_hash_undefined__";function y3(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=p3&&t===void 0?g3:t,this}pm.exports=y3});var mm=U((q$,ym)=>{var m3=sm(),w3=fm(),v3=lm(),_3=dm(),b3=gm();function ia(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}ia.prototype.clear=m3;ia.prototype.delete=w3;ia.prototype.get=v3;ia.prototype.has=_3;ia.prototype.set=b3;ym.exports=ia});var _m=U(($$,vm)=>{var wm=mm(),x3=vo(),S3=Au();function E3(){this.size=0,this.__data__={hash:new wm,map:new(S3||x3),string:new wm}}vm.exports=E3});var xm=U((W$,bm)=>{function A3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}bm.exports=A3});var So=U((G$,Sm)=>{var T3=xm();function I3(e,t){var r=e.__data__;return T3(t)?r[typeof t=="string"?"string":"hash"]:r.map}Sm.exports=I3});var Am=U((H$,Em)=>{var C3=So();function O3(e){var t=C3(this,e).delete(e);return this.size-=t?1:0,t}Em.exports=O3});var Im=U((j$,Tm)=>{var B3=So();function M3(e){return B3(this,e).get(e)}Tm.exports=M3});var Om=U((z$,Cm)=>{var R3=So();function L3(e){return R3(this,e).has(e)}Cm.exports=L3});var Mm=U((K$,Bm)=>{var P3=So();function N3(e,t){var r=P3(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}Bm.exports=N3});var Lm=U((V$,Rm)=>{var U3=_m(),F3=Am(),k3=Im(),D3=Om(),q3=Mm();function aa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}aa.prototype.clear=U3;aa.prototype.delete=F3;aa.prototype.get=k3;aa.prototype.has=D3;aa.prototype.set=q3;Rm.exports=aa});var Nm=U((J$,Pm)=>{var $3=vo(),W3=Au(),G3=Lm(),H3=200;function j3(e,t){var r=this.__data__;if(r instanceof $3){var i=r.__data__;if(!W3||i.length<H3-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new G3(i)}return r.set(e,t),this.size=r.size,this}Pm.exports=j3});var Fm=U((Q$,Um)=>{var z3=vo(),K3=Ay(),V3=Iy(),J3=Oy(),Q3=My(),Y3=Nm();function oa(e){var t=this.__data__=new z3(e);this.size=t.size}oa.prototype.clear=K3;oa.prototype.delete=V3;oa.prototype.get=J3;oa.prototype.has=Q3;oa.prototype.set=Y3;Um.exports=oa});var Dm=U((Y$,km)=>{function Z3(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}km.exports=Z3});var $m=U((Z$,qm)=>{var X3=qn(),t6=function(){try{var e=X3(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();qm.exports=t6});var Tl=U((X$,Gm)=>{var Wm=$m();function e6(e,t,r){t=="__proto__"&&Wm?Wm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Gm.exports=e6});var Il=U((tW,Hm)=>{var r6=Tl(),n6=bl(),i6=Object.prototype,a6=i6.hasOwnProperty;function o6(e,t,r){var i=e[t];(!(a6.call(e,t)&&n6(i,r))||r===void 0&&!(t in e))&&r6(e,t,r)}Hm.exports=o6});var Eo=U((eW,jm)=>{var s6=Il(),u6=Tl();function f6(e,t,r,i){var o=!r;r||(r={});for(var u=-1,c=t.length;++u<c;){var p=t[u],w=i?i(r[p],e[p],p,r,e):void 0;w===void 0&&(w=e[p]),o?u6(r,p,w):s6(r,p,w)}return r}jm.exports=f6});var Km=U((rW,zm)=>{function c6(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}zm.exports=c6});var sa=U((nW,Vm)=>{function l6(e){return e!=null&&typeof e=="object"}Vm.exports=l6});var Qm=U((iW,Jm)=>{var h6=bo(),d6=sa(),p6="[object Arguments]";function g6(e){return d6(e)&&h6(e)==p6}Jm.exports=g6});var tw=U((aW,Xm)=>{var Ym=Qm(),y6=sa(),Zm=Object.prototype,m6=Zm.hasOwnProperty,w6=Zm.propertyIsEnumerable,v6=Ym(function(){return arguments}())?Ym:function(e){return y6(e)&&m6.call(e,"callee")&&!w6.call(e,"callee")};Xm.exports=v6});var Tu=U((oW,ew)=>{var _6=Array.isArray;ew.exports=_6});var nw=U((sW,rw)=>{function b6(){return!1}rw.exports=b6});var Cl=U((Ao,ua)=>{var x6=Hr(),S6=nw(),ow=typeof Ao=="object"&&Ao&&!Ao.nodeType&&Ao,iw=ow&&typeof ua=="object"&&ua&&!ua.nodeType&&ua,E6=iw&&iw.exports===ow,aw=E6?x6.Buffer:void 0,A6=aw?aw.isBuffer:void 0,T6=A6||S6;ua.exports=T6});var uw=U((uW,sw)=>{var I6=9007199254740991,C6=/^(?:0|[1-9]\d*)$/;function O6(e,t){var r=typeof e;return t=t==null?I6:t,!!t&&(r=="number"||r!="symbol"&&C6.test(e))&&e>-1&&e%1==0&&e<t}sw.exports=O6});var Ol=U((fW,fw)=>{var B6=9007199254740991;function M6(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B6}fw.exports=M6});var lw=U((cW,cw)=>{var R6=bo(),L6=Ol(),P6=sa(),N6="[object Arguments]",U6="[object Array]",F6="[object Boolean]",k6="[object Date]",D6="[object Error]",q6="[object Function]",$6="[object Map]",W6="[object Number]",G6="[object Object]",H6="[object RegExp]",j6="[object Set]",z6="[object String]",K6="[object WeakMap]",V6="[object ArrayBuffer]",J6="[object DataView]",Q6="[object Float32Array]",Y6="[object Float64Array]",Z6="[object Int8Array]",X6="[object Int16Array]",tL="[object Int32Array]",eL="[object Uint8Array]",rL="[object Uint8ClampedArray]",nL="[object Uint16Array]",iL="[object Uint32Array]",pe={};pe[Q6]=pe[Y6]=pe[Z6]=pe[X6]=pe[tL]=pe[eL]=pe[rL]=pe[nL]=pe[iL]=!0;pe[N6]=pe[U6]=pe[V6]=pe[F6]=pe[J6]=pe[k6]=pe[D6]=pe[q6]=pe[$6]=pe[W6]=pe[G6]=pe[H6]=pe[j6]=pe[z6]=pe[K6]=!1;function aL(e){return P6(e)&&L6(e.length)&&!!pe[R6(e)]}cw.exports=aL});var Iu=U((lW,hw)=>{function oL(e){return function(t){return e(t)}}hw.exports=oL});var Cu=U((To,fa)=>{var sL=xl(),dw=typeof To=="object"&&To&&!To.nodeType&&To,Io=dw&&typeof fa=="object"&&fa&&!fa.nodeType&&fa,uL=Io&&Io.exports===dw,Bl=uL&&sL.process,fL=function(){try{var e=Io&&Io.require&&Io.require("util").types;return e||Bl&&Bl.binding&&Bl.binding("util")}catch(t){}}();fa.exports=fL});var mw=U((hW,yw)=>{var cL=lw(),lL=Iu(),pw=Cu(),gw=pw&&pw.isTypedArray,hL=gw?lL(gw):cL;yw.exports=hL});var Ml=U((dW,ww)=>{var dL=Km(),pL=tw(),gL=Tu(),yL=Cl(),mL=uw(),wL=mw(),vL=Object.prototype,_L=vL.hasOwnProperty;function bL(e,t){var r=gL(e),i=!r&&pL(e),o=!r&&!i&&yL(e),u=!r&&!i&&!o&&wL(e),c=r||i||o||u,p=c?dL(e.length,String):[],w=p.length;for(var M in e)(t||_L.call(e,M))&&!(c&&(M=="length"||o&&(M=="offset"||M=="parent")||u&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||mL(M,w)))&&p.push(M);return p}ww.exports=bL});var Ou=U((pW,vw)=>{var xL=Object.prototype;function SL(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xL;return e===r}vw.exports=SL});var Rl=U((gW,_w)=>{function EL(e,t){return function(r){return e(t(r))}}_w.exports=EL});var xw=U((yW,bw)=>{var AL=Rl(),TL=AL(Object.keys,Object);bw.exports=TL});var Ew=U((mW,Sw)=>{var IL=Ou(),CL=xw(),OL=Object.prototype,BL=OL.hasOwnProperty;function ML(e){if(!IL(e))return CL(e);var t=[];for(var r in Object(e))BL.call(e,r)&&r!="constructor"&&t.push(r);return t}Sw.exports=ML});var Ll=U((wW,Aw)=>{var RL=Sl(),LL=Ol();function PL(e){return e!=null&&LL(e.length)&&!RL(e)}Aw.exports=PL});var Bu=U((vW,Tw)=>{var NL=Ml(),UL=Ew(),FL=Ll();function kL(e){return FL(e)?NL(e):UL(e)}Tw.exports=kL});var Cw=U((_W,Iw)=>{var DL=Eo(),qL=Bu();function $L(e,t){return e&&DL(t,qL(t),e)}Iw.exports=$L});var Bw=U((bW,Ow)=>{function WL(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}Ow.exports=WL});var Rw=U((xW,Mw)=>{var GL=na(),HL=Ou(),jL=Bw(),zL=Object.prototype,KL=zL.hasOwnProperty;function VL(e){if(!GL(e))return jL(e);var t=HL(e),r=[];for(var i in e)i=="constructor"&&(t||!KL.call(e,i))||r.push(i);return r}Mw.exports=VL});var Mu=U((SW,Lw)=>{var JL=Ml(),QL=Rw(),YL=Ll();function ZL(e){return YL(e)?JL(e,!0):QL(e)}Lw.exports=ZL});var Nw=U((EW,Pw)=>{var XL=Eo(),tP=Mu();function eP(e,t){return e&&XL(t,tP(t),e)}Pw.exports=eP});var qw=U((Co,ca)=>{var rP=Hr(),Dw=typeof Co=="object"&&Co&&!Co.nodeType&&Co,Uw=Dw&&typeof ca=="object"&&ca&&!ca.nodeType&&ca,nP=Uw&&Uw.exports===Dw,Fw=nP?rP.Buffer:void 0,kw=Fw?Fw.allocUnsafe:void 0;function iP(e,t){if(t)return e.slice();var r=e.length,i=kw?kw(r):new e.constructor(r);return e.copy(i),i}ca.exports=iP});var Ww=U((AW,$w)=>{function aP(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}$w.exports=aP});var Hw=U((TW,Gw)=>{function oP(e,t){for(var r=-1,i=e==null?0:e.length,o=0,u=[];++r<i;){var c=e[r];t(c,r,e)&&(u[o++]=c)}return u}Gw.exports=oP});var Pl=U((IW,jw)=>{function sP(){return[]}jw.exports=sP});var Ru=U((CW,Kw)=>{var uP=Hw(),fP=Pl(),cP=Object.prototype,lP=cP.propertyIsEnumerable,zw=Object.getOwnPropertySymbols,hP=zw?function(e){return e==null?[]:(e=Object(e),uP(zw(e),function(t){return lP.call(e,t)}))}:fP;Kw.exports=hP});var Jw=U((OW,Vw)=>{var dP=Eo(),pP=Ru();function gP(e,t){return dP(e,pP(e),t)}Vw.exports=gP});var Nl=U((BW,Qw)=>{function yP(e,t){for(var r=-1,i=t.length,o=e.length;++r<i;)e[o+r]=t[r];return e}Qw.exports=yP});var Ul=U((MW,Yw)=>{var mP=Rl(),wP=mP(Object.getPrototypeOf,Object);Yw.exports=wP});var Fl=U((RW,Zw)=>{var vP=Nl(),_P=Ul(),bP=Ru(),xP=Pl(),SP=Object.getOwnPropertySymbols,EP=SP?function(e){for(var t=[];e;)vP(t,bP(e)),e=_P(e);return t}:xP;Zw.exports=EP});var tv=U((LW,Xw)=>{var AP=Eo(),TP=Fl();function IP(e,t){return AP(e,TP(e),t)}Xw.exports=IP});var kl=U((PW,ev)=>{var CP=Nl(),OP=Tu();function BP(e,t,r){var i=t(e);return OP(e)?i:CP(i,r(e))}ev.exports=BP});var nv=U((NW,rv)=>{var MP=kl(),RP=Ru(),LP=Bu();function PP(e){return MP(e,LP,RP)}rv.exports=PP});var av=U((UW,iv)=>{var NP=kl(),UP=Fl(),FP=Mu();function kP(e){return NP(e,FP,UP)}iv.exports=kP});var sv=U((FW,ov)=>{var DP=qn(),qP=Hr(),$P=DP(qP,"DataView");ov.exports=$P});var fv=U((kW,uv)=>{var WP=qn(),GP=Hr(),HP=WP(GP,"Promise");uv.exports=HP});var lv=U((DW,cv)=>{var jP=qn(),zP=Hr(),KP=jP(zP,"Set");cv.exports=KP});var dv=U((qW,hv)=>{var VP=qn(),JP=Hr(),QP=VP(JP,"WeakMap");hv.exports=QP});var Lu=U(($W,_v)=>{var Dl=sv(),ql=Au(),$l=fv(),Wl=lv(),Gl=dv(),vv=bo(),la=Al(),pv="[object Map]",YP="[object Object]",gv="[object Promise]",yv="[object Set]",mv="[object WeakMap]",wv="[object DataView]",ZP=la(Dl),XP=la(ql),t4=la($l),e4=la(Wl),r4=la(Gl),pi=vv;(Dl&&pi(new Dl(new ArrayBuffer(1)))!=wv||ql&&pi(new ql)!=pv||$l&&pi($l.resolve())!=gv||Wl&&pi(new Wl)!=yv||Gl&&pi(new Gl)!=mv)&&(pi=function(e){var t=vv(e),r=t==YP?e.constructor:void 0,i=r?la(r):"";if(i)switch(i){case ZP:return wv;case XP:return pv;case t4:return gv;case e4:return yv;case r4:return mv}return t});_v.exports=pi});var xv=U((WW,bv)=>{var n4=Object.prototype,i4=n4.hasOwnProperty;function a4(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&i4.call(e,"index")&&(r.index=e.index,r.input=e.input),r}bv.exports=a4});var Ev=U((GW,Sv)=>{var o4=Hr(),s4=o4.Uint8Array;Sv.exports=s4});var Pu=U((HW,Tv)=>{var Av=Ev();function u4(e){var t=new e.constructor(e.byteLength);return new Av(t).set(new Av(e)),t}Tv.exports=u4});var Cv=U((jW,Iv)=>{var f4=Pu();function c4(e,t){var r=t?f4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}Iv.exports=c4});var Bv=U((zW,Ov)=>{var l4=/\w*$/;function h4(e){var t=new e.constructor(e.source,l4.exec(e));return t.lastIndex=e.lastIndex,t}Ov.exports=h4});var Nv=U((KW,Pv)=>{var Mv=Eu(),Rv=Mv?Mv.prototype:void 0,Lv=Rv?Rv.valueOf:void 0;function d4(e){return Lv?Object(Lv.call(e)):{}}Pv.exports=d4});var Fv=U((VW,Uv)=>{var p4=Pu();function g4(e,t){var r=t?p4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}Uv.exports=g4});var Dv=U((JW,kv)=>{var y4=Pu(),m4=Cv(),w4=Bv(),v4=Nv(),_4=Fv(),b4="[object Boolean]",x4="[object Date]",S4="[object Map]",E4="[object Number]",A4="[object RegExp]",T4="[object Set]",I4="[object String]",C4="[object Symbol]",O4="[object ArrayBuffer]",B4="[object DataView]",M4="[object Float32Array]",R4="[object Float64Array]",L4="[object Int8Array]",P4="[object Int16Array]",N4="[object Int32Array]",U4="[object Uint8Array]",F4="[object Uint8ClampedArray]",k4="[object Uint16Array]",D4="[object Uint32Array]";function q4(e,t,r){var i=e.constructor;switch(t){case O4:return y4(e);case b4:case x4:return new i(+e);case B4:return m4(e,r);case M4:case R4:case L4:case P4:case N4:case U4:case F4:case k4:case D4:return _4(e,r);case S4:return new i;case E4:case I4:return new i(e);case A4:return w4(e);case T4:return new i;case C4:return v4(e)}}kv.exports=q4});var Wv=U((QW,$v)=>{var $4=na(),qv=Object.create,W4=function(){function e(){}return function(t){if(!$4(t))return{};if(qv)return qv(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();$v.exports=W4});var Hv=U((YW,Gv)=>{var G4=Wv(),H4=Ul(),j4=Ou();function z4(e){return typeof e.constructor=="function"&&!j4(e)?G4(H4(e)):{}}Gv.exports=z4});var zv=U((ZW,jv)=>{var K4=Lu(),V4=sa(),J4="[object Map]";function Q4(e){return V4(e)&&K4(e)==J4}jv.exports=Q4});var Qv=U((XW,Jv)=>{var Y4=zv(),Z4=Iu(),Kv=Cu(),Vv=Kv&&Kv.isMap,X4=Vv?Z4(Vv):Y4;Jv.exports=X4});var Zv=U((t5,Yv)=>{var tN=Lu(),eN=sa(),rN="[object Set]";function nN(e){return eN(e)&&tN(e)==rN}Yv.exports=nN});var r_=U((e5,e_)=>{var iN=Zv(),aN=Iu(),Xv=Cu(),t_=Xv&&Xv.isSet,oN=t_?aN(t_):iN;e_.exports=oN});var s_=U((r5,o_)=>{var sN=Fm(),uN=Dm(),fN=Il(),cN=Cw(),lN=Nw(),hN=qw(),dN=Ww(),pN=Jw(),gN=tv(),yN=nv(),mN=av(),wN=Lu(),vN=xv(),_N=Dv(),bN=Hv(),xN=Tu(),SN=Cl(),EN=Qv(),AN=na(),TN=r_(),IN=Bu(),CN=Mu(),ON=1,BN=2,MN=4,n_="[object Arguments]",RN="[object Array]",LN="[object Boolean]",PN="[object Date]",NN="[object Error]",i_="[object Function]",UN="[object GeneratorFunction]",FN="[object Map]",kN="[object Number]",a_="[object Object]",DN="[object RegExp]",qN="[object Set]",$N="[object String]",WN="[object Symbol]",GN="[object WeakMap]",HN="[object ArrayBuffer]",jN="[object DataView]",zN="[object Float32Array]",KN="[object Float64Array]",VN="[object Int8Array]",JN="[object Int16Array]",QN="[object Int32Array]",YN="[object Uint8Array]",ZN="[object Uint8ClampedArray]",XN="[object Uint16Array]",tU="[object Uint32Array]",le={};le[n_]=le[RN]=le[HN]=le[jN]=le[LN]=le[PN]=le[zN]=le[KN]=le[VN]=le[JN]=le[QN]=le[FN]=le[kN]=le[a_]=le[DN]=le[qN]=le[$N]=le[WN]=le[YN]=le[ZN]=le[XN]=le[tU]=!0;le[NN]=le[i_]=le[GN]=!1;function Nu(e,t,r,i,o,u){var c,p=t&ON,w=t&BN,M=t&MN;if(r&&(c=o?r(e,i,o,u):r(e)),c!==void 0)return c;if(!AN(e))return e;var C=xN(e);if(C){if(c=vN(e),!p)return dN(e,c)}else{var O=wN(e),I=O==i_||O==UN;if(SN(e))return hN(e,p);if(O==a_||O==n_||I&&!o){if(c=w||I?{}:bN(e),!p)return w?gN(e,lN(c,e)):pN(e,cN(c,e))}else{if(!le[O])return o?e:{};c=_N(e,O,p)}}u||(u=new sN);var S=u.get(e);if(S)return S;u.set(e,c),TN(e)?e.forEach(function(Q){c.add(Nu(Q,t,r,Q,e,u))}):EN(e)&&e.forEach(function(Q,J){c.set(J,Nu(Q,t,r,J,e,u))});var N=M?w?mN:yN:w?CN:IN,k=C?void 0:N(e);return uN(k||e,function(Q,J){k&&(J=Q,Q=e[J]),fN(c,J,Nu(Q,t,r,J,e,u))}),c}o_.exports=Nu});var f_=U((n5,u_)=>{var eU=s_(),rU=1,nU=4;function iU(e){return eU(e,rU|nU)}u_.exports=iU});var c_=U((Hl,jl)=>{(function(e,t){typeof Hl=="object"&&typeof jl<"u"?jl.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e["fast-copy"]=t())})(Hl,function(){"use strict";var e=Function.prototype.toString,t=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,p=Object.prototype,w=p.hasOwnProperty,M=p.propertyIsEnumerable,C={SYMBOL_PROPERTIES:typeof u=="function",WEAKMAP:typeof WeakMap=="function"},O=function(){if(C.WEAKMAP)return new WeakMap;var Z=t({has:function(st){return!!~Z._keys.indexOf(st)},set:function(st,et){Z._keys.push(st),Z._values.push(et)},get:function(st){return Z._values[Z._keys.indexOf(st)]}});return Z._keys=[],Z._values=[],Z},I=function(Z,st){if(!Z.constructor)return t(null);var et=Z.constructor,nt=Z.__proto__||c(Z);if(et===st.Object)return nt===st.Object.prototype?{}:t(nt);if(~e.call(et).indexOf("[native code]"))try{return new et}catch(dt){}return t(nt)},S=function(Z,st,et,nt){var dt=I(Z,st);nt.set(Z,dt);for(var gt in Z)w.call(Z,gt)&&(dt[gt]=et(Z[gt],nt));if(C.SYMBOL_PROPERTIES){var K=u(Z),A=K.length;if(A)for(var f=0,l=void 0;f<A;f++)l=K[f],M.call(Z,l)&&(dt[l]=et(Z[l],nt))}return dt},N=function(Z,st,et,nt){var dt=I(Z,st);nt.set(Z,dt);var gt=C.SYMBOL_PROPERTIES?o(Z).concat(u(Z)):o(Z),K=gt.length;if(K){for(var A=0,f=void 0,l=void 0;A<K;A++)if(f=gt[A],f!=="callee"&&f!=="caller")if(l=i(Z,f),l){!l.get&&!l.set&&(l.value=et(Z[f],nt));try{r(dt,f,l)}catch(y){dt[f]=l.value}}else dt[f]=et(Z[f],nt)}return dt},k=function(Z){var st="";return Z.global&&(st+="g"),Z.ignoreCase&&(st+="i"),Z.multiline&&(st+="m"),Z.unicode&&(st+="u"),Z.sticky&&(st+="y"),st},Q=Array.isArray,J=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;console&&console.error&&console.error('Unable to locate global object, returning "this".')}();function ft(Z,st){var et=!!(st&&st.isStrict),nt=st&&st.realm||J,dt=et?N:S,gt=function(K,A){if(!K||typeof K!="object")return K;if(A.has(K))return A.get(K);var f=K.constructor;if(f===nt.Object)return dt(K,nt,gt,A);var l;if(Q(K)){if(et)return N(K,nt,gt,A);var y=K.length;l=new f,A.set(K,l);for(var v=0;v<y;v++)l[v]=gt(K[v],A);return l}if(K instanceof nt.Date)return new f(K.getTime());if(K instanceof nt.RegExp)return l=new f(K.source,K.flags||k(K)),l.lastIndex=K.lastIndex,l;if(nt.Map&&K instanceof nt.Map)return l=new f,A.set(K,l),K.forEach(function(E,R){l.set(R,gt(E,A))}),l;if(nt.Set&&K instanceof nt.Set)return l=new f,A.set(K,l),K.forEach(function(E){l.add(gt(E,A))}),l;if(nt.Blob&&K instanceof nt.Blob)return K.slice(0,K.size,K.type);if(nt.Buffer&&nt.Buffer.isBuffer(K))return l=nt.Buffer.allocUnsafe?nt.Buffer.allocUnsafe(K.length):new f(K.length),A.set(K,l),K.copy(l),l;if(nt.ArrayBuffer){if(nt.ArrayBuffer.isView(K))return l=new f(K.buffer.slice(0)),A.set(K,l),l;if(K instanceof nt.ArrayBuffer)return l=K.slice(0),A.set(K,l),l}return typeof K.then=="function"||K instanceof Error||nt.WeakMap&&K instanceof nt.WeakMap||nt.WeakSet&&K instanceof nt.WeakSet?K:dt(K,nt,gt,A)};return gt(Z,O())}return ft.default=ft,ft.strict=function(st,et){return ft(st,{isStrict:!0,realm:et?et.realm:void 0})},ft})});var ku=U((d_,Fu)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,u="[BigNumber Error] ",c=u+"Number primitive has more than 15 significant digits: ",p=1e14,w=14,M=9007199254740991,C=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],O=1e7,I=1e9;function S(et){var nt,dt,gt,K=q.prototype={constructor:q,toString:null,valueOf:null},A=new q(1),f=20,l=4,y=-7,v=21,E=-1e7,R=1e7,D=!1,T=1,d=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},rt="0123456789abcdefghijklmnopqrstuvwxyz",at=!0;function q(x,B){var P,j,G,z,X,$,W,Y,tt=this;if(!(tt instanceof q))return new q(x,B);if(B==null){if(x&&x._isBigNumber===!0){tt.s=x.s,!x.c||x.e>R?tt.c=tt.e=null:x.e<E?tt.c=[tt.e=0]:(tt.e=x.e,tt.c=x.c.slice());return}if(($=typeof x=="number")&&x*0==0){if(tt.s=1/x<0?(x=-x,-1):1,x===~~x){for(z=0,X=x;X>=10;X/=10,z++);z>R?tt.c=tt.e=null:(tt.e=z,tt.c=[x]);return}Y=String(x)}else{if(!r.test(Y=String(x)))return gt(tt,Y,$);tt.s=Y.charCodeAt(0)==45?(Y=Y.slice(1),-1):1}(z=Y.indexOf("."))>-1&&(Y=Y.replace(".","")),(X=Y.search(/e/i))>0?(z<0&&(z=X),z+=+Y.slice(X+1),Y=Y.substring(0,X)):z<0&&(z=Y.length)}else{if(J(B,2,rt.length,"Base"),B==10&&at)return tt=new q(x),Pt(tt,f+tt.e+1,l);if(Y=String(x),$=typeof x=="number"){if(x*0!=0)return gt(tt,Y,$,B);if(tt.s=1/x<0?(Y=Y.slice(1),-1):1,q.DEBUG&&Y.replace(/^0\.0*|\./,"").length>15)throw Error(c+x)}else tt.s=Y.charCodeAt(0)===45?(Y=Y.slice(1),-1):1;for(P=rt.slice(0,B),z=X=0,W=Y.length;X<W;X++)if(P.indexOf(j=Y.charAt(X))<0){if(j=="."){if(X>z){z=W;continue}}else if(!G&&(Y==Y.toUpperCase()&&(Y=Y.toLowerCase())||Y==Y.toLowerCase()&&(Y=Y.toUpperCase()))){G=!0,X=-1,z=0;continue}return gt(tt,String(x),$,B)}$=!1,Y=dt(Y,B,10,tt.s),(z=Y.indexOf("."))>-1?Y=Y.replace(".",""):z=Y.length}for(X=0;Y.charCodeAt(X)===48;X++);for(W=Y.length;Y.charCodeAt(--W)===48;);if(Y=Y.slice(X,++W)){if(W-=X,$&&q.DEBUG&&W>15&&(x>M||x!==o(x)))throw Error(c+tt.s*x);if((z=z-X-1)>R)tt.c=tt.e=null;else if(z<E)tt.c=[tt.e=0];else{if(tt.e=z,tt.c=[],X=(z+1)%w,z<0&&(X+=w),X<W){for(X&&tt.c.push(+Y.slice(0,X)),W-=w;X<W;)tt.c.push(+Y.slice(X,X+=w));X=w-(Y=Y.slice(X)).length}else X-=W;for(;X--;Y+="0");tt.c.push(+Y)}}else tt.c=[tt.e=0]}q.clone=S,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(x){var B,P;if(x!=null)if(typeof x=="object"){if(x.hasOwnProperty(B="DECIMAL_PLACES")&&(P=x[B],J(P,0,I,B),f=P),x.hasOwnProperty(B="ROUNDING_MODE")&&(P=x[B],J(P,0,8,B),l=P),x.hasOwnProperty(B="EXPONENTIAL_AT")&&(P=x[B],P&&P.pop?(J(P[0],-I,0,B),J(P[1],0,I,B),y=P[0],v=P[1]):(J(P,-I,I,B),y=-(v=P<0?-P:P))),x.hasOwnProperty(B="RANGE"))if(P=x[B],P&&P.pop)J(P[0],-I,-1,B),J(P[1],1,I,B),E=P[0],R=P[1];else if(J(P,-I,I,B),P)E=-(R=P<0?-P:P);else throw Error(u+B+" cannot be zero: "+P);if(x.hasOwnProperty(B="CRYPTO"))if(P=x[B],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))D=P;else throw D=!P,Error(u+"crypto unavailable");else D=P;else throw Error(u+B+" not true or false: "+P);if(x.hasOwnProperty(B="MODULO_MODE")&&(P=x[B],J(P,0,9,B),T=P),x.hasOwnProperty(B="POW_PRECISION")&&(P=x[B],J(P,0,I,B),d=P),x.hasOwnProperty(B="FORMAT"))if(P=x[B],typeof P=="object")m=P;else throw Error(u+B+" not an object: "+P);if(x.hasOwnProperty(B="ALPHABET"))if(P=x[B],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))at=P.slice(0,10)=="0123456789",rt=P;else throw Error(u+B+" invalid: "+P)}else throw Error(u+"Object expected: "+x);return{DECIMAL_PLACES:f,ROUNDING_MODE:l,EXPONENTIAL_AT:[y,v],RANGE:[E,R],CRYPTO:D,MODULO_MODE:T,POW_PRECISION:d,FORMAT:m,ALPHABET:rt}},q.isBigNumber=function(x){if(!x||x._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var B,P,j=x.c,G=x.e,z=x.s;t:if({}.toString.call(j)=="[object Array]"){if((z===1||z===-1)&&G>=-I&&G<=I&&G===o(G)){if(j[0]===0){if(G===0&&j.length===1)return!0;break t}if(B=(G+1)%w,B<1&&(B+=w),String(j[0]).length==B){for(B=0;B<j.length;B++)if(P=j[B],P<0||P>=p||P!==o(P))break t;if(P!==0)return!0}}}else if(j===null&&G===null&&(z===null||z===1||z===-1))return!0;throw Error(u+"Invalid BigNumber: "+x)},q.maximum=q.max=function(){return Mt(arguments,K.lt)},q.minimum=q.min=function(){return Mt(arguments,K.gt)},q.random=function(){var x=9007199254740992,B=Math.random()*x&2097151?function(){return o(Math.random()*x)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var j,G,z,X,$,W=0,Y=[],tt=new q(A);if(P==null?P=f:J(P,0,I),X=i(P/w),D)if(crypto.getRandomValues){for(j=crypto.getRandomValues(new Uint32Array(X*=2));W<X;)$=j[W]*131072+(j[W+1]>>>11),$>=9e15?(G=crypto.getRandomValues(new Uint32Array(2)),j[W]=G[0],j[W+1]=G[1]):(Y.push($%1e14),W+=2);W=X/2}else if(crypto.randomBytes){for(j=crypto.randomBytes(X*=7);W<X;)$=(j[W]&31)*281474976710656+j[W+1]*1099511627776+j[W+2]*4294967296+j[W+3]*16777216+(j[W+4]<<16)+(j[W+5]<<8)+j[W+6],$>=9e15?crypto.randomBytes(7).copy(j,W):(Y.push($%1e14),W+=7);W=X/7}else throw D=!1,Error(u+"crypto unavailable");if(!D)for(;W<X;)$=B(),$<9e15&&(Y[W++]=$%1e14);for(X=Y[--W],P%=w,X&&P&&($=C[w-P],Y[W]=o(X/$)*$);Y[W]===0;Y.pop(),W--);if(W<0)Y=[z=0];else{for(z=-1;Y[0]===0;Y.splice(0,1),z-=w);for(W=1,$=Y[0];$>=10;$/=10,W++);W<w&&(z-=w-W)}return tt.e=z,tt.c=Y,tt}}(),q.sum=function(){for(var x=1,B=arguments,P=new q(B[0]);x<B.length;)P=P.plus(B[x++]);return P},dt=function(){var x="0123456789";function B(P,j,G,z){for(var X,$=[0],W,Y=0,tt=P.length;Y<tt;){for(W=$.length;W--;$[W]*=j);for($[0]+=z.indexOf(P.charAt(Y++)),X=0;X<$.length;X++)$[X]>G-1&&($[X+1]==null&&($[X+1]=0),$[X+1]+=$[X]/G|0,$[X]%=G)}return $.reverse()}return function(P,j,G,z,X){var $,W,Y,tt,ot,mt,St,xt,Rt=P.indexOf("."),oe=f,_t=l;for(Rt>=0&&(tt=d,d=0,P=P.replace(".",""),xt=new q(j),mt=xt.pow(P.length-Rt),d=tt,xt.c=B(st(k(mt.c),mt.e,"0"),10,G,x),xt.e=xt.c.length),St=B(P,j,G,X?($=rt,x):($=x,rt)),Y=tt=St.length;St[--tt]==0;St.pop());if(!St[0])return $.charAt(0);if(Rt<0?--Y:(mt.c=St,mt.e=Y,mt.s=z,mt=nt(mt,xt,oe,_t,G),St=mt.c,ot=mt.r,Y=mt.e),W=Y+oe+1,Rt=St[W],tt=G/2,ot=ot||W<0||St[W+1]!=null,ot=_t<4?(Rt!=null||ot)&&(_t==0||_t==(mt.s<0?3:2)):Rt>tt||Rt==tt&&(_t==4||ot||_t==6&&St[W-1]&1||_t==(mt.s<0?8:7)),W<1||!St[0])P=ot?st($.charAt(1),-oe,$.charAt(0)):$.charAt(0);else{if(St.length=W,ot)for(--G;++St[--W]>G;)St[W]=0,W||(++Y,St=[1].concat(St));for(tt=St.length;!St[--tt];);for(Rt=0,P="";Rt<=tt;P+=$.charAt(St[Rt++]));P=st(P,Y,$.charAt(0))}return P}}(),nt=function(){function x(j,G,z){var X,$,W,Y,tt=0,ot=j.length,mt=G%O,St=G/O|0;for(j=j.slice();ot--;)W=j[ot]%O,Y=j[ot]/O|0,X=St*W+Y*mt,$=mt*W+X%O*O+tt,tt=($/z|0)+(X/O|0)+St*Y,j[ot]=$%z;return tt&&(j=[tt].concat(j)),j}function B(j,G,z,X){var $,W;if(z!=X)W=z>X?1:-1;else for($=W=0;$<z;$++)if(j[$]!=G[$]){W=j[$]>G[$]?1:-1;break}return W}function P(j,G,z,X){for(var $=0;z--;)j[z]-=$,$=j[z]<G[z]?1:0,j[z]=$*X+j[z]-G[z];for(;!j[0]&&j.length>1;j.splice(0,1));}return function(j,G,z,X,$){var W,Y,tt,ot,mt,St,xt,Rt,oe,_t,Tt,we,ne,se,Vr,Jt,te,De=j.s==G.s?1:-1,qt=j.c,Lt=G.c;if(!qt||!qt[0]||!Lt||!Lt[0])return new q(!j.s||!G.s||(qt?Lt&&qt[0]==Lt[0]:!Lt)?NaN:qt&&qt[0]==0||!Lt?De*0:De/0);for(Rt=new q(De),oe=Rt.c=[],Y=j.e-G.e,De=z+Y+1,$||($=p,Y=N(j.e/w)-N(G.e/w),De=De/w|0),tt=0;Lt[tt]==(qt[tt]||0);tt++);if(Lt[tt]>(qt[tt]||0)&&Y--,De<0)oe.push(1),ot=!0;else{for(se=qt.length,Jt=Lt.length,tt=0,De+=2,mt=o($/(Lt[0]+1)),mt>1&&(Lt=x(Lt,mt,$),qt=x(qt,mt,$),Jt=Lt.length,se=qt.length),ne=Jt,_t=qt.slice(0,Jt),Tt=_t.length;Tt<Jt;_t[Tt++]=0);te=Lt.slice(),te=[0].concat(te),Vr=Lt[0],Lt[1]>=$/2&&Vr++;do{if(mt=0,W=B(Lt,_t,Jt,Tt),W<0){if(we=_t[0],Jt!=Tt&&(we=we*$+(_t[1]||0)),mt=o(we/Vr),mt>1)for(mt>=$&&(mt=$-1),St=x(Lt,mt,$),xt=St.length,Tt=_t.length;B(St,_t,xt,Tt)==1;)mt--,P(St,Jt<xt?te:Lt,xt,$),xt=St.length,W=1;else mt==0&&(W=mt=1),St=Lt.slice(),xt=St.length;if(xt<Tt&&(St=[0].concat(St)),P(_t,St,Tt,$),Tt=_t.length,W==-1)for(;B(Lt,_t,Jt,Tt)<1;)mt++,P(_t,Jt<Tt?te:Lt,Tt,$),Tt=_t.length}else W===0&&(mt++,_t=[0]);oe[tt++]=mt,_t[0]?_t[Tt++]=qt[ne]||0:(_t=[qt[ne]],Tt=1)}while((ne++<se||_t[0]!=null)&&De--);ot=_t[0]!=null,oe[0]||oe.splice(0,1)}if($==p){for(tt=1,De=oe[0];De>=10;De/=10,tt++);Pt(Rt,z+(Rt.e=tt+Y*w-1)+1,X,ot)}else Rt.e=Y,Rt.r=+ot;return Rt}}();function yt(x,B,P,j){var G,z,X,$,W;if(P==null?P=l:J(P,0,8),!x.c)return x.toString();if(G=x.c[0],X=x.e,B==null)W=k(x.c),W=j==1||j==2&&(X<=y||X>=v)?Z(W,X):st(W,X,"0");else if(x=Pt(new q(x),B,P),z=x.e,W=k(x.c),$=W.length,j==1||j==2&&(B<=z||z<=y)){for(;$<B;W+="0",$++);W=Z(W,z)}else if(B-=X,W=st(W,z,"0"),z+1>$){if(--B>0)for(W+=".";B--;W+="0");}else if(B+=z-$,B>0)for(z+1==$&&(W+=".");B--;W+="0");return x.s<0&&G?"-"+W:W}function Mt(x,B){for(var P,j=1,G=new q(x[0]);j<x.length;j++)if(P=new q(x[j]),P.s)B.call(G,P)&&(G=P);else{G=P;break}return G}function Et(x,B,P){for(var j=1,G=B.length;!B[--G];B.pop());for(G=B[0];G>=10;G/=10,j++);return(P=j+P*w-1)>R?x.c=x.e=null:P<E?x.c=[x.e=0]:(x.e=P,x.c=B),x}gt=function(){var x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,P=/^\.([^.]+)$/,j=/^-?(Infinity|NaN)$/,G=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(z,X,$,W){var Y,tt=$?X:X.replace(G,"");if(j.test(tt))z.s=isNaN(tt)?null:tt<0?-1:1;else{if(!$&&(tt=tt.replace(x,function(ot,mt,St){return Y=(St=St.toLowerCase())=="x"?16:St=="b"?2:8,!W||W==Y?mt:ot}),W&&(Y=W,tt=tt.replace(B,"$1").replace(P,"0.$1")),X!=tt))return new q(tt,Y);if(q.DEBUG)throw Error(u+"Not a"+(W?" base "+W:"")+" number: "+X);z.s=null}z.c=z.e=null}}();function Pt(x,B,P,j){var G,z,X,$,W,Y,tt,ot=x.c,mt=C;if(ot){t:{for(G=1,$=ot[0];$>=10;$/=10,G++);if(z=B-G,z<0)z+=w,X=B,W=ot[Y=0],tt=W/mt[G-X-1]%10|0;else if(Y=i((z+1)/w),Y>=ot.length)if(j){for(;ot.length<=Y;ot.push(0));W=tt=0,G=1,z%=w,X=z-w+1}else break t;else{for(W=$=ot[Y],G=1;$>=10;$/=10,G++);z%=w,X=z-w+G,tt=X<0?0:W/mt[G-X-1]%10|0}if(j=j||B<0||ot[Y+1]!=null||(X<0?W:W%mt[G-X-1]),j=P<4?(tt||j)&&(P==0||P==(x.s<0?3:2)):tt>5||tt==5&&(P==4||j||P==6&&(z>0?X>0?W/mt[G-X]:0:ot[Y-1])%10&1||P==(x.s<0?8:7)),B<1||!ot[0])return ot.length=0,j?(B-=x.e+1,ot[0]=mt[(w-B%w)%w],x.e=-B||0):ot[0]=x.e=0,x;if(z==0?(ot.length=Y,$=1,Y--):(ot.length=Y+1,$=mt[w-z],ot[Y]=X>0?o(W/mt[G-X]%mt[X])*$:0),j)for(;;)if(Y==0){for(z=1,X=ot[0];X>=10;X/=10,z++);for(X=ot[0]+=$,$=1;X>=10;X/=10,$++);z!=$&&(x.e++,ot[0]==p&&(ot[0]=1));break}else{if(ot[Y]+=$,ot[Y]!=p)break;ot[Y--]=0,$=1}for(z=ot.length;ot[--z]===0;ot.pop());}x.e>R?x.c=x.e=null:x.e<E&&(x.c=[x.e=0])}return x}function Ut(x){var B,P=x.e;return P===null?x.toString():(B=k(x.c),B=P<=y||P>=v?Z(B,P):st(B,P,"0"),x.s<0?"-"+B:B)}return K.absoluteValue=K.abs=function(){var x=new q(this);return x.s<0&&(x.s=1),x},K.comparedTo=function(x,B){return Q(this,new q(x,B))},K.decimalPlaces=K.dp=function(x,B){var P,j,G,z=this;if(x!=null)return J(x,0,I),B==null?B=l:J(B,0,8),Pt(new q(z),x+z.e+1,B);if(!(P=z.c))return null;if(j=((G=P.length-1)-N(this.e/w))*w,G=P[G])for(;G%10==0;G/=10,j--);return j<0&&(j=0),j},K.dividedBy=K.div=function(x,B){return nt(this,new q(x,B),f,l)},K.dividedToIntegerBy=K.idiv=function(x,B){return nt(this,new q(x,B),0,1)},K.exponentiatedBy=K.pow=function(x,B){var P,j,G,z,X,$,W,Y,tt,ot=this;if(x=new q(x),x.c&&!x.isInteger())throw Error(u+"Exponent not an integer: "+Ut(x));if(B!=null&&(B=new q(B)),$=x.e>14,!ot.c||!ot.c[0]||ot.c[0]==1&&!ot.e&&ot.c.length==1||!x.c||!x.c[0])return tt=new q(Math.pow(+Ut(ot),$?2-ft(x):+Ut(x))),B?tt.mod(B):tt;if(W=x.s<0,B){if(B.c?!B.c[0]:!B.s)return new q(NaN);j=!W&&ot.isInteger()&&B.isInteger(),j&&(ot=ot.mod(B))}else{if(x.e>9&&(ot.e>0||ot.e<-1||(ot.e==0?ot.c[0]>1||$&&ot.c[1]>=24e7:ot.c[0]<8e13||$&&ot.c[0]<=9999975e7)))return z=ot.s<0&&ft(x)?-0:0,ot.e>-1&&(z=1/z),new q(W?1/z:z);d&&(z=i(d/w+2))}for($?(P=new q(.5),W&&(x.s=1),Y=ft(x)):(G=Math.abs(+Ut(x)),Y=G%2),tt=new q(A);;){if(Y){if(tt=tt.times(ot),!tt.c)break;z?tt.c.length>z&&(tt.c.length=z):j&&(tt=tt.mod(B))}if(G){if(G=o(G/2),G===0)break;Y=G%2}else if(x=x.times(P),Pt(x,x.e+1,1),x.e>14)Y=ft(x);else{if(G=+Ut(x),G===0)break;Y=G%2}ot=ot.times(ot),z?ot.c&&ot.c.length>z&&(ot.c.length=z):j&&(ot=ot.mod(B))}return j?tt:(W&&(tt=A.div(tt)),B?tt.mod(B):z?Pt(tt,d,l,X):tt)},K.integerValue=function(x){var B=new q(this);return x==null?x=l:J(x,0,8),Pt(B,B.e+1,x)},K.isEqualTo=K.eq=function(x,B){return Q(this,new q(x,B))===0},K.isFinite=function(){return!!this.c},K.isGreaterThan=K.gt=function(x,B){return Q(this,new q(x,B))>0},K.isGreaterThanOrEqualTo=K.gte=function(x,B){return(B=Q(this,new q(x,B)))===1||B===0},K.isInteger=function(){return!!this.c&&N(this.e/w)>this.c.length-2},K.isLessThan=K.lt=function(x,B){return Q(this,new q(x,B))<0},K.isLessThanOrEqualTo=K.lte=function(x,B){return(B=Q(this,new q(x,B)))===-1||B===0},K.isNaN=function(){return!this.s},K.isNegative=function(){return this.s<0},K.isPositive=function(){return this.s>0},K.isZero=function(){return!!this.c&&this.c[0]==0},K.minus=function(x,B){var P,j,G,z,X=this,$=X.s;if(x=new q(x,B),B=x.s,!$||!B)return new q(NaN);if($!=B)return x.s=-B,X.plus(x);var W=X.e/w,Y=x.e/w,tt=X.c,ot=x.c;if(!W||!Y){if(!tt||!ot)return tt?(x.s=-B,x):new q(ot?X:NaN);if(!tt[0]||!ot[0])return ot[0]?(x.s=-B,x):new q(tt[0]?X:l==3?-0:0)}if(W=N(W),Y=N(Y),tt=tt.slice(),$=W-Y){for((z=$<0)?($=-$,G=tt):(Y=W,G=ot),G.reverse(),B=$;B--;G.push(0));G.reverse()}else for(j=(z=($=tt.length)<(B=ot.length))?$:B,$=B=0;B<j;B++)if(tt[B]!=ot[B]){z=tt[B]<ot[B];break}if(z&&(G=tt,tt=ot,ot=G,x.s=-x.s),B=(j=ot.length)-(P=tt.length),B>0)for(;B--;tt[P++]=0);for(B=p-1;j>$;){if(tt[--j]<ot[j]){for(P=j;P&&!tt[--P];tt[P]=B);--tt[P],tt[j]+=p}tt[j]-=ot[j]}for(;tt[0]==0;tt.splice(0,1),--Y);return tt[0]?Et(x,tt,Y):(x.s=l==3?-1:1,x.c=[x.e=0],x)},K.modulo=K.mod=function(x,B){var P,j,G=this;return x=new q(x,B),!G.c||!x.s||x.c&&!x.c[0]?new q(NaN):!x.c||G.c&&!G.c[0]?new q(G):(T==9?(j=x.s,x.s=1,P=nt(G,x,0,3),x.s=j,P.s*=j):P=nt(G,x,0,T),x=G.minus(P.times(x)),!x.c[0]&&T==1&&(x.s=G.s),x)},K.multipliedBy=K.times=function(x,B){var P,j,G,z,X,$,W,Y,tt,ot,mt,St,xt,Rt,oe,_t=this,Tt=_t.c,we=(x=new q(x,B)).c;if(!Tt||!we||!Tt[0]||!we[0])return!_t.s||!x.s||Tt&&!Tt[0]&&!we||we&&!we[0]&&!Tt?x.c=x.e=x.s=null:(x.s*=_t.s,!Tt||!we?x.c=x.e=null:(x.c=[0],x.e=0)),x;for(j=N(_t.e/w)+N(x.e/w),x.s*=_t.s,W=Tt.length,ot=we.length,W<ot&&(xt=Tt,Tt=we,we=xt,G=W,W=ot,ot=G),G=W+ot,xt=[];G--;xt.push(0));for(Rt=p,oe=O,G=ot;--G>=0;){for(P=0,mt=we[G]%oe,St=we[G]/oe|0,X=W,z=G+X;z>G;)Y=Tt[--X]%oe,tt=Tt[X]/oe|0,$=St*Y+tt*mt,Y=mt*Y+$%oe*oe+xt[z]+P,P=(Y/Rt|0)+($/oe|0)+St*tt,xt[z--]=Y%Rt;xt[z]=P}return P?++j:xt.splice(0,1),Et(x,xt,j)},K.negated=function(){var x=new q(this);return x.s=-x.s||null,x},K.plus=function(x,B){var P,j=this,G=j.s;if(x=new q(x,B),B=x.s,!G||!B)return new q(NaN);if(G!=B)return x.s=-B,j.minus(x);var z=j.e/w,X=x.e/w,$=j.c,W=x.c;if(!z||!X){if(!$||!W)return new q(G/0);if(!$[0]||!W[0])return W[0]?x:new q($[0]?j:G*0)}if(z=N(z),X=N(X),$=$.slice(),G=z-X){for(G>0?(X=z,P=W):(G=-G,P=$),P.reverse();G--;P.push(0));P.reverse()}for(G=$.length,B=W.length,G-B<0&&(P=W,W=$,$=P,B=G),G=0;B;)G=($[--B]=$[B]+W[B]+G)/p|0,$[B]=p===$[B]?0:$[B]%p;return G&&($=[G].concat($),++X),Et(x,$,X)},K.precision=K.sd=function(x,B){var P,j,G,z=this;if(x!=null&&x!==!!x)return J(x,1,I),B==null?B=l:J(B,0,8),Pt(new q(z),x,B);if(!(P=z.c))return null;if(G=P.length-1,j=G*w+1,G=P[G]){for(;G%10==0;G/=10,j--);for(G=P[0];G>=10;G/=10,j++);}return x&&z.e+1>j&&(j=z.e+1),j},K.shiftedBy=function(x){return J(x,-M,M),this.times("1e"+x)},K.squareRoot=K.sqrt=function(){var x,B,P,j,G,z=this,X=z.c,$=z.s,W=z.e,Y=f+4,tt=new q("0.5");if($!==1||!X||!X[0])return new q(!$||$<0&&(!X||X[0])?NaN:X?z:1/0);if($=Math.sqrt(+Ut(z)),$==0||$==1/0?(B=k(X),(B.length+W)%2==0&&(B+="0"),$=Math.sqrt(+B),W=N((W+1)/2)-(W<0||W%2),$==1/0?B="5e"+W:(B=$.toExponential(),B=B.slice(0,B.indexOf("e")+1)+W),P=new q(B)):P=new q($+""),P.c[0]){for(W=P.e,$=W+Y,$<3&&($=0);;)if(G=P,P=tt.times(G.plus(nt(z,G,Y,1))),k(G.c).slice(0,$)===(B=k(P.c)).slice(0,$))if(P.e<W&&--$,B=B.slice($-3,$+1),B=="9999"||!j&&B=="4999"){if(!j&&(Pt(G,G.e+f+2,0),G.times(G).eq(z))){P=G;break}Y+=4,$+=4,j=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(Pt(P,P.e+f+2,1),x=!P.times(P).eq(z));break}}return Pt(P,P.e+f+1,l,x)},K.toExponential=function(x,B){return x!=null&&(J(x,0,I),x++),yt(this,x,B,1)},K.toFixed=function(x,B){return x!=null&&(J(x,0,I),x=x+this.e+1),yt(this,x,B)},K.toFormat=function(x,B,P){var j,G=this;if(P==null)x!=null&&B&&typeof B=="object"?(P=B,B=null):x&&typeof x=="object"?(P=x,x=B=null):P=m;else if(typeof P!="object")throw Error(u+"Argument not an object: "+P);if(j=G.toFixed(x,B),G.c){var z,X=j.split("."),$=+P.groupSize,W=+P.secondaryGroupSize,Y=P.groupSeparator||"",tt=X[0],ot=X[1],mt=G.s<0,St=mt?tt.slice(1):tt,xt=St.length;if(W&&(z=$,$=W,W=z,xt-=z),$>0&&xt>0){for(z=xt%$||$,tt=St.substr(0,z);z<xt;z+=$)tt+=Y+St.substr(z,$);W>0&&(tt+=Y+St.slice(z)),mt&&(tt="-"+tt)}j=ot?tt+(P.decimalSeparator||"")+((W=+P.fractionGroupSize)?ot.replace(new RegExp("\\d{"+W+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):ot):tt}return(P.prefix||"")+j+(P.suffix||"")},K.toFraction=function(x){var B,P,j,G,z,X,$,W,Y,tt,ot,mt,St=this,xt=St.c;if(x!=null&&($=new q(x),!$.isInteger()&&($.c||$.s!==1)||$.lt(A)))throw Error(u+"Argument "+($.isInteger()?"out of range: ":"not an integer: ")+Ut($));if(!xt)return new q(St);for(B=new q(A),Y=P=new q(A),j=W=new q(A),mt=k(xt),z=B.e=mt.length-St.e-1,B.c[0]=C[(X=z%w)<0?w+X:X],x=!x||$.comparedTo(B)>0?z>0?B:Y:$,X=R,R=1/0,$=new q(mt),W.c[0]=0;tt=nt($,B,0,1),G=P.plus(tt.times(j)),G.comparedTo(x)!=1;)P=j,j=G,Y=W.plus(tt.times(G=Y)),W=G,B=$.minus(tt.times(G=B)),$=G;return G=nt(x.minus(P),j,0,1),W=W.plus(G.times(Y)),P=P.plus(G.times(j)),W.s=Y.s=St.s,z=z*2,ot=nt(Y,j,z,l).minus(St).abs().comparedTo(nt(W,P,z,l).minus(St).abs())<1?[Y,j]:[W,P],R=X,ot},K.toNumber=function(){return+Ut(this)},K.toPrecision=function(x,B){return x!=null&&J(x,1,I),yt(this,x,B,2)},K.toString=function(x){var B,P=this,j=P.s,G=P.e;return G===null?j?(B="Infinity",j<0&&(B="-"+B)):B="NaN":(x==null?B=G<=y||G>=v?Z(k(P.c),G):st(k(P.c),G,"0"):x===10&&at?(P=Pt(new q(P),f+G+1,l),B=st(k(P.c),P.e,"0")):(J(x,2,rt.length,"Base"),B=dt(st(k(P.c),G,"0"),10,x,j,!0)),j<0&&P.c[0]&&(B="-"+B)),B},K.valueOf=K.toJSON=function(){return Ut(this)},K._isBigNumber=!0,et!=null&&q.set(et),q}function N(et){var nt=et|0;return et>0||et===nt?nt:nt-1}function k(et){for(var nt,dt,gt=1,K=et.length,A=et[0]+"";gt<K;){for(nt=et[gt++]+"",dt=w-nt.length;dt--;nt="0"+nt);A+=nt}for(K=A.length;A.charCodeAt(--K)===48;);return A.slice(0,K+1||1)}function Q(et,nt){var dt,gt,K=et.c,A=nt.c,f=et.s,l=nt.s,y=et.e,v=nt.e;if(!f||!l)return null;if(dt=K&&!K[0],gt=A&&!A[0],dt||gt)return dt?gt?0:-l:f;if(f!=l)return f;if(dt=f<0,gt=y==v,!K||!A)return gt?0:!K^dt?1:-1;if(!gt)return y>v^dt?1:-1;for(l=(y=K.length)<(v=A.length)?y:v,f=0;f<l;f++)if(K[f]!=A[f])return K[f]>A[f]^dt?1:-1;return y==v?0:y>v^dt?1:-1}function J(et,nt,dt,gt){if(et<nt||et>dt||et!==o(et))throw Error(u+(gt||"Argument")+(typeof et=="number"?et<nt||et>dt?" out of range: ":" not an integer: ":" not a primitive number: ")+String(et))}function ft(et){var nt=et.c.length-1;return N(et.e/w)==nt&&et.c[nt]%2!=0}function Z(et,nt){return(et.length>1?et.charAt(0)+"."+et.slice(1):et)+(nt<0?"e":"e+")+nt}function st(et,nt,dt){var gt,K;if(nt<0){for(K=dt+".";++nt;K+=dt);et=K+et}else if(gt=et.length,++nt>gt){for(K=dt,nt-=gt;--nt;K+=dt);et+=K}else nt<gt&&(et=et.slice(0,nt)+"."+et.slice(nt));return et}t=S(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof Fu<"u"&&Fu.exports?Fu.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(d_)});var g_=U(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var uU=ku(),p_=class{constructor(){this.BigNum=(t,r)=>{let i=uU.BigNumber.clone({DECIMAL_PLACES:r});return new i(t)}}winstonToAr(t,{formatted:r=!1,decimals:i=12,trim:o=!0}={}){let u=this.stringToBigNum(t,i).shiftedBy(-12);return r?u.toFormat(i):u.toFixed(i)}arToWinston(t,{formatted:r=!1}={}){let i=this.stringToBigNum(t).shiftedBy(12);return r?i.toFormat():i.toFixed(0)}compare(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.comparedTo(o)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.isLessThan(o)}isGreaterThan(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.isGreaterThan(o)}add(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.plus(r).toFixed(0)}sub(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}};Jl.default=p_});var Ql=U((o5,y_)=>{"use strict";y_.exports=function(t,r){return function(){for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];return t.apply(r,o)}}});var dr=U((s5,v_)=>{"use strict";var fU=Ql(),gi=Object.prototype.toString;function Xl(e){return gi.call(e)==="[object Array]"}function Yl(e){return typeof e>"u"}function cU(e){return e!==null&&!Yl(e)&&e.constructor!==null&&!Yl(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function lU(e){return gi.call(e)==="[object ArrayBuffer]"}function hU(e){return typeof FormData<"u"&&e instanceof FormData}function dU(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function pU(e){return typeof e=="string"}function gU(e){return typeof e=="number"}function m_(e){return e!==null&&typeof e=="object"}function Du(e){if(gi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function yU(e){return gi.call(e)==="[object Date]"}function mU(e){return gi.call(e)==="[object File]"}function wU(e){return gi.call(e)==="[object Blob]"}function w_(e){return gi.call(e)==="[object Function]"}function vU(e){return m_(e)&&w_(e.pipe)}function _U(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function bU(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function xU(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function th(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),Xl(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function Zl(){var e={};function t(o,u){Du(e[u])&&Du(o)?e[u]=Zl(e[u],o):Du(o)?e[u]=Zl({},o):Xl(o)?e[u]=o.slice():e[u]=o}for(var r=0,i=arguments.length;r<i;r++)th(arguments[r],t);return e}function SU(e,t,r){return th(t,function(o,u){r&&typeof o=="function"?e[u]=fU(o,r):e[u]=o}),e}function EU(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}v_.exports={isArray:Xl,isArrayBuffer:lU,isBuffer:cU,isFormData:hU,isArrayBufferView:dU,isString:pU,isNumber:gU,isObject:m_,isPlainObject:Du,isUndefined:Yl,isDate:yU,isFile:mU,isBlob:wU,isFunction:w_,isStream:vU,isURLSearchParams:_U,isStandardBrowserEnv:xU,forEach:th,merge:Zl,extend:SU,trim:bU,stripBOM:EU}});var eh=U((u5,b_)=>{"use strict";var ha=dr();function __(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}b_.exports=function(t,r,i){if(!r)return t;var o;if(i)o=i(r);else if(ha.isURLSearchParams(r))o=r.toString();else{var u=[];ha.forEach(r,function(w,M){w===null||typeof w>"u"||(ha.isArray(w)?M=M+"[]":w=[w],ha.forEach(w,function(O){ha.isDate(O)?O=O.toISOString():ha.isObject(O)&&(O=JSON.stringify(O)),u.push(__(M)+"="+__(O))}))}),o=u.join("&")}if(o){var c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}});var S_=U((f5,x_)=>{"use strict";var AU=dr();function qu(){this.handlers=[]}qu.prototype.use=function(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};qu.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};qu.prototype.forEach=function(t){AU.forEach(this.handlers,function(i){i!==null&&t(i)})};x_.exports=qu});var A_=U((c5,E_)=>{"use strict";var TU=dr();E_.exports=function(t,r){TU.forEach(t,function(o,u){u!==r&&u.toUpperCase()===r.toUpperCase()&&(t[r]=o,delete t[u])})}});var rh=U((l5,T_)=>{"use strict";T_.exports=function(t,r,i,o,u){return t.config=r,i&&(t.code=i),t.request=o,t.response=u,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var nh=U((h5,I_)=>{"use strict";var IU=rh();I_.exports=function(t,r,i,o,u){var c=new Error(t);return IU(c,r,i,o,u)}});var O_=U((d5,C_)=>{"use strict";var CU=nh();C_.exports=function(t,r,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):r(CU("Request failed with status code "+i.status,i.config,null,i.request,i))}});var M_=U((p5,B_)=>{"use strict";var $u=dr();B_.exports=$u.isStandardBrowserEnv()?function(){return{write:function(r,i,o,u,c,p){var w=[];w.push(r+"="+encodeURIComponent(i)),$u.isNumber(o)&&w.push("expires="+new Date(o).toGMTString()),$u.isString(u)&&w.push("path="+u),$u.isString(c)&&w.push("domain="+c),p===!0&&w.push("secure"),document.cookie=w.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var L_=U((g5,R_)=>{"use strict";R_.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}});var N_=U((y5,P_)=>{"use strict";P_.exports=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}});var F_=U((m5,U_)=>{"use strict";var OU=L_(),BU=N_();U_.exports=function(t,r){return t&&!OU(r)?BU(t,r):r}});var D_=U((w5,k_)=>{"use strict";var ih=dr(),MU=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];k_.exports=function(t){var r={},i,o,u;return t&&ih.forEach(t.split(`
`),function(p){if(u=p.indexOf(":"),i=ih.trim(p.substr(0,u)).toLowerCase(),o=ih.trim(p.substr(u+1)),i){if(r[i]&&MU.indexOf(i)>=0)return;i==="set-cookie"?r[i]=(r[i]?r[i]:[]).concat([o]):r[i]=r[i]?r[i]+", "+o:o}}),r}});var W_=U((v5,$_)=>{"use strict";var q_=dr();$_.exports=q_.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(u){var c=u;return t&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(c){var p=q_.isString(c)?o(c):c;return p.protocol===i.protocol&&p.host===i.host}}():function(){return function(){return!0}}()});var Oo=U((_5,G_)=>{"use strict";function ah(e){this.message=e}ah.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};ah.prototype.__CANCEL__=!0;G_.exports=ah});var sh=U((b5,H_)=>{"use strict";var Wu=dr(),RU=O_(),LU=M_(),PU=eh(),NU=F_(),UU=D_(),FU=W_(),oh=nh(),kU=Bo(),DU=Oo();H_.exports=function(t){return new Promise(function(i,o){var u=t.data,c=t.headers,p=t.responseType,w;function M(){t.cancelToken&&t.cancelToken.unsubscribe(w),t.signal&&t.signal.removeEventListener("abort",w)}Wu.isFormData(u)&&delete c["Content-Type"];var C=new XMLHttpRequest;if(t.auth){var O=t.auth.username||"",I=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.Authorization="Basic "+btoa(O+":"+I)}var S=NU(t.baseURL,t.url);C.open(t.method.toUpperCase(),PU(S,t.params,t.paramsSerializer),!0),C.timeout=t.timeout;function N(){if(!!C){var Q="getAllResponseHeaders"in C?UU(C.getAllResponseHeaders()):null,J=!p||p==="text"||p==="json"?C.responseText:C.response,ft={data:J,status:C.status,statusText:C.statusText,headers:Q,config:t,request:C};RU(function(st){i(st),M()},function(st){o(st),M()},ft),C=null}}if("onloadend"in C?C.onloadend=N:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(N)},C.onabort=function(){!C||(o(oh("Request aborted",t,"ECONNABORTED",C)),C=null)},C.onerror=function(){o(oh("Network Error",t,null,C)),C=null},C.ontimeout=function(){var J="timeout of "+t.timeout+"ms exceeded",ft=t.transitional||kU.transitional;t.timeoutErrorMessage&&(J=t.timeoutErrorMessage),o(oh(J,t,ft.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",C)),C=null},Wu.isStandardBrowserEnv()){var k=(t.withCredentials||FU(S))&&t.xsrfCookieName?LU.read(t.xsrfCookieName):void 0;k&&(c[t.xsrfHeaderName]=k)}"setRequestHeader"in C&&Wu.forEach(c,function(J,ft){typeof u>"u"&&ft.toLowerCase()==="content-type"?delete c[ft]:C.setRequestHeader(ft,J)}),Wu.isUndefined(t.withCredentials)||(C.withCredentials=!!t.withCredentials),p&&p!=="json"&&(C.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&C.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(w=function(Q){!C||(o(!Q||Q&&Q.type?new DU("canceled"):Q),C.abort(),C=null)},t.cancelToken&&t.cancelToken.subscribe(w),t.signal&&(t.signal.aborted?w():t.signal.addEventListener("abort",w))),u||(u=null),C.send(u)})}});var Bo=U((x5,K_)=>{"use strict";var Ye=dr(),j_=A_(),qU=rh(),$U={"Content-Type":"application/x-www-form-urlencoded"};function z_(e,t){!Ye.isUndefined(e)&&Ye.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function WU(){var e;return typeof XMLHttpRequest<"u"?e=sh():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(e=sh()),e}function GU(e,t,r){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}var Gu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:WU(),transformRequest:[function(t,r){return j_(r,"Accept"),j_(r,"Content-Type"),Ye.isFormData(t)||Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)?t:Ye.isArrayBufferView(t)?t.buffer:Ye.isURLSearchParams(t)?(z_(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ye.isObject(t)||r&&r["Content-Type"]==="application/json"?(z_(r,"application/json"),GU(t)):t}],transformResponse:[function(t){var r=this.transitional||Gu.transitional,i=r&&r.silentJSONParsing,o=r&&r.forcedJSONParsing,u=!i&&this.responseType==="json";if(u||o&&Ye.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(u)throw c.name==="SyntaxError"?qU(c,this,"E_JSON_PARSE"):c}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ye.forEach(["delete","get","head"],function(t){Gu.headers[t]={}});Ye.forEach(["post","put","patch"],function(t){Gu.headers[t]=Ye.merge($U)});K_.exports=Gu});var J_=U((S5,V_)=>{"use strict";var HU=dr(),jU=Bo();V_.exports=function(t,r,i){var o=this||jU;return HU.forEach(i,function(c){t=c.call(o,t,r)}),t}});var uh=U((E5,Q_)=>{"use strict";Q_.exports=function(t){return!!(t&&t.__CANCEL__)}});var X_=U((A5,Z_)=>{"use strict";var Y_=dr(),fh=J_(),zU=uh(),KU=Bo(),VU=Oo();function ch(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new VU("canceled")}Z_.exports=function(t){ch(t),t.headers=t.headers||{},t.data=fh.call(t,t.data,t.headers,t.transformRequest),t.headers=Y_.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Y_.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var r=t.adapter||KU.adapter;return r(t).then(function(o){return ch(t),o.data=fh.call(t,o.data,o.headers,t.transformResponse),o},function(o){return zU(o)||(ch(t),o&&o.response&&(o.response.data=fh.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})}});var lh=U((T5,tb)=>{"use strict";var xr=dr();tb.exports=function(t,r){r=r||{};var i={};function o(C,O){return xr.isPlainObject(C)&&xr.isPlainObject(O)?xr.merge(C,O):xr.isPlainObject(O)?xr.merge({},O):xr.isArray(O)?O.slice():O}function u(C){if(xr.isUndefined(r[C])){if(!xr.isUndefined(t[C]))return o(void 0,t[C])}else return o(t[C],r[C])}function c(C){if(!xr.isUndefined(r[C]))return o(void 0,r[C])}function p(C){if(xr.isUndefined(r[C])){if(!xr.isUndefined(t[C]))return o(void 0,t[C])}else return o(void 0,r[C])}function w(C){if(C in r)return o(t[C],r[C]);if(C in t)return o(void 0,t[C])}var M={url:c,method:c,data:c,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:w};return xr.forEach(Object.keys(t).concat(Object.keys(r)),function(O){var I=M[O]||u,S=I(O);xr.isUndefined(S)&&I!==w||(i[O]=S)}),i}});var hh=U((I5,eb)=>{eb.exports={version:"0.22.0"}});var ib=U((C5,nb)=>{"use strict";var JU=hh().version,dh={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){dh[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var rb={};dh.transitional=function(t,r,i){function o(u,c){return"[Axios v"+JU+"] Transitional option '"+u+"'"+c+(i?". "+i:"")}return function(u,c,p){if(t===!1)throw new Error(o(c," has been removed"+(r?" in "+r:"")));return r&&!rb[c]&&(rb[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,c,p):!0}};function QU(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var i=Object.keys(e),o=i.length;o-- >0;){var u=i[o],c=t[u];if(c){var p=e[u],w=p===void 0||c(p,u,e);if(w!==!0)throw new TypeError("option "+u+" must be "+w);continue}if(r!==!0)throw Error("Unknown option "+u)}}nb.exports={assertOptions:QU,validators:dh}});var cb=U((O5,fb)=>{"use strict";var sb=dr(),YU=eh(),ab=S_(),ob=X_(),Hu=lh(),ub=ib(),da=ub.validators;function Mo(e){this.defaults=e,this.interceptors={request:new ab,response:new ab}}Mo.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Hu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&ub.assertOptions(r,{silentJSONParsing:da.transitional(da.boolean),forcedJSONParsing:da.transitional(da.boolean),clarifyTimeoutError:da.transitional(da.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(o=o&&I.synchronous,i.unshift(I.fulfilled,I.rejected))});var u=[];this.interceptors.response.forEach(function(I){u.push(I.fulfilled,I.rejected)});var c;if(!o){var p=[ob,void 0];for(Array.prototype.unshift.apply(p,i),p=p.concat(u),c=Promise.resolve(t);p.length;)c=c.then(p.shift(),p.shift());return c}for(var w=t;i.length;){var M=i.shift(),C=i.shift();try{w=M(w)}catch(O){C(O);break}}try{c=ob(w)}catch(O){return Promise.reject(O)}for(;u.length;)c=c.then(u.shift(),u.shift());return c};Mo.prototype.getUri=function(t){return t=Hu(this.defaults,t),YU(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};sb.forEach(["delete","get","head","options"],function(t){Mo.prototype[t]=function(r,i){return this.request(Hu(i||{},{method:t,url:r,data:(i||{}).data}))}});sb.forEach(["post","put","patch"],function(t){Mo.prototype[t]=function(r,i,o){return this.request(Hu(o||{},{method:t,url:r,data:i}))}});fb.exports=Mo});var hb=U((B5,lb)=>{"use strict";var ZU=Oo();function pa(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(o){t=o});var r=this;this.promise.then(function(i){if(!!r._listeners){var o,u=r._listeners.length;for(o=0;o<u;o++)r._listeners[o](i);r._listeners=null}}),this.promise.then=function(i){var o,u=new Promise(function(c){r.subscribe(c),o=c}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o){r.reason||(r.reason=new ZU(o),t(r.reason))})}pa.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};pa.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};pa.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};pa.source=function(){var t,r=new pa(function(o){t=o});return{token:r,cancel:t}};lb.exports=pa});var pb=U((M5,db)=>{"use strict";db.exports=function(t){return function(i){return t.apply(null,i)}}});var yb=U((R5,gb)=>{"use strict";gb.exports=function(t){return typeof t=="object"&&t.isAxiosError===!0}});var vb=U((L5,ph)=>{"use strict";var mb=dr(),XU=Ql(),ju=cb(),tF=lh(),eF=Bo();function wb(e){var t=new ju(e),r=XU(ju.prototype.request,t);return mb.extend(r,ju.prototype,t),mb.extend(r,t),r.create=function(o){return wb(tF(e,o))},r}var rn=wb(eF);rn.Axios=ju;rn.Cancel=Oo();rn.CancelToken=hb();rn.isCancel=uh();rn.VERSION=hh().version;rn.all=function(t){return Promise.all(t)};rn.spread=pb();rn.isAxiosError=yb();ph.exports=rn;ph.exports.default=rn});var zu=U((P5,_b)=>{_b.exports=vb()});var xb=U(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var rF=zu(),bb=class{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){let r=t.protocol||"http",i=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:i,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log}}async get(t,r){try{return await this.request().get(t,r)}catch(i){if(i.response&&i.response.status)return i.response;throw i}}async post(t,r,i){try{return await this.request().post(t,r,i)}catch(o){if(o.response&&o.response.status)return o.response;throw o}}request(){let t=rF.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(t.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),t.interceptors.response.use(r=>(this.config.logger(`Response:   ${r.config.url} - ${r.status}`),r))),t}};gh.default=bb});var Eb=U(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var Sb=class{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}};yh.default=Sb});var Lo=U(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.getError=void 0;var Ab=class extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}};Ro.default=Ab;function nF(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch(r){}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch(r){}return t?t.error||t:e.statusText||"unknown"}Ro.getError=nF});var mh=U((k5,Tb)=>{"use strict";Tb.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0}});var Po=U((D5,Ib)=>{"use strict";var iF=mh();Ib.exports=function(){return iF()&&!!Symbol.toStringTag}});var Bb=U((q5,Ob)=>{"use strict";var Cb=typeof Symbol<"u"&&Symbol,aF=mh();Ob.exports=function(){return typeof Cb!="function"||typeof Symbol!="function"||typeof Cb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:aF()}});var Rb=U(($5,Mb)=>{"use strict";var oF="Function.prototype.bind called on incompatible ",wh=Array.prototype.slice,sF=Object.prototype.toString,uF="[object Function]";Mb.exports=function(t){var r=this;if(typeof r!="function"||sF.call(r)!==uF)throw new TypeError(oF+r);for(var i=wh.call(arguments,1),o,u=function(){if(this instanceof o){var C=r.apply(this,i.concat(wh.call(arguments)));return Object(C)===C?C:this}else return r.apply(t,i.concat(wh.call(arguments)))},c=Math.max(0,r.length-i.length),p=[],w=0;w<c;w++)p.push("$"+w);if(o=Function("binder","return function ("+p.join(",")+"){ return binder.apply(this,arguments); }")(u),r.prototype){var M=function(){};M.prototype=r.prototype,o.prototype=new M,M.prototype=null}return o}});var Ku=U((W5,Lb)=>{"use strict";var fF=Rb();Lb.exports=Function.prototype.bind||fF});var Nb=U((G5,Pb)=>{"use strict";var cF=Ku();Pb.exports=cF.call(Function.call,Object.prototype.hasOwnProperty)});var Yu=U((H5,Db)=>{"use strict";var Yt,No=SyntaxError,kb=Function,ma=TypeError,vh=function(e){try{return kb('"use strict"; return ('+e+").constructor;")()}catch(t){}},yi=Object.getOwnPropertyDescriptor;if(yi)try{yi({},"")}catch(e){yi=null}var _h=function(){throw new ma},lF=yi?function(){try{return arguments.callee,_h}catch(e){try{return yi(arguments,"callee").get}catch(t){return _h}}}():_h,ga=Bb()(),$n=Object.getPrototypeOf||function(e){return e.__proto__},ya={},hF=typeof Uint8Array>"u"?Yt:$n(Uint8Array),wa={"%AggregateError%":typeof AggregateError>"u"?Yt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Yt:ArrayBuffer,"%ArrayIteratorPrototype%":ga?$n([][Symbol.iterator]()):Yt,"%AsyncFromSyncIteratorPrototype%":Yt,"%AsyncFunction%":ya,"%AsyncGenerator%":ya,"%AsyncGeneratorFunction%":ya,"%AsyncIteratorPrototype%":ya,"%Atomics%":typeof Atomics>"u"?Yt:Atomics,"%BigInt%":typeof BigInt>"u"?Yt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Yt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Yt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Yt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Yt:FinalizationRegistry,"%Function%":kb,"%GeneratorFunction%":ya,"%Int8Array%":typeof Int8Array>"u"?Yt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Yt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Yt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ga?$n($n([][Symbol.iterator]())):Yt,"%JSON%":typeof JSON=="object"?JSON:Yt,"%Map%":typeof Map>"u"?Yt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ga?Yt:$n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Yt:Promise,"%Proxy%":typeof Proxy>"u"?Yt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Yt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Yt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ga?Yt:$n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Yt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ga?$n(""[Symbol.iterator]()):Yt,"%Symbol%":ga?Symbol:Yt,"%SyntaxError%":No,"%ThrowTypeError%":lF,"%TypedArray%":hF,"%TypeError%":ma,"%Uint8Array%":typeof Uint8Array>"u"?Yt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Yt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Yt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Yt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Yt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Yt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Yt:WeakSet},dF=function e(t){var r;if(t==="%AsyncFunction%")r=vh("async function () {}");else if(t==="%GeneratorFunction%")r=vh("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=vh("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(r=$n(o.prototype))}return wa[t]=r,r},Ub={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qu=Ku(),Vu=Nb(),pF=Qu.call(Function.call,Array.prototype.concat),gF=Qu.call(Function.apply,Array.prototype.splice),Fb=Qu.call(Function.call,String.prototype.replace),Ju=Qu.call(Function.call,String.prototype.slice),yF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mF=/\\(\\)?/g,wF=function(t){var r=Ju(t,0,1),i=Ju(t,-1);if(r==="%"&&i!=="%")throw new No("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new No("invalid intrinsic syntax, expected opening `%`");var o=[];return Fb(t,yF,function(u,c,p,w){o[o.length]=p?Fb(w,mF,"$1"):c||u}),o},vF=function(t,r){var i=t,o;if(Vu(Ub,i)&&(o=Ub[i],i="%"+o[0]+"%"),Vu(wa,i)){var u=wa[i];if(u===ya&&(u=dF(i)),typeof u>"u"&&!r)throw new ma("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:i,value:u}}throw new No("intrinsic "+t+" does not exist!")};Db.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new ma("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ma('"allowMissing" argument must be a boolean');var i=wF(t),o=i.length>0?i[0]:"",u=vF("%"+o+"%",r),c=u.name,p=u.value,w=!1,M=u.alias;M&&(o=M[0],gF(i,pF([0,1],M)));for(var C=1,O=!0;C<i.length;C+=1){var I=i[C],S=Ju(I,0,1),N=Ju(I,-1);if((S==='"'||S==="'"||S==="`"||N==='"'||N==="'"||N==="`")&&S!==N)throw new No("property names with quotes must have matching quotes");if((I==="constructor"||!O)&&(w=!0),o+="."+I,c="%"+o+"%",Vu(wa,c))p=wa[c];else if(p!=null){if(!(I in p)){if(!r)throw new ma("base intrinsic for "+t+" exists, but the property is not available.");return}if(yi&&C+1>=i.length){var k=yi(p,I);O=!!k,O&&"get"in k&&!("originalValue"in k.get)?p=k.get:p=p[I]}else O=Vu(p,I),p=p[I];O&&!w&&(wa[c]=p)}}return p}});var jb=U((j5,Zu)=>{"use strict";var bh=Ku(),va=Yu(),Wb=va("%Function.prototype.apply%"),Gb=va("%Function.prototype.call%"),Hb=va("%Reflect.apply%",!0)||bh.call(Gb,Wb),qb=va("%Object.getOwnPropertyDescriptor%",!0),mi=va("%Object.defineProperty%",!0),_F=va("%Math.max%");if(mi)try{mi({},"a",{value:1})}catch(e){mi=null}Zu.exports=function(t){var r=Hb(bh,Gb,arguments);if(qb&&mi){var i=qb(r,"length");i.configurable&&mi(r,"length",{value:1+_F(0,t.length-(arguments.length-1))})}return r};var $b=function(){return Hb(bh,Wb,arguments)};mi?mi(Zu.exports,"apply",{value:$b}):Zu.exports.apply=$b});var Xu=U((z5,Vb)=>{"use strict";var zb=Yu(),Kb=jb(),bF=Kb(zb("String.prototype.indexOf"));Vb.exports=function(t,r){var i=zb(t,!!r);return typeof i=="function"&&bF(t,".prototype.")>-1?Kb(i):i}});var Yb=U((K5,Qb)=>{"use strict";var xF=Po()(),SF=Xu(),xh=SF("Object.prototype.toString"),tf=function(t){return xF&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:xh(t)==="[object Arguments]"},Jb=function(t){return tf(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&xh(t)!=="[object Array]"&&xh(t.callee)==="[object Function]"},EF=function(){return tf(arguments)}();tf.isLegacyArguments=Jb;Qb.exports=EF?tf:Jb});var t1=U((V5,Xb)=>{"use strict";var AF=Object.prototype.toString,TF=Function.prototype.toString,IF=/^\s*(?:function)?\*/,Zb=Po()(),Sh=Object.getPrototypeOf,CF=function(){if(!Zb)return!1;try{return Function("return function*() {}")()}catch(e){}},Eh;Xb.exports=function(t){if(typeof t!="function")return!1;if(IF.test(TF.call(t)))return!0;if(!Zb){var r=AF.call(t);return r==="[object GeneratorFunction]"}if(!Sh)return!1;if(typeof Eh>"u"){var i=CF();Eh=i?Sh(i):!1}return Sh(t)===Eh}});var Ah=U((J5,e1)=>{var OF=Object.prototype.hasOwnProperty,BF=Object.prototype.toString;e1.exports=function(t,r,i){if(BF.call(r)!=="[object Function]")throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var u=0;u<o;u++)r.call(i,t[u],u,t);else for(var c in t)OF.call(t,c)&&r.call(i,t[c],c,t)}});var Ih=U((Q5,r1)=>{"use strict";var Th=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],MF=typeof globalThis>"u"?global:globalThis;r1.exports=function(){for(var t=[],r=0;r<Th.length;r++)typeof MF[Th[r]]=="function"&&(t[t.length]=Th[r]);return t}});var Ch=U((Y5,n1)=>{"use strict";var RF=Yu(),ef=RF("%Object.getOwnPropertyDescriptor%",!0);if(ef)try{ef([],"length")}catch(e){ef=null}n1.exports=ef});var Mh=U((Z5,u1)=>{"use strict";var i1=Ah(),LF=Ih(),Bh=Xu(),PF=Bh("Object.prototype.toString"),a1=Po()(),NF=typeof globalThis>"u"?global:globalThis,o1=LF(),UF=Bh("Array.prototype.indexOf",!0)||function(t,r){for(var i=0;i<t.length;i+=1)if(t[i]===r)return i;return-1},FF=Bh("String.prototype.slice"),s1={},rf=Ch(),Oh=Object.getPrototypeOf;a1&&rf&&Oh&&i1(o1,function(e){var t=new NF[e];if(Symbol.toStringTag in t){var r=Oh(t),i=rf(r,Symbol.toStringTag);if(!i){var o=Oh(r);i=rf(o,Symbol.toStringTag)}s1[e]=i.get}});var kF=function(t){var r=!1;return i1(s1,function(i,o){if(!r)try{r=i.call(t)===o}catch(u){}}),r};u1.exports=function(t){if(!t||typeof t!="object")return!1;if(!a1||!(Symbol.toStringTag in t)){var r=FF(PF(t),8,-1);return UF(o1,r)>-1}return rf?kF(t):!1}});var g1=U((X5,p1)=>{"use strict";var c1=Ah(),DF=Ih(),l1=Xu(),qF=l1("Object.prototype.toString"),h1=Po()(),f1=typeof globalThis>"u"?global:globalThis,$F=DF(),WF=l1("String.prototype.slice"),d1={},Rh=Ch(),Lh=Object.getPrototypeOf;h1&&Rh&&Lh&&c1($F,function(e){if(typeof f1[e]=="function"){var t=new f1[e];if(Symbol.toStringTag in t){var r=Lh(t),i=Rh(r,Symbol.toStringTag);if(!i){var o=Lh(r);i=Rh(o,Symbol.toStringTag)}d1[e]=i.get}}});var GF=function(t){var r=!1;return c1(d1,function(i,o){if(!r)try{var u=i.call(t);u===o&&(r=u)}catch(c){}}),r},HF=Mh();p1.exports=function(t){return HF(t)?!h1||!(Symbol.toStringTag in t)?WF(qF(t),8,-1):GF(t):!1}});var O1=U(zt=>{"use strict";var jF=Yb(),zF=t1(),jr=g1(),y1=Mh();function _a(e){return e.call.bind(e)}var m1=typeof BigInt<"u",w1=typeof Symbol<"u",Ur=_a(Object.prototype.toString),KF=_a(Number.prototype.valueOf),VF=_a(String.prototype.valueOf),JF=_a(Boolean.prototype.valueOf);m1&&(v1=_a(BigInt.prototype.valueOf));var v1;w1&&(_1=_a(Symbol.prototype.valueOf));var _1;function Fo(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch(r){return!1}}zt.isArgumentsObject=jF;zt.isGeneratorFunction=zF;zt.isTypedArray=y1;function QF(e){return typeof Promise<"u"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}zt.isPromise=QF;function YF(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):y1(e)||x1(e)}zt.isArrayBufferView=YF;function ZF(e){return jr(e)==="Uint8Array"}zt.isUint8Array=ZF;function XF(e){return jr(e)==="Uint8ClampedArray"}zt.isUint8ClampedArray=XF;function tk(e){return jr(e)==="Uint16Array"}zt.isUint16Array=tk;function ek(e){return jr(e)==="Uint32Array"}zt.isUint32Array=ek;function rk(e){return jr(e)==="Int8Array"}zt.isInt8Array=rk;function nk(e){return jr(e)==="Int16Array"}zt.isInt16Array=nk;function ik(e){return jr(e)==="Int32Array"}zt.isInt32Array=ik;function ak(e){return jr(e)==="Float32Array"}zt.isFloat32Array=ak;function ok(e){return jr(e)==="Float64Array"}zt.isFloat64Array=ok;function sk(e){return jr(e)==="BigInt64Array"}zt.isBigInt64Array=sk;function uk(e){return jr(e)==="BigUint64Array"}zt.isBigUint64Array=uk;function nf(e){return Ur(e)==="[object Map]"}nf.working=typeof Map<"u"&&nf(new Map);function fk(e){return typeof Map>"u"?!1:nf.working?nf(e):e instanceof Map}zt.isMap=fk;function af(e){return Ur(e)==="[object Set]"}af.working=typeof Set<"u"&&af(new Set);function ck(e){return typeof Set>"u"?!1:af.working?af(e):e instanceof Set}zt.isSet=ck;function of(e){return Ur(e)==="[object WeakMap]"}of.working=typeof WeakMap<"u"&&of(new WeakMap);function lk(e){return typeof WeakMap>"u"?!1:of.working?of(e):e instanceof WeakMap}zt.isWeakMap=lk;function Nh(e){return Ur(e)==="[object WeakSet]"}Nh.working=typeof WeakSet<"u"&&Nh(new WeakSet);function hk(e){return Nh(e)}zt.isWeakSet=hk;function sf(e){return Ur(e)==="[object ArrayBuffer]"}sf.working=typeof ArrayBuffer<"u"&&sf(new ArrayBuffer);function b1(e){return typeof ArrayBuffer>"u"?!1:sf.working?sf(e):e instanceof ArrayBuffer}zt.isArrayBuffer=b1;function uf(e){return Ur(e)==="[object DataView]"}uf.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&uf(new DataView(new ArrayBuffer(1),0,1));function x1(e){return typeof DataView>"u"?!1:uf.working?uf(e):e instanceof DataView}zt.isDataView=x1;var Ph=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Uo(e){return Ur(e)==="[object SharedArrayBuffer]"}function S1(e){return typeof Ph>"u"?!1:(typeof Uo.working>"u"&&(Uo.working=Uo(new Ph)),Uo.working?Uo(e):e instanceof Ph)}zt.isSharedArrayBuffer=S1;function dk(e){return Ur(e)==="[object AsyncFunction]"}zt.isAsyncFunction=dk;function pk(e){return Ur(e)==="[object Map Iterator]"}zt.isMapIterator=pk;function gk(e){return Ur(e)==="[object Set Iterator]"}zt.isSetIterator=gk;function yk(e){return Ur(e)==="[object Generator]"}zt.isGeneratorObject=yk;function mk(e){return Ur(e)==="[object WebAssembly.Module]"}zt.isWebAssemblyCompiledModule=mk;function E1(e){return Fo(e,KF)}zt.isNumberObject=E1;function A1(e){return Fo(e,VF)}zt.isStringObject=A1;function T1(e){return Fo(e,JF)}zt.isBooleanObject=T1;function I1(e){return m1&&Fo(e,v1)}zt.isBigIntObject=I1;function C1(e){return w1&&Fo(e,_1)}zt.isSymbolObject=C1;function wk(e){return E1(e)||A1(e)||T1(e)||I1(e)||C1(e)}zt.isBoxedPrimitive=wk;function vk(e){return typeof Uint8Array<"u"&&(b1(e)||S1(e))}zt.isAnyArrayBuffer=vk;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(zt,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var M1=U((eG,B1)=>{B1.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var R1=U((rG,Uh)=>{typeof Object.create=="function"?Uh.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Uh.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var Gn=U(Kt=>{var L1=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),i={},o=0;o<r.length;o++)i[r[o]]=Object.getOwnPropertyDescriptor(t,r[o]);return i},_k=/%[sdj%]/g;Kt.format=function(e){if(!gf(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Wn(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,o=i.length,u=String(e).replace(_k,function(p){if(p==="%%")return"%";if(r>=o)return p;switch(p){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(w){return"[Circular]"}default:return p}}),c=i[r];r<o;c=i[++r])pf(c)||!ba(c)?u+=" "+c:u+=" "+Wn(c);return u};Kt.deprecate=function(e,t){if(typeof process<"u"&&process.noDeprecation===!0)return e;if(typeof process>"u")return function(){return Kt.deprecate(e,t).apply(this,arguments)};var r=!1;function i(){if(!r){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return i};var ff={},P1=/^$/;process.env.NODE_DEBUG&&(cf=process.env.NODE_DEBUG,cf=cf.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),P1=new RegExp("^"+cf+"$","i"));var cf;Kt.debuglog=function(e){if(e=e.toUpperCase(),!ff[e])if(P1.test(e)){var t=process.pid;ff[e]=function(){var r=Kt.format.apply(Kt,arguments);console.error("%s %d: %s",e,t,r)}}else ff[e]=function(){};return ff[e]};function Wn(e,t){var r={seen:[],stylize:xk};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),qh(t)?r.showHidden=t:t&&Kt._extend(r,t),vi(r.showHidden)&&(r.showHidden=!1),vi(r.depth)&&(r.depth=2),vi(r.colors)&&(r.colors=!1),vi(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=bk),hf(r,e,r.depth)}Kt.inspect=Wn;Wn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Wn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function bk(e,t){var r=Wn.styles[t];return r?"\x1B["+Wn.colors[r][0]+"m"+e+"\x1B["+Wn.colors[r][1]+"m":e}function xk(e,t){return e}function Sk(e){var t={};return e.forEach(function(r,i){t[r]=!0}),t}function hf(e,t,r){if(e.customInspect&&t&&lf(t.inspect)&&t.inspect!==Kt.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(r,e);return gf(i)||(i=hf(e,i,r)),i}var o=Ek(e,t);if(o)return o;var u=Object.keys(t),c=Sk(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),Do(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return Fh(t);if(u.length===0){if(lf(t)){var p=t.name?": "+t.name:"";return e.stylize("[Function"+p+"]","special")}if(ko(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(df(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Do(t))return Fh(t)}var w="",M=!1,C=["{","}"];if(N1(t)&&(M=!0,C=["[","]"]),lf(t)){var O=t.name?": "+t.name:"";w=" [Function"+O+"]"}if(ko(t)&&(w=" "+RegExp.prototype.toString.call(t)),df(t)&&(w=" "+Date.prototype.toUTCString.call(t)),Do(t)&&(w=" "+Fh(t)),u.length===0&&(!M||t.length==0))return C[0]+w+C[1];if(r<0)return ko(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var I;return M?I=Ak(e,t,r,c,u):I=u.map(function(S){return Dh(e,t,r,c,S,M)}),e.seen.pop(),Tk(I,w,C)}function Ek(e,t){if(vi(t))return e.stylize("undefined","undefined");if(gf(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(U1(t))return e.stylize(""+t,"number");if(qh(t))return e.stylize(""+t,"boolean");if(pf(t))return e.stylize("null","null")}function Fh(e){return"["+Error.prototype.toString.call(e)+"]"}function Ak(e,t,r,i,o){for(var u=[],c=0,p=t.length;c<p;++c)F1(t,String(c))?u.push(Dh(e,t,r,i,String(c),!0)):u.push("");return o.forEach(function(w){w.match(/^\d+$/)||u.push(Dh(e,t,r,i,w,!0))}),u}function Dh(e,t,r,i,o,u){var c,p,w;if(w=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},w.get?w.set?p=e.stylize("[Getter/Setter]","special"):p=e.stylize("[Getter]","special"):w.set&&(p=e.stylize("[Setter]","special")),F1(i,o)||(c="["+o+"]"),p||(e.seen.indexOf(w.value)<0?(pf(r)?p=hf(e,w.value,null):p=hf(e,w.value,r-1),p.indexOf(`
`)>-1&&(u?p=p.split(`
`).map(function(M){return"  "+M}).join(`
`).substr(2):p=`
`+p.split(`
`).map(function(M){return"   "+M}).join(`
`))):p=e.stylize("[Circular]","special")),vi(c)){if(u&&o.match(/^\d+$/))return p;c=JSON.stringify(""+o),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=e.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=e.stylize(c,"string"))}return c+": "+p}function Tk(e,t,r){var i=0,o=e.reduce(function(u,c){return i++,c.indexOf(`
`)>=0&&i++,u+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}Kt.types=O1();function N1(e){return Array.isArray(e)}Kt.isArray=N1;function qh(e){return typeof e=="boolean"}Kt.isBoolean=qh;function pf(e){return e===null}Kt.isNull=pf;function Ik(e){return e==null}Kt.isNullOrUndefined=Ik;function U1(e){return typeof e=="number"}Kt.isNumber=U1;function gf(e){return typeof e=="string"}Kt.isString=gf;function Ck(e){return typeof e=="symbol"}Kt.isSymbol=Ck;function vi(e){return e===void 0}Kt.isUndefined=vi;function ko(e){return ba(e)&&$h(e)==="[object RegExp]"}Kt.isRegExp=ko;Kt.types.isRegExp=ko;function ba(e){return typeof e=="object"&&e!==null}Kt.isObject=ba;function df(e){return ba(e)&&$h(e)==="[object Date]"}Kt.isDate=df;Kt.types.isDate=df;function Do(e){return ba(e)&&($h(e)==="[object Error]"||e instanceof Error)}Kt.isError=Do;Kt.types.isNativeError=Do;function lf(e){return typeof e=="function"}Kt.isFunction=lf;function Ok(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}Kt.isPrimitive=Ok;Kt.isBuffer=M1();function $h(e){return Object.prototype.toString.call(e)}function kh(e){return e<10?"0"+e.toString(10):e.toString(10)}var Bk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mk(){var e=new Date,t=[kh(e.getHours()),kh(e.getMinutes()),kh(e.getSeconds())].join(":");return[e.getDate(),Bk[e.getMonth()],t].join(" ")}Kt.log=function(){console.log("%s - %s",Mk(),Kt.format.apply(Kt,arguments))};Kt.inherits=R1();Kt._extend=function(e,t){if(!t||!ba(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e};function F1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wi=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Kt.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(wi&&t[wi]){var r=t[wi];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,wi,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,o,u=new Promise(function(w,M){i=w,o=M}),c=[],p=0;p<arguments.length;p++)c.push(arguments[p]);c.push(function(w,M){w?o(w):i(M)});try{t.apply(this,c)}catch(w){o(w)}return u}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),wi&&Object.defineProperty(r,wi,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,L1(t))};Kt.promisify.custom=wi;function Rk(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function Lk(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var o=r.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var u=this,c=function(){return o.apply(u,arguments)};e.apply(this,r).then(function(p){process.nextTick(c.bind(null,null,p))},function(p){process.nextTick(Rk.bind(null,p,c))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,L1(e)),t}Kt.callbackify=Lk});var nn=U(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.b64UrlDecode=Ue.b64UrlEncode=Ue.bufferTob64Url=Ue.bufferTob64=Ue.b64UrlToBuffer=Ue.stringToB64Url=Ue.stringToBuffer=Ue.bufferToString=Ue.b64UrlToString=Ue.concatBuffers=void 0;var k1=pu();function Pk(e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].byteLength;let r=new Uint8Array(t),i=0;r.set(new Uint8Array(e[0]),i),i+=e[0].byteLength;for(let o=1;o<e.length;o++)r.set(new Uint8Array(e[o]),i),i+=e[o].byteLength;return r}Ue.concatBuffers=Pk;function Nk(e){let t=q1(e);if(typeof TextDecoder>"u"){let r=Gn().TextDecoder;return new r("utf-8",{fatal:!0}).decode(t)}return new TextDecoder("utf-8",{fatal:!0}).decode(t)}Ue.b64UrlToString=Nk;function Uk(e){if(typeof TextDecoder>"u"){let t=Gn().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}Ue.bufferToString=Uk;function D1(e){if(typeof TextEncoder>"u"){let t=Gn().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}Ue.stringToBuffer=D1;function Fk(e){return W1(D1(e))}Ue.stringToB64Url=Fk;function q1(e){return new Uint8Array(k1.toByteArray(H1(e)))}Ue.b64UrlToBuffer=q1;function $1(e){return k1.fromByteArray(new Uint8Array(e))}Ue.bufferTob64=$1;function W1(e){return G1($1(e))}Ue.bufferTob64Url=W1;function G1(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}Ue.b64UrlEncode=G1;function H1(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}Ue.b64UrlDecode=H1});var K1=U(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var Sr=qo();async function j1(e){if(Array.isArray(e)){let i=Sr.default.utils.concatBuffers([Sr.default.utils.stringToBuffer("list"),Sr.default.utils.stringToBuffer(e.length.toString())]);return await z1(e,await Sr.default.crypto.hash(i,"SHA-384"))}let t=Sr.default.utils.concatBuffers([Sr.default.utils.stringToBuffer("blob"),Sr.default.utils.stringToBuffer(e.byteLength.toString())]),r=Sr.default.utils.concatBuffers([await Sr.default.crypto.hash(t,"SHA-384"),await Sr.default.crypto.hash(e,"SHA-384")]);return await Sr.default.crypto.hash(r,"SHA-384")}Wh.default=j1;async function z1(e,t){if(e.length<1)return t;let r=Sr.default.utils.concatBuffers([t,await j1(e[0])]),i=await Sr.default.crypto.hash(r,"SHA-384");return await z1(e.slice(1),i)}});var Vh=U(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.debug=Ht.validatePath=Ht.arrayCompare=Ht.bufferToInt=Ht.intToBuffer=Ht.arrayFlatten=Ht.generateProofs=Ht.buildLayers=Ht.generateTransactionChunks=Ht.generateTree=Ht.computeRootHash=Ht.generateLeaves=Ht.chunkData=Ht.MIN_CHUNK_SIZE=Ht.MAX_CHUNK_SIZE=void 0;var yf=qo(),V1=nn();Ht.MAX_CHUNK_SIZE=256*1024;Ht.MIN_CHUNK_SIZE=32*1024;var Wo=32,xa=32;async function Hh(e){let t=[],r=e,i=0;for(;r.byteLength>=Ht.MAX_CHUNK_SIZE;){let o=Ht.MAX_CHUNK_SIZE,u=r.byteLength-Ht.MAX_CHUNK_SIZE;u>0&&u<Ht.MIN_CHUNK_SIZE&&(o=Math.ceil(r.byteLength/2));let c=r.slice(0,o),p=await yf.default.crypto.hash(c);i+=c.byteLength,t.push({dataHash:p,minByteRange:i-c.byteLength,maxByteRange:i}),r=r.slice(o)}return t.push({dataHash:await yf.default.crypto.hash(r),minByteRange:i,maxByteRange:i+r.byteLength}),t}Ht.chunkData=Hh;async function jh(e){return Promise.all(e.map(async({dataHash:t,minByteRange:r,maxByteRange:i})=>({type:"leaf",id:await Ke(await Promise.all([Ke(t),Ke(Go(i))])),dataHash:t,minByteRange:r,maxByteRange:i})))}Ht.generateLeaves=jh;async function kk(e){return(await J1(e)).id}Ht.computeRootHash=kk;async function J1(e){return await mf(await jh(await Hh(e)))}Ht.generateTree=J1;async function Dk(e){let t=await Hh(e),r=await jh(t),i=await mf(r),o=await Q1(i),u=t.slice(-1)[0];return u.maxByteRange-u.minByteRange===0&&(t.splice(t.length-1,1),o.splice(o.length-1,1)),{data_root:i.id,chunks:t,proofs:o}}Ht.generateTransactionChunks=Dk;async function mf(e,t=0){if(e.length<2)return e[0];let r=[];for(let i=0;i<e.length;i+=2)r.push(await qk(e[i],e[i+1]));return mf(r,t+1)}Ht.buildLayers=mf;function Q1(e){let t=Gh(e);return Array.isArray(t)?zh(t):[t]}Ht.generateProofs=Q1;function Gh(e,t=new Uint8Array,r=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:(0,V1.concatBuffers)([t,e.dataHash,Go(e.maxByteRange)])};if(e.type=="branch"){let i=(0,V1.concatBuffers)([t,e.leftChild.id,e.rightChild.id,Go(e.byteRange)]);return[Gh(e.leftChild,i,r+1),Gh(e.rightChild,i,r+1)]}throw new Error("Unexpected node type")}function zh(e){let t=[];return e.forEach(r=>{Array.isArray(r)?t.push(...zh(r)):t.push(r)}),t}Ht.arrayFlatten=zh;async function qk(e,t){return t?{type:"branch",id:await Ke([await Ke(e.id),await Ke(t.id),await Ke(Go(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}:e}async function Ke(e){return Array.isArray(e)&&(e=yf.default.utils.concatBuffers(e)),new Uint8Array(await yf.default.crypto.hash(e))}function Go(e){let t=new Uint8Array(Wo);for(var r=t.length-1;r>=0;r--){var i=e%256;t[r]=i,e=(e-i)/256}return t}Ht.intToBuffer=Go;function Kh(e){let t=0;for(var r=0;r<e.length;r++)t*=256,t+=e[r];return t}Ht.bufferToInt=Kh;var $k=(e,t)=>e.every((r,i)=>t[i]===r);Ht.arrayCompare=$k;async function $o(e,t,r,i,o){if(i<=0)return!1;if(t>=i)return $o(e,0,i-1,i,o);if(t<0)return $o(e,0,0,i,o);if(o.length==xa+Wo){let O=o.slice(0,xa),I=o.slice(O.length,O.length+Wo),S=await Ke([await Ke(O),await Ke(I)]);return(0,Ht.arrayCompare)(e,S)?{offset:i-1,leftBound:r,rightBound:i,chunkSize:i-r}:!1}let u=o.slice(0,xa),c=o.slice(u.length,u.length+xa),p=o.slice(u.length+c.length,u.length+c.length+Wo),w=Kh(p),M=o.slice(u.length+c.length+p.length),C=await Ke([await Ke(u),await Ke(c),await Ke(p)]);return(0,Ht.arrayCompare)(e,C)?t<w?await $o(u,t,r,Math.min(i,w),M):await $o(c,t,Math.max(r,w),i,M):!1}Ht.validatePath=$o;async function Y1(e,t=""){if(e.byteLength<1)return t;let r=e.slice(0,xa),i=e.slice(r.length,r.length+xa),o=e.slice(r.length+i.length,r.length+i.length+Wo),u=Kh(o),c=e.slice(r.length+i.length+o.length),p=await Ke([await Ke(r),await Ke(i),await Ke(o)]),w=`${t}
${JSON.stringify(Buffer.from(r))},${JSON.stringify(Buffer.from(i))},${u} => ${JSON.stringify(p)}`;return Y1(c,w)}Ht.debug=Y1});var vf=U(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Tag=void 0;var We=nn(),Wk=K1(),Gk=Vh(),Jh=class{get(t,r){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);return this[t]instanceof Uint8Array?r&&r.decode&&r.string?We.bufferToString(this[t]):r&&r.decode&&!r.string?this[t]:We.bufferTob64Url(this[t]):r&&r.decode==!0?r&&r.string?We.b64UrlToString(this[t]):We.b64UrlToBuffer(this[t]):this[t]}},wf=class extends Jh{constructor(t,r,i=!1){super();this.name=t,this.value=r}};Ho.Tag=wf;var Z1=class extends Jh{constructor(t={}){super();this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,t),typeof this.data=="string"&&(this.data=We.b64UrlToBuffer(this.data)),t.tags&&(this.tags=t.tags.map(r=>new wf(r.name,r.value)))}addTag(t,r){this.tags.push(new wf(We.stringToB64Url(t),We.stringToB64Url(r)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:We.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:r,reward:i,tags:o,signature:u}){this.id=t,this.owner=r,i&&(this.reward=i),o&&(this.tags=o),this.signature=u}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await(0,Gk.generateTransactionChunks)(t),this.data_root=We.bufferTob64Url(this.chunks.data_root)),!this.chunks&&t.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let i=this.chunks.proofs[t],o=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:We.bufferTob64Url(i.proof),offset:i.offset.toString(),chunk:We.bufferTob64Url(r.slice(o.minByteRange,o.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let t=this.tags.reduce((i,o)=>We.concatBuffers([i,o.get("name",{decode:!0,string:!1}),o.get("value",{decode:!0,string:!1})]),new Uint8Array);return We.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),We.stringToBuffer(this.quantity),We.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(i=>[i.get("name",{decode:!0,string:!1}),i.get("value",{decode:!0,string:!1})]);return await(0,Wk.default)([We.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),We.stringToBuffer(this.quantity),We.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,We.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};Ho.default=Z1});var rx=U(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.TransactionUploader=void 0;var X1=vf(),Hk=nn(),Qh=Lo(),jk=Vh(),tx=1,zk=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],ex=1e3*40,_f=class{constructor(t,r){if(this.api=t,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.data=r.data,this.transaction=new X1.default(Object.assign({},r,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(t){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+ex-Date.now(),ex);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(c=>setTimeout(c,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}t&&(this.chunkIndex=t);let i=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await(0,jk.validatePath)(this.transaction.chunks.data_root,parseInt(i.offset),0,parseInt(i.data_size),Hk.b64UrlToBuffer(i.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let u=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(c=>(console.error(c.message),{status:-1,data:{error:c.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=u.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,Qh.getError)(u),zk.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(t,r,i){if(!r||typeof r.chunkIndex!="number"||typeof r.transaction!="object")throw new Error("Serialized object does not match expected format.");var o=new X1.default(r.transaction);o.chunks||await o.prepareChunks(i);let u=new _f(t,o);if(u.chunkIndex=r.chunkIndex,u.lastRequestTimeEnd=r.lastRequestTimeEnd,u.lastResponseError=r.lastResponseError,u.lastResponseStatus=r.lastResponseStatus,u.txPosted=r.txPosted,u.data=i,u.transaction.data_root!==r.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return u}static async fromTransactionId(t,r){let i=await t.get(`tx/${r}`);if(i.status!==200)throw new Error(`Tx ${r} not found: ${i.status}`);let o=i.data;return o.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:o}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=tx){this.transaction.data=this.data;let i=await this.api.post("tx",this.transaction).catch(o=>(console.error(o),{status:-1,data:{error:o.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,this.transaction.data=new Uint8Array(0),i.status>=200&&i.status<300){this.txPosted=!0,this.chunkIndex=tx;return}throw this.lastResponseError=(0,Qh.getError)(i),new Error(`Unable to upload transaction: ${i.status}, ${this.lastResponseError}`)}let r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=(0,Qh.getError)(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}};bf.TransactionUploader=_f});var _i=U((fG,nx)=>{nx.exports={}});var ax=U(xi=>{"use strict";var bi=xi&&xi.__await||function(e){return this instanceof bi?(this.v=e,this):new bi(e)},Kk=xi&&xi.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(I){i[I]&&(o[I]=function(S){return new Promise(function(N,k){u.push([I,S,N,k])>1||p(I,S)})})}function p(I,S){try{w(i[I](S))}catch(N){O(u[0][3],N)}}function w(I){I.value instanceof bi?Promise.resolve(I.value.v).then(M,C):O(u[0][2],I)}function M(I){p("next",I)}function C(I){p("throw",I)}function O(I,S){I(S),u.shift(),u.length&&p(u[0][0],u[0][1])}};Object.defineProperty(xi,"__esModule",{value:!0});var Yh=Lo(),wn=vf(),jo=nn(),Zh=rx();_i();var ix=class{constructor(t,r,i){this.api=t,this.crypto=r,this.chunks=i}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(t=>t.data)}getPrice(t,r){let i=r?`price/${t}/${r}`:`price/${t}`;return this.api.get(i,{transformResponse:[function(o){return o}]}).then(o=>o.data)}async get(t){let r=await this.api.get(`tx/${t}`);if(r.status==200){let i=parseInt(r.data.data_size);if(r.data.format>=2&&i>0&&i<=1024*1024*12){let o=await this.getData(t);return new wn.default(Object.assign(Object.assign({},r.data),{data:o}))}return new wn.default(Object.assign(Object.assign({},r.data),{format:r.data.format||1}))}throw r.status==404?new Yh.default("TX_NOT_FOUND"):r.status==410?new Yh.default("TX_FAILED"):new Yh.default("TX_INVALID")}fromRaw(t){return new wn.default(t)}async search(t,r){return this.api.post("arql",{op:"equals",expr1:t,expr2:r}).then(i=>i.data?i.data:[])}getStatus(t){return this.api.get(`tx/${t}/status`).then(r=>r.status==200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(t,r){let i=await this.chunks.downloadChunkedData(t);return r&&r.decode&&!r.string?i:r&&r.decode&&r.string?jo.bufferToString(i):jo.bufferTob64Url(i)}async sign(t,r,i){if(!r&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!r||r==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch(u){}let o=await window.arweaveWallet.sign(t,i);t.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else{t.setOwner(r.n);let o=await t.getSignatureData(),u=await this.crypto.sign(r,o,i),c=await this.crypto.hash(u);t.setSignature({id:jo.bufferTob64Url(c),owner:r.n,signature:jo.bufferTob64Url(u)})}}async verify(t){let r=await t.getSignatureData(),i=t.get("signature",{decode:!0,string:!1}),o=jo.bufferTob64Url(await this.crypto.hash(i));if(t.id!==o)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,r,i)}async post(t){if(typeof t=="string"?t=new wn.default(JSON.parse(t)):typeof t.readInt32BE=="function"?t=new wn.default(JSON.parse(t.toString())):typeof t=="object"&&!(t instanceof wn.default)&&(t=new wn.default(t)),!(t instanceof wn.default))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);let r=await this.getUploader(t,t.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(i){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw i}return{status:200,statusText:"OK",data:{}}}async getUploader(t,r){let i;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),t instanceof wn.default){if(r||(r=t.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");t.chunks||await t.prepareChunks(r),i=new Zh.TransactionUploader(this.api,t),(!i.data||i.data.length===0)&&(i.data=r)}else{if(typeof t=="string"&&(t=await Zh.TransactionUploader.fromTransactionId(this.api,t)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");i=await Zh.TransactionUploader.fromSerialized(this.api,t,r)}return i}upload(t,r){return Kk(this,arguments,function*(){let o=yield bi(this.getUploader(t,r));for(;!o.isComplete;)yield bi(o.uploadChunk()),yield yield bi(o);return yield bi(o)})}};xi.default=ix});var ux=U(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});var ox=nn();_i();var sx=class{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch(r){}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return ox.bufferTob64Url(await this.crypto.hash(ox.b64UrlToBuffer(t)))}};Xh.default=sx});var lx=U(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.SiloResource=void 0;var fx=nn(),cx=class{constructor(t,r,i){this.api=t,this.crypto=r,this.transactions=i}async get(t){if(!t)throw new Error("No Silo URI specified");let r=await this.parseUri(t),i=await this.transactions.search("Silo-Name",r.getAccessKey());if(i.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);let o=await this.transactions.get(i[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${t}`);let u=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(u,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");let i=await this.parseUri(r),o=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,i.getEncryptionKey())}async parseUri(t){let r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let i=r[1],o=Math.pow(2,parseInt(r[2])),u=await this.hash(fx.stringToBuffer(i),o),c=fx.bufferTob64(u.slice(0,15)),p=await this.hash(u.slice(16,31),1);return new td(t,c,p)}async hash(t,r){let i=await this.crypto.hash(t);for(let o=0;o<r-1;o++)i=await this.crypto.hash(i);return i}};zo.default=cx;var td=class{constructor(t,r,i){this.uri=t,this.accessKey=r,this.encryptionKey=i}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};zo.SiloResource=td});var px=U(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var hx=Lo(),Vk=nn(),dx=class{constructor(t){this.api=t}async getTransactionOffset(t){let r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,hx.getError)(r)}`)}async getChunk(t){let r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,hx.getError)(r)}`)}async getChunkData(t){let r=await this.getChunk(t);return Vk.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){let r=await this.getTransactionOffset(t),i=parseInt(r.size),u=parseInt(r.offset)-i+1,c=new Uint8Array(i),p=0;for(;p<i;){this.api.config.logging&&console.log(`[chunk] ${p}/${i}`);let w;try{w=await this.getChunkData(u+p)}catch(M){console.error(`[chunk] Failed to fetch chunk at offset ${u+p}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gatway/node")}if(w)c.set(w,p),p+=w.length;else throw new Error(`Coudn't complete data download at ${p}/${i}`)}return c}};ed.default=dx});var gx=U(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var Jk=Lo();_i();var Ko=class{constructor(t,r){this.api=t,this.network=r}async get(t){let r=await this.api.get(`${Ko.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new Jk.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){let{current:t}=await this.network.getInfo();return await this.get(t)}};rd.default=Ko;Ko.ENDPOINT="block/hash/"});var qo=U(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});var Qk=g_(),Yk=xb(),Zk=Eb(),Xk=ax(),tD=ux(),yx=vf(),Vo=nn(),eD=lx(),rD=px(),nD=gx(),Hn=class{constructor(t){this.api=new Yk.default(t),this.wallets=new tD.default(this.api,Hn.crypto),this.chunks=new rD.default(this.api),this.transactions=new Xk.default(this.api,Hn.crypto,this.chunks),this.silo=new eD.default(this.api,this.crypto,this.transactions),this.network=new Zk.default(this.api),this.blocks=new nD.default(this.api,this.network),this.ar=new Qk.default}get crypto(){return Hn.crypto}get utils(){return Hn.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(t,r){let i={};if(Object.assign(i,t),!t.data&&!(t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(t.owner==null&&r&&r!=="use_wallet"&&(i.owner=r.n),t.last_tx==null&&(i.last_tx=await this.transactions.getTransactionAnchor()),typeof t.data=="string"&&(t.data=Vo.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(t.reward==null){let u=t.data?t.data.byteLength:0;i.reward=await this.transactions.getPrice(u,i.target)}i.data_root="",i.data_size=t.data?t.data.byteLength.toString():"0",i.data=t.data||new Uint8Array(0);let o=new yx.default(i);return await o.getSignatureData(),o}async createSiloTransaction(t,r,i){let o={};if(Object.assign(o,t),!t.data)throw new Error("Silo transactions must have a 'data' value");if(!i)throw new Error("No Silo URI specified.");if(t.target||t.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(t.owner==null){if(!r||!r.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");o.owner=r.n}t.last_tx==null&&(o.last_tx=await this.transactions.getTransactionAnchor());let u=await this.silo.parseUri(i);if(typeof t.data=="string"){let p=await this.crypto.encrypt(Vo.stringToBuffer(t.data),u.getEncryptionKey());o.reward=await this.transactions.getPrice(p.byteLength),o.data=Vo.bufferTob64Url(p)}if(t.data instanceof Uint8Array){let p=await this.crypto.encrypt(t.data,u.getEncryptionKey());o.reward=await this.transactions.getPrice(p.byteLength),o.data=Vo.bufferTob64Url(p)}let c=new yx.default(o);return c.addTag("Silo-Name",u.getAccessKey()),c.addTag("Silo-Version","0.1.0"),c}arql(t){return this.api.post("/arql",t).then(r=>r.data||[])}};nd.default=Hn;Hn.utils=Vo});var wx=U(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var jn=nn(),mx=class{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",t.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(t,r,{saltLength:i}={}){let o=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(t),r);return new Uint8Array(o)}async hash(t,r="SHA-256"){let i=await this.driver.digest(r,t);return new Uint8Array(i)}async verify(t,r,i){let o={kty:"RSA",e:"AQAB",n:t},u=await this.jwkToPublicCryptoKey(o),c=this.driver.verify({name:"RSA-PSS",saltLength:32},u,i,r),p=this.driver.verify({name:"RSA-PSS",saltLength:0},u,i,r);return c||p}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;let t=crypto==null?void 0:crypto.subtle;return t===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(i=>typeof t[i]=="function")}async encrypt(t,r,i){let o=await this.driver.importKey("raw",typeof r=="string"?jn.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:i?jn.stringToBuffer(i):jn.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=new Uint8Array(16);crypto.getRandomValues(c);let p=await this.driver.encrypt({name:"AES-CBC",iv:c},u,t);return jn.concatBuffers([c,p])}async decrypt(t,r,i){let o=await this.driver.importKey("raw",typeof r=="string"?jn.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),u=await this.driver.deriveKey({name:"PBKDF2",salt:i?jn.stringToBuffer(i):jn.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),c=t.slice(0,16),p=await this.driver.decrypt({name:"AES-CBC",iv:c},u,t.slice(16));return jn.concatBuffers([p])}};id.default=mx});var vx=U(zn=>{"use strict";var iD=zn&&zn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),aD=zn&&zn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iD(t,e,r)};Object.defineProperty(zn,"__esModule",{value:!0});var Jo=qo(),oD=wx();Jo.default.crypto=new oD.default;Jo.default.init=function(e={}){function t(){let c={host:"arweave.net",port:443,protocol:"https"};if(!window||!window.location||!window.location.protocol||!window.location.hostname)return c;let p=window.location.protocol.replace(":",""),w=window.location.hostname,M=window.location.port?parseInt(window.location.port):p=="https"?443:80;return["localhost","127.0.0.1"].includes(w)||p=="file"?c:{host:w,port:M,protocol:p}}let r=t(),i=e.protocol||r.protocol,o=e.host||r.host,u=e.port||r.port;return new Jo.default(Object.assign(Object.assign({},e),{host:o,protocol:i,port:u}))};window.Arweave=Jo.default;aD(qo(),zn);zn.default=Jo.default});var vn=U(ue=>{"use strict";var sD=ue&&ue.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),uD=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fD=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&sD(t,e,r);return uD(t,e),t};Object.defineProperty(ue,"__esModule",{value:!0});ue.b64UrlDecode=ue.b64UrlEncode=ue.bufferTob64Url=ue.bufferTob64=ue.b64UrlToBuffer=ue.stringToB64Url=ue.stringToBuffer=ue.bufferToString=ue.b64UrlToString=ue.concatBuffers=void 0;var _x=fD(pu());function cD(e){let t=0;for(let o=0;o<e.length;o++)t+=e[o].byteLength;let r=new Uint8Array(t),i=0;r.set(new Uint8Array(e[0]),i),i+=e[0].byteLength;for(let o=1;o<e.length;o++)r.set(new Uint8Array(e[o]),i),i+=e[o].byteLength;return r}ue.concatBuffers=cD;function lD(e){let t=xx(e);if(typeof TextDecoder>"u"){let r=Gn().TextDecoder;return new r("utf-8",{fatal:!0}).decode(t)}return new TextDecoder("utf-8",{fatal:!0}).decode(t)}ue.b64UrlToString=lD;function hD(e){if(typeof TextDecoder>"u"){let t=Gn().TextDecoder;return new t("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)}ue.bufferToString=hD;function bx(e){if(typeof TextEncoder>"u"){let t=Gn().TextEncoder;return new t().encode(e)}return new TextEncoder().encode(e)}ue.stringToBuffer=bx;function dD(e){return Ex(bx(e))}ue.stringToB64Url=dD;function xx(e){return new Uint8Array(_x.toByteArray(Tx(e)))}ue.b64UrlToBuffer=xx;function Sx(e){return _x.fromByteArray(new Uint8Array(e))}ue.bufferTob64=Sx;function Ex(e){return Ax(Sx(e))}ue.bufferTob64Url=Ex;function Ax(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}ue.b64UrlEncode=Ax;function Tx(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let t;return e.length%4==0?t=0:t=4-e.length%4,e.concat("=".repeat(t))}ue.b64UrlDecode=Tx});var Cx=U(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var pD=ku(),Ix=class{constructor(){this.BigNum=(t,r)=>{let i=pD.BigNumber.clone({DECIMAL_PLACES:r});return new i(t)}}winstonToAr(t,{formatted:r=!1,decimals:i=12,trim:o=!0}={}){let u=this.stringToBigNum(t,i).shiftedBy(-12);return r?u.toFormat(i):u.toFixed(i)}arToWinston(t,{formatted:r=!1}={}){let i=this.stringToBigNum(t).shiftedBy(12);return r?i.toFormat():i.toFixed(0)}compare(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.comparedTo(o)}isEqual(t,r){return this.compare(t,r)===0}isLessThan(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.isLessThan(o)}isGreaterThan(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.isGreaterThan(o)}add(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.plus(r).toFixed(0)}sub(t,r){let i=this.stringToBigNum(t),o=this.stringToBigNum(r);return i.minus(r).toFixed(0)}stringToBigNum(t,r=12){return this.BigNum(t,r)}};ad.default=Ix});var Bx=U(Qo=>{"use strict";var gD=Qo&&Qo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});var yD=gD(zu()),Ox=class{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){let r=t.protocol||"http",i=t.port||(r==="https"?443:80);return{host:t.host||"127.0.0.1",protocol:r,port:i,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log}}async get(t,r){try{return await this.request().get(t,r)}catch(i){if(i.response&&i.response.status)return i.response;throw i}}async post(t,r,i){try{return await this.request().post(t,r,i)}catch(o){if(o.response&&o.response.status)return o.response;throw o}}request(){let t=yD.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(t.interceptors.request.use(r=>(this.config.logger(`Requesting: ${r.baseURL}/${r.url}`),r)),t.interceptors.response.use(r=>(this.config.logger(`Response:   ${r.config.url} - ${r.status}`),r))),t}};Qo.default=Ox});var Rx=U(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});var Mx=class{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}};od.default=Mx});var Zo=U(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.getError=void 0;var Lx=class extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.response=r.response}getType(){return this.type}};Yo.default=Lx;function mD(e){let t=e.data;if(typeof e.data=="string")try{t=JSON.parse(e.data)}catch(r){}if(e.data instanceof ArrayBuffer||e.data instanceof Uint8Array)try{t=JSON.parse(t.toString())}catch(r){}return t?t.error||t:e.statusText||"unknown"}Yo.getError=mD});var hd=U(Wt=>{"use strict";var wD=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.debug=Wt.validatePath=Wt.arrayCompare=Wt.bufferToInt=Wt.intToBuffer=Wt.arrayFlatten=Wt.generateProofs=Wt.buildLayers=Wt.generateTransactionChunks=Wt.generateTree=Wt.computeRootHash=Wt.generateLeaves=Wt.chunkData=Wt.MIN_CHUNK_SIZE=Wt.MAX_CHUNK_SIZE=void 0;var xf=wD(dd()),Px=vn();Wt.MAX_CHUNK_SIZE=256*1024;Wt.MIN_CHUNK_SIZE=32*1024;var ts=32,Sa=32;async function ud(e){let t=[],r=e,i=0;for(;r.byteLength>=Wt.MAX_CHUNK_SIZE;){let o=Wt.MAX_CHUNK_SIZE,u=r.byteLength-Wt.MAX_CHUNK_SIZE;u>0&&u<Wt.MIN_CHUNK_SIZE&&(o=Math.ceil(r.byteLength/2));let c=r.slice(0,o),p=await xf.default.crypto.hash(c);i+=c.byteLength,t.push({dataHash:p,minByteRange:i-c.byteLength,maxByteRange:i}),r=r.slice(o)}return t.push({dataHash:await xf.default.crypto.hash(r),minByteRange:i,maxByteRange:i+r.byteLength}),t}Wt.chunkData=ud;async function fd(e){return Promise.all(e.map(async({dataHash:t,minByteRange:r,maxByteRange:i})=>({type:"leaf",id:await Ve(await Promise.all([Ve(t),Ve(es(i))])),dataHash:t,minByteRange:r,maxByteRange:i})))}Wt.generateLeaves=fd;async function vD(e){return(await Nx(e)).id}Wt.computeRootHash=vD;async function Nx(e){return await Sf(await fd(await ud(e)))}Wt.generateTree=Nx;async function _D(e){let t=await ud(e),r=await fd(t),i=await Sf(r),o=await Ux(i),u=t.slice(-1)[0];return u.maxByteRange-u.minByteRange===0&&(t.splice(t.length-1,1),o.splice(o.length-1,1)),{data_root:i.id,chunks:t,proofs:o}}Wt.generateTransactionChunks=_D;async function Sf(e,t=0){if(e.length<2)return e[0];let r=[];for(let i=0;i<e.length;i+=2)r.push(await bD(e[i],e[i+1]));return Sf(r,t+1)}Wt.buildLayers=Sf;function Ux(e){let t=sd(e);return Array.isArray(t)?cd(t):[t]}Wt.generateProofs=Ux;function sd(e,t=new Uint8Array,r=0){if(e.type=="leaf")return{offset:e.maxByteRange-1,proof:(0,Px.concatBuffers)([t,e.dataHash,es(e.maxByteRange)])};if(e.type=="branch"){let i=(0,Px.concatBuffers)([t,e.leftChild.id,e.rightChild.id,es(e.byteRange)]);return[sd(e.leftChild,i,r+1),sd(e.rightChild,i,r+1)]}throw new Error("Unexpected node type")}function cd(e){let t=[];return e.forEach(r=>{Array.isArray(r)?t.push(...cd(r)):t.push(r)}),t}Wt.arrayFlatten=cd;async function bD(e,t){return t?{type:"branch",id:await Ve([await Ve(e.id),await Ve(t.id),await Ve(es(e.maxByteRange))]),byteRange:e.maxByteRange,maxByteRange:t.maxByteRange,leftChild:e,rightChild:t}:e}async function Ve(e){return Array.isArray(e)&&(e=xf.default.utils.concatBuffers(e)),new Uint8Array(await xf.default.crypto.hash(e))}function es(e){let t=new Uint8Array(ts);for(var r=t.length-1;r>=0;r--){var i=e%256;t[r]=i,e=(e-i)/256}return t}Wt.intToBuffer=es;function ld(e){let t=0;for(var r=0;r<e.length;r++)t*=256,t+=e[r];return t}Wt.bufferToInt=ld;var xD=(e,t)=>e.every((r,i)=>t[i]===r);Wt.arrayCompare=xD;async function Xo(e,t,r,i,o){if(i<=0)return!1;if(t>=i)return Xo(e,0,i-1,i,o);if(t<0)return Xo(e,0,0,i,o);if(o.length==Sa+ts){let O=o.slice(0,Sa),I=o.slice(O.length,O.length+ts),S=await Ve([await Ve(O),await Ve(I)]);return(0,Wt.arrayCompare)(e,S)?{offset:i-1,leftBound:r,rightBound:i,chunkSize:i-r}:!1}let u=o.slice(0,Sa),c=o.slice(u.length,u.length+Sa),p=o.slice(u.length+c.length,u.length+c.length+ts),w=ld(p),M=o.slice(u.length+c.length+p.length),C=await Ve([await Ve(u),await Ve(c),await Ve(p)]);return(0,Wt.arrayCompare)(e,C)?t<w?await Xo(u,t,r,Math.min(i,w),M):await Xo(c,t,Math.max(r,w),i,M):!1}Wt.validatePath=Xo;async function Fx(e,t=""){if(e.byteLength<1)return t;let r=e.slice(0,Sa),i=e.slice(r.length,r.length+Sa),o=e.slice(r.length+i.length,r.length+i.length+ts),u=ld(o),c=e.slice(r.length+i.length+o.length),p=await Ve([await Ve(r),await Ve(i),await Ve(o)]),w=`${t}
${JSON.stringify(Buffer.from(r))},${JSON.stringify(Buffer.from(i))},${u} => ${JSON.stringify(p)}`;return Fx(c,w)}Wt.debug=Fx});var $x=U(Fr=>{"use strict";var SD=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),ED=Fr&&Fr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AD=Fr&&Fr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&SD(t,e,r);return ED(t,e),t},TD=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.TransactionUploader=void 0;var kx=TD(rs()),ID=AD(vn()),pd=Zo(),CD=hd(),Dx=1,OD=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],qx=1e3*40,Ef=class{constructor(t,r){if(this.api=t,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!r.id)throw new Error("Transaction is not signed");if(!r.chunks)throw new Error("Transaction chunks not prepared");this.data=r.data,this.transaction=new kx.default(Object.assign({},r,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(t){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let r=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+qx-Date.now(),qx);if(r>0&&(r=r-r*Math.random()*.3,await new Promise(c=>setTimeout(c,r))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}t&&(this.chunkIndex=t);let i=this.transaction.getChunk(t||this.chunkIndex,this.data);if(!await(0,CD.validatePath)(this.transaction.chunks.data_root,parseInt(i.offset),0,parseInt(i.data_size),ID.b64UrlToBuffer(i.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);let u=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(c=>(console.error(c.message),{status:-1,data:{error:c.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=u.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,pd.getError)(u),OD.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(t,r,i){if(!r||typeof r.chunkIndex!="number"||typeof r.transaction!="object")throw new Error("Serialized object does not match expected format.");var o=new kx.default(r.transaction);o.chunks||await o.prepareChunks(i);let u=new Ef(t,o);if(u.chunkIndex=r.chunkIndex,u.lastRequestTimeEnd=r.lastRequestTimeEnd,u.lastResponseError=r.lastResponseError,u.lastResponseStatus=r.lastResponseStatus,u.txPosted=r.txPosted,u.data=i,u.transaction.data_root!==r.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return u}static async fromTransactionId(t,r){let i=await t.get(`tx/${r}`);if(i.status!==200)throw new Error(`Tx ${r} not found: ${i.status}`);let o=i.data;return o.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:o}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=Dx){this.transaction.data=this.data;let i=await this.api.post("tx",this.transaction).catch(o=>(console.error(o),{status:-1,data:{error:o.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=i.status,this.transaction.data=new Uint8Array(0),i.status>=200&&i.status<300){this.txPosted=!0,this.chunkIndex=Dx;return}throw this.lastResponseError=(0,pd.getError)(i),new Error(`Unable to upload transaction: ${i.status}, ${this.lastResponseError}`)}let r=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=r.status,!(r.status>=200&&r.status<300))throw this.lastResponseError=(0,pd.getError)(r),new Error(`Unable to upload transaction: ${r.status}, ${this.lastResponseError}`);this.txPosted=!0}};Fr.TransactionUploader=Ef});var Hx=U(or=>{"use strict";var BD=or&&or.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),MD=or&&or.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),RD=or&&or.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&BD(t,e,r);return MD(t,e),t},Si=or&&or.__await||function(e){return this instanceof Si?(this.v=e,this):new Si(e)},LD=or&&or.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(I){i[I]&&(o[I]=function(S){return new Promise(function(N,k){u.push([I,S,N,k])>1||p(I,S)})})}function p(I,S){try{w(i[I](S))}catch(N){O(u[0][3],N)}}function w(I){I.value instanceof Si?Promise.resolve(I.value.v).then(M,C):O(u[0][2],I)}function M(I){p("next",I)}function C(I){p("throw",I)}function O(I,S){I(S),u.shift(),u.length&&p(u[0][0],u[0][1])}},Wx=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});var gd=Wx(Zo()),_n=Wx(rs()),ns=RD(vn()),yd=$x();_i();var Gx=class{constructor(t,r,i){this.api=t,this.crypto=r,this.chunks=i}getTransactionAnchor(){return this.api.get("tx_anchor",{transformResponse:[]}).then(t=>t.data)}getPrice(t,r){let i=r?`price/${t}/${r}`:`price/${t}`;return this.api.get(i,{transformResponse:[function(o){return o}]}).then(o=>o.data)}async get(t){let r=await this.api.get(`tx/${t}`);if(r.status==200){let i=parseInt(r.data.data_size);if(r.data.format>=2&&i>0&&i<=1024*1024*12){let o=await this.getData(t);return new _n.default(Object.assign(Object.assign({},r.data),{data:o}))}return new _n.default(Object.assign(Object.assign({},r.data),{format:r.data.format||1}))}throw r.status==404?new gd.default("TX_NOT_FOUND"):r.status==410?new gd.default("TX_FAILED"):new gd.default("TX_INVALID")}fromRaw(t){return new _n.default(t)}async search(t,r){return this.api.post("arql",{op:"equals",expr1:t,expr2:r}).then(i=>i.data?i.data:[])}getStatus(t){return this.api.get(`tx/${t}/status`).then(r=>r.status==200?{status:200,confirmed:r.data}:{status:r.status,confirmed:null})}async getData(t,r){let i=await this.chunks.downloadChunkedData(t);return r&&r.decode&&!r.string?i:r&&r.decode&&r.string?ns.bufferToString(i):ns.bufferTob64Url(i)}async sign(t,r,i){if(!r&&(typeof window>"u"||!window.arweaveWallet))throw new Error("A new Arweave transaction must provide the jwk parameter.");if(!r||r==="use_wallet"){try{(await window.arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await window.arweaveWallet.connect(["SIGN_TRANSACTION"])}catch(u){}let o=await window.arweaveWallet.sign(t,i);t.setSignature({id:o.id,owner:o.owner,reward:o.reward,tags:o.tags,signature:o.signature})}else{t.setOwner(r.n);let o=await t.getSignatureData(),u=await this.crypto.sign(r,o,i),c=await this.crypto.hash(u);t.setSignature({id:ns.bufferTob64Url(c),owner:r.n,signature:ns.bufferTob64Url(u)})}}async verify(t){let r=await t.getSignatureData(),i=t.get("signature",{decode:!0,string:!1}),o=ns.bufferTob64Url(await this.crypto.hash(i));if(t.id!==o)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,r,i)}async post(t){if(typeof t=="string"?t=new _n.default(JSON.parse(t)):typeof t.readInt32BE=="function"?t=new _n.default(JSON.parse(t.toString())):typeof t=="object"&&!(t instanceof _n.default)&&(t=new _n.default(t)),!(t instanceof _n.default))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);let r=await this.getUploader(t,t.data);try{for(;!r.isComplete;)await r.uploadChunk()}catch(i){if(r.lastResponseStatus>0)return{status:r.lastResponseStatus,statusText:r.lastResponseError,data:{error:r.lastResponseError}};throw i}return{status:200,statusText:"OK",data:{}}}async getUploader(t,r){let i;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),t instanceof _n.default){if(r||(r=t.data),!(r instanceof Uint8Array))throw new Error("Data format is invalid");t.chunks||await t.prepareChunks(r),i=new yd.TransactionUploader(this.api,t),(!i.data||i.data.length===0)&&(i.data=r)}else{if(typeof t=="string"&&(t=await yd.TransactionUploader.fromTransactionId(this.api,t)),!r||!(r instanceof Uint8Array))throw new Error("Must provide data when resuming upload");i=await yd.TransactionUploader.fromSerialized(this.api,t,r)}return i}upload(t,r){return LD(this,arguments,function*(){let o=yield Si(this.getUploader(t,r));for(;!o.isComplete;)yield Si(o.uploadChunk()),yield yield Si(o);return yield Si(o)})}};or.default=Gx});var Kx=U(bn=>{"use strict";var PD=bn&&bn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),ND=bn&&bn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),UD=bn&&bn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&PD(t,e,r);return ND(t,e),t};Object.defineProperty(bn,"__esModule",{value:!0});var jx=UD(vn());_i();var zx=class{constructor(t,r){this.api=t,this.crypto=r}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(r){return r}]}).then(r=>r.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return!t||t==="use_wallet"?this.getAddress():this.getAddress(t)}async getAddress(t){if(!t||t==="use_wallet"){try{await window.arweaveWallet.connect(["ACCESS_ADDRESS"])}catch(r){}return window.arweaveWallet.getActiveAddress()}else return this.ownerToAddress(t.n)}async ownerToAddress(t){return jx.bufferTob64Url(await this.crypto.hash(jx.b64UrlToBuffer(t)))}};bn.default=zx});var Qx=U(zr=>{"use strict";var FD=zr&&zr.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),kD=zr&&zr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DD=zr&&zr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&FD(t,e,r);return kD(t,e),t};Object.defineProperty(zr,"__esModule",{value:!0});zr.SiloResource=void 0;var Vx=DD(vn()),Jx=class{constructor(t,r,i){this.api=t,this.crypto=r,this.transactions=i}async get(t){if(!t)throw new Error("No Silo URI specified");let r=await this.parseUri(t),i=await this.transactions.search("Silo-Name",r.getAccessKey());if(i.length==0)throw new Error(`No data could be found for the Silo URI: ${t}`);let o=await this.transactions.get(i[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${t}`);let u=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(u,r.getEncryptionKey())}async readTransactionData(t,r){if(!r)throw new Error("No Silo URI specified");let i=await this.parseUri(r),o=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,i.getEncryptionKey())}async parseUri(t){let r=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");let i=r[1],o=Math.pow(2,parseInt(r[2])),u=await this.hash(Vx.stringToBuffer(i),o),c=Vx.bufferTob64(u.slice(0,15)),p=await this.hash(u.slice(16,31),1);return new md(t,c,p)}async hash(t,r){let i=await this.crypto.hash(t);for(let o=0;o<r-1;o++)i=await this.crypto.hash(i);return i}};zr.default=Jx;var md=class{constructor(t,r,i){this.uri=t,this.accessKey=r,this.encryptionKey=i}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}};zr.SiloResource=md});var Xx=U(xn=>{"use strict";var qD=xn&&xn.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),$D=xn&&xn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WD=xn&&xn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qD(t,e,r);return $D(t,e),t};Object.defineProperty(xn,"__esModule",{value:!0});var Yx=Zo(),GD=WD(vn()),Zx=class{constructor(t){this.api=t}async getTransactionOffset(t){let r=await this.api.get(`tx/${t}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,Yx.getError)(r)}`)}async getChunk(t){let r=await this.api.get(`chunk/${t}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,Yx.getError)(r)}`)}async getChunkData(t){let r=await this.getChunk(t);return GD.b64UrlToBuffer(r.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){let r=await this.getTransactionOffset(t),i=parseInt(r.size),u=parseInt(r.offset)-i+1,c=new Uint8Array(i),p=0;for(;p<i;){this.api.config.logging&&console.log(`[chunk] ${p}/${i}`);let w;try{w=await this.getChunkData(u+p)}catch(M){console.error(`[chunk] Failed to fetch chunk at offset ${u+p}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gatway/node")}if(w)c.set(w,p),p+=w.length;else throw new Error(`Coudn't complete data download at ${p}/${i}`)}return c}};xn.default=Zx});var tS=U(is=>{"use strict";var HD=is&&is.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(is,"__esModule",{value:!0});var jD=HD(Zo());_i();var as=class{constructor(t,r){this.api=t,this.network=r}async get(t){let r=await this.api.get(`${as.ENDPOINT}${t}`);if(r.status===200)return r.data;throw r.status===404?new jD.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){let{current:t}=await this.network.getInfo();return await this.get(t)}};is.default=as;as.ENDPOINT="block/hash/"});var dd=U(Kr=>{"use strict";var zD=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),KD=Kr&&Kr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VD=Kr&&Kr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zD(t,e,r);return KD(t,e),t},Sn=Kr&&Kr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});var JD=Sn(Cx()),QD=Sn(Bx()),YD=Sn(Rx()),ZD=Sn(Hx()),XD=Sn(Kx()),eS=Sn(rs()),os=VD(vn()),tq=Sn(Qx()),eq=Sn(Xx()),rq=Sn(tS()),Kn=class{constructor(t){this.api=new QD.default(t),this.wallets=new XD.default(this.api,Kn.crypto),this.chunks=new eq.default(this.api),this.transactions=new ZD.default(this.api,Kn.crypto,this.chunks),this.silo=new tq.default(this.api,this.crypto,this.transactions),this.network=new YD.default(this.api),this.blocks=new rq.default(this.api,this.network),this.ar=new JD.default}get crypto(){return Kn.crypto}get utils(){return Kn.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(t,r){let i={};if(Object.assign(i,t),!t.data&&!(t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(t.owner==null&&r&&r!=="use_wallet"&&(i.owner=r.n),t.last_tx==null&&(i.last_tx=await this.transactions.getTransactionAnchor()),typeof t.data=="string"&&(t.data=os.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(t.reward==null){let u=t.data?t.data.byteLength:0;i.reward=await this.transactions.getPrice(u,i.target)}i.data_root="",i.data_size=t.data?t.data.byteLength.toString():"0",i.data=t.data||new Uint8Array(0);let o=new eS.default(i);return await o.getSignatureData(),o}async createSiloTransaction(t,r,i){let o={};if(Object.assign(o,t),!t.data)throw new Error("Silo transactions must have a 'data' value");if(!i)throw new Error("No Silo URI specified.");if(t.target||t.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(t.owner==null){if(!r||!r.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");o.owner=r.n}t.last_tx==null&&(o.last_tx=await this.transactions.getTransactionAnchor());let u=await this.silo.parseUri(i);if(typeof t.data=="string"){let p=await this.crypto.encrypt(os.stringToBuffer(t.data),u.getEncryptionKey());o.reward=await this.transactions.getPrice(p.byteLength),o.data=os.bufferTob64Url(p)}if(t.data instanceof Uint8Array){let p=await this.crypto.encrypt(t.data,u.getEncryptionKey());o.reward=await this.transactions.getPrice(p.byteLength),o.data=os.bufferTob64Url(p)}let c=new eS.default(o);return c.addTag("Silo-Name",u.getAccessKey()),c.addTag("Silo-Version","0.1.0"),c}arql(t){return this.api.post("/arql",t).then(r=>r.data||[])}};Kr.default=Kn;Kn.utils=os});var iS=U(ss=>{"use strict";var nq=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});var Er=nq(dd());async function rS(e){if(Array.isArray(e)){let i=Er.default.utils.concatBuffers([Er.default.utils.stringToBuffer("list"),Er.default.utils.stringToBuffer(e.length.toString())]);return await nS(e,await Er.default.crypto.hash(i,"SHA-384"))}let t=Er.default.utils.concatBuffers([Er.default.utils.stringToBuffer("blob"),Er.default.utils.stringToBuffer(e.byteLength.toString())]),r=Er.default.utils.concatBuffers([await Er.default.crypto.hash(t,"SHA-384"),await Er.default.crypto.hash(e,"SHA-384")]);return await Er.default.crypto.hash(r,"SHA-384")}ss.default=rS;async function nS(e,t){if(e.length<1)return t;let r=Er.default.utils.concatBuffers([t,await rS(e[0])]),i=await Er.default.crypto.hash(r,"SHA-384");return await nS(e.slice(1),i)}});var rs=U(Ar=>{"use strict";var iq=Ar&&Ar.__createBinding||(Object.create?function(e,t,r,i){i===void 0&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}),aq=Ar&&Ar.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oq=Ar&&Ar.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&iq(t,e,r);return aq(t,e),t},sq=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.Tag=void 0;var Ge=oq(vn()),uq=sq(iS()),fq=hd(),wd=class{get(t,r){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);return this[t]instanceof Uint8Array?r&&r.decode&&r.string?Ge.bufferToString(this[t]):r&&r.decode&&!r.string?this[t]:Ge.bufferTob64Url(this[t]):r&&r.decode==!0?r&&r.string?Ge.b64UrlToString(this[t]):Ge.b64UrlToBuffer(this[t]):this[t]}},Af=class extends wd{constructor(t,r,i=!1){super();this.name=t,this.value=r}};Ar.Tag=Af;var aS=class extends wd{constructor(t={}){super();this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,t),typeof this.data=="string"&&(this.data=Ge.b64UrlToBuffer(this.data)),t.tags&&(this.tags=t.tags.map(r=>new Af(r.name,r.value)))}addTag(t,r){this.tags.push(new Af(Ge.stringToB64Url(t),Ge.stringToB64Url(r)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:Ge.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(t){this.owner=t}setSignature({id:t,owner:r,reward:i,tags:o,signature:u}){this.id=t,this.owner=r,i&&(this.reward=i),o&&(this.tags=o),this.signature=u}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await(0,fq.generateTransactionChunks)(t),this.data_root=Ge.bufferTob64Url(this.chunks.data_root)),!this.chunks&&t.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,r){if(!this.chunks)throw new Error("Chunks have not been prepared");let i=this.chunks.proofs[t],o=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:Ge.bufferTob64Url(i.proof),offset:i.offset.toString(),chunk:Ge.bufferTob64Url(r.slice(o.minByteRange,o.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let t=this.tags.reduce((i,o)=>Ge.concatBuffers([i,o.get("name",{decode:!0,string:!1}),o.get("value",{decode:!0,string:!1})]),new Uint8Array);return Ge.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),Ge.stringToBuffer(this.quantity),Ge.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),t]);case 2:this.data_root||await this.prepareChunks(this.data);let r=this.tags.map(i=>[i.get("name",{decode:!0,string:!1}),i.get("value",{decode:!0,string:!1})]);return await(0,uq.default)([Ge.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),Ge.stringToBuffer(this.quantity),Ge.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r,Ge.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}};Ar.default=aS});var _d=U(()=>{});var uS=U(()=>{});var hS=U((Td,lS)=>{"use strict";var Ai=Ad();Ai.configure=Ad;Ai.stringify=Ai;Ai.default=Ai;Td.stringify=Ai;Td.configure=Ad;lS.exports=Ai;var cq=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,lq=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/g,Ed=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function hq(e){if(e.length===2){let r=e.charCodeAt(1);return`${e[0]}\\u${r.toString(16)}`}let t=e.charCodeAt(0);return Ed.length>t?Ed[t]:`\\u${t.toString(16)}`}function Vn(e){if(e.length<5e3&&!cq.test(e))return e;if(e.length>100)return e.replace(lq,hq);let t="",r=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o===34||o===92||o<32)t+=`${e.slice(r,i)}${Ed[o]}`,r=i+1;else if(o>=55296&&o<=57343){if(o<=56319&&i+1<e.length){let u=e.charCodeAt(i+1);if(u>=56320&&u<=57343){i++;continue}}t+=`${e.slice(r,i)}${`\\u${o.toString(16)}`}`,r=i+1}}return t+=e.slice(r),t}function bd(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){let r=e[t],i=t;for(;i!==0&&e[i-1]>r;)e[i]=e[i-1],i--;e[i]=r}return e}var dq=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)),Symbol.toStringTag).get;function xd(e){return dq.call(e)!==void 0&&e.length!==0}function Sd(e,t,r){e.length<r&&(r=e.length);let i=t===","?"":" ",o=`"0":${i}${e[0]}`;for(let u=1;u<r;u++)o+=`${t}"${u}":${i}${e[u]}`;return o}function pq(e){if(e&&Object.prototype.hasOwnProperty.call(e,"circularValue")){var t=e.circularValue;if(typeof t=="string")return`"${t}"`;if(t==null)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function fS(e,t){if(e&&Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(typeof r!="boolean")throw new TypeError(`The "${t}" argument must be of type boolean`)}return r===void 0?!0:r}function cS(e,t){if(e&&Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(typeof r!="number")throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${t}" argument must be an integer`);if(r<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return r===void 0?1/0:r}function Ei(e){return e===1?"1 item":`${e} items`}function gq(e){let t=new Set;for(let r of e)typeof r=="string"?t.add(r):typeof r=="number"&&t.add(String(r));return t}function Ad(e){let t=pq(e),r=fS(e,"bigint"),i=fS(e,"deterministic"),o=cS(e,"maximumDepth"),u=cS(e,"maximumBreadth");function c(O,I,S,N,k,Q){let J=I[O];switch(typeof J=="object"&&J!==null&&typeof J.toJSON=="function"&&(J=J.toJSON(O)),J=N.call(I,O,J),typeof J){case"string":return`"${Vn(J)}"`;case"object":{if(J===null)return"null";if(S.indexOf(J)!==-1)return t;let ft="",Z=",",st=Q;if(Array.isArray(J)){if(J.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(J),k!==""&&(Q+=k,ft+=`
${Q}`,Z=`,
${Q}`);let A=Math.min(J.length,u),f=0;for(;f<A-1;f++){let y=c(f,J,S,N,k,Q);ft+=y!==void 0?y:"null",ft+=Z}let l=c(f,J,S,N,k,Q);if(ft+=l!==void 0?l:"null",J.length-1>u){let y=J.length-u-1;ft+=`${Z}"... ${Ei(y)} not stringified"`}return k!==""&&(ft+=`
${st}`),S.pop(),`[${ft}]`}let et=Object.keys(J),nt=et.length;if(nt===0)return"{}";if(o<S.length+1)return'"[Object]"';let dt="",gt="";k!==""&&(Q+=k,Z=`,
${Q}`,dt=" ");let K=Math.min(nt,u);xd(J)&&(ft+=Sd(J,Z,u),et=et.slice(J.length),K-=J.length,gt=Z),i&&(et=bd(et)),S.push(J);for(let A=0;A<K;A++){let f=et[A],l=c(f,J,S,N,k,Q);l!==void 0&&(ft+=`${gt}"${Vn(f)}":${dt}${l}`,gt=Z)}if(nt>u){let A=nt-u;ft+=`${gt}"...":${dt}"${Ei(A)} not stringified"`,gt=Z}return k!==""&&gt.length>1&&(ft=`
${Q}${ft}
${st}`),S.pop(),`{${ft}}`}case"number":return isFinite(J)?String(J):"null";case"boolean":return J===!0?"true":"false";case"bigint":return r?String(J):void 0}}function p(O,I,S,N,k,Q){switch(typeof I=="object"&&I!==null&&typeof I.toJSON=="function"&&(I=I.toJSON(O)),typeof I){case"string":return`"${Vn(I)}"`;case"object":{if(I===null)return"null";if(S.indexOf(I)!==-1)return t;let J=Q,ft="",Z=",";if(Array.isArray(I)){if(I.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(I),k!==""&&(Q+=k,ft+=`
${Q}`,Z=`,
${Q}`);let nt=Math.min(I.length,u),dt=0;for(;dt<nt-1;dt++){let K=p(dt,I[dt],S,N,k,Q);ft+=K!==void 0?K:"null",ft+=Z}let gt=p(dt,I[dt],S,N,k,Q);if(ft+=gt!==void 0?gt:"null",I.length-1>u){let K=I.length-u-1;ft+=`${Z}"... ${Ei(K)} not stringified"`}return k!==""&&(ft+=`
${J}`),S.pop(),`[${ft}]`}if(N.size===0)return"{}";S.push(I);let st="";k!==""&&(Q+=k,Z=`,
${Q}`,st=" ");let et="";for(let nt of N){let dt=p(nt,I[nt],S,N,k,Q);dt!==void 0&&(ft+=`${et}"${Vn(nt)}":${st}${dt}`,et=Z)}return k!==""&&et.length>1&&(ft=`
${Q}${ft}
${J}`),S.pop(),`{${ft}}`}case"number":return isFinite(I)?String(I):"null";case"boolean":return I===!0?"true":"false";case"bigint":return r?String(I):void 0}}function w(O,I,S,N,k){switch(typeof I){case"string":return`"${Vn(I)}"`;case"object":{if(I===null)return"null";if(typeof I.toJSON=="function"){if(I=I.toJSON(O),typeof I!="object")return w(O,I,S,N,k);if(I===null)return"null"}if(S.indexOf(I)!==-1)return t;let Q=k;if(Array.isArray(I)){if(I.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(I),k+=N;let dt=`
${k}`,gt=`,
${k}`,K=Math.min(I.length,u),A=0;for(;A<K-1;A++){let l=w(A,I[A],S,N,k);dt+=l!==void 0?l:"null",dt+=gt}let f=w(A,I[A],S,N,k);if(dt+=f!==void 0?f:"null",I.length-1>u){let l=I.length-u-1;dt+=`${gt}"... ${Ei(l)} not stringified"`}return dt+=`
${Q}`,S.pop(),`[${dt}]`}let J=Object.keys(I),ft=J.length;if(ft===0)return"{}";if(o<S.length+1)return'"[Object]"';k+=N;let Z=`,
${k}`,st="",et="",nt=Math.min(ft,u);xd(I)&&(st+=Sd(I,Z,u),J=J.slice(I.length),nt-=I.length,et=Z),i&&(J=bd(J)),S.push(I);for(let dt=0;dt<nt;dt++){let gt=J[dt],K=w(gt,I[gt],S,N,k);K!==void 0&&(st+=`${et}"${Vn(gt)}": ${K}`,et=Z)}if(ft>u){let dt=ft-u;st+=`${et}"...": "${Ei(dt)} not stringified"`,et=Z}return et!==""&&(st=`
${k}${st}
${Q}`),S.pop(),`{${st}}`}case"number":return isFinite(I)?String(I):"null";case"boolean":return I===!0?"true":"false";case"bigint":return r?String(I):void 0}}function M(O,I,S){switch(typeof I){case"string":return`"${Vn(I)}"`;case"object":{if(I===null)return"null";if(typeof I.toJSON=="function"){if(I=I.toJSON(O),typeof I!="object")return M(O,I,S);if(I===null)return"null"}if(S.indexOf(I)!==-1)return t;let N="";if(Array.isArray(I)){if(I.length===0)return"[]";if(o<S.length+1)return'"[Array]"';S.push(I);let Z=Math.min(I.length,u),st=0;for(;st<Z-1;st++){let nt=M(st,I[st],S);N+=nt!==void 0?nt:"null",N+=","}let et=M(st,I[st],S);if(N+=et!==void 0?et:"null",I.length-1>u){let nt=I.length-u-1;N+=`,"... ${Ei(nt)} not stringified"`}return S.pop(),`[${N}]`}let k=Object.keys(I),Q=k.length;if(Q===0)return"{}";if(o<S.length+1)return'"[Object]"';let J="",ft=Math.min(Q,u);xd(I)&&(N+=Sd(I,",",u),k=k.slice(I.length),ft-=I.length,J=","),i&&(k=bd(k)),S.push(I);for(let Z=0;Z<ft;Z++){let st=k[Z],et=M(st,I[st],S);et!==void 0&&(N+=`${J}"${Vn(st)}":${et}`,J=",")}if(Q>u){let Z=Q-u;N+=`${J}"...":"${Ei(Z)} not stringified"`}return S.pop(),`{${N}}`}case"number":return isFinite(I)?String(I):"null";case"boolean":return I===!0?"true":"false";case"bigint":return r?String(I):void 0}}function C(O,I,S){if(arguments.length>1){let N="";if(typeof S=="number"?N=" ".repeat(Math.min(S,10)):typeof S=="string"&&(N=S.slice(0,10)),I!=null){if(typeof I=="function")return c("",{"":O},[],I,N,"");if(Array.isArray(I))return p("",O,[],gq(I),N,"")}if(N.length!==0)return w("",O,[],N,"")}return M("",O,[])}return C}});var TS=U(()=>{});var Fd=U((IS,Ud)=>{(function(e,t){"use strict";function r(A,f){if(!A)throw new Error(f||"Assertion failed")}function i(A,f){A.super_=f;var l=function(){};l.prototype=f.prototype,A.prototype=new l,A.prototype.constructor=A}function o(A,f,l){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((f==="le"||f==="be")&&(l=f,f=10),this._init(A||0,f||10,l||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=TS().Buffer}catch(A){}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,l){return f.cmp(l)>0?f:l},o.min=function(f,l){return f.cmp(l)<0?f:l},o.prototype._init=function(f,l,y){if(typeof f=="number")return this._initNumber(f,l,y);if(typeof f=="object")return this._initArray(f,l,y);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),f=f.toString().replace(/\s+/g,"");var v=0;f[0]==="-"&&(v++,this.negative=1),v<f.length&&(l===16?this._parseHex(f,v,y):(this._parseBase(f,l,v),y==="le"&&this._initArray(this.toArray(),l,y)))},o.prototype._initNumber=function(f,l,y){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),l,y)},o.prototype._initArray=function(f,l,y){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E,R,D=0;if(y==="be")for(v=f.length-1,E=0;v>=0;v-=3)R=f[v]|f[v-1]<<8|f[v-2]<<16,this.words[E]|=R<<D&67108863,this.words[E+1]=R>>>26-D&67108863,D+=24,D>=26&&(D-=26,E++);else if(y==="le")for(v=0,E=0;v<f.length;v+=3)R=f[v]|f[v+1]<<8|f[v+2]<<16,this.words[E]|=R<<D&67108863,this.words[E+1]=R>>>26-D&67108863,D+=24,D>=26&&(D-=26,E++);return this.strip()};function c(A,f){var l=A.charCodeAt(f);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function p(A,f,l){var y=c(A,l);return l-1>=f&&(y|=c(A,l-1)<<4),y}o.prototype._parseHex=function(f,l,y){this.length=Math.ceil((f.length-l)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E=0,R=0,D;if(y==="be")for(v=f.length-1;v>=l;v-=2)D=p(f,l,v)<<E,this.words[R]|=D&67108863,E>=18?(E-=18,R+=1,this.words[R]|=D>>>26):E+=8;else{var T=f.length-l;for(v=T%2===0?l+1:l;v<f.length;v+=2)D=p(f,l,v)<<E,this.words[R]|=D&67108863,E>=18?(E-=18,R+=1,this.words[R]|=D>>>26):E+=8}this.strip()};function w(A,f,l,y){for(var v=0,E=Math.min(A.length,l),R=f;R<E;R++){var D=A.charCodeAt(R)-48;v*=y,D>=49?v+=D-49+10:D>=17?v+=D-17+10:v+=D}return v}o.prototype._parseBase=function(f,l,y){this.words=[0],this.length=1;for(var v=0,E=1;E<=67108863;E*=l)v++;v--,E=E/l|0;for(var R=f.length-y,D=R%v,T=Math.min(R,R-D)+y,d=0,m=y;m<T;m+=v)d=w(f,m,m+v,l),this.imuln(E),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(D!==0){var rt=1;for(d=w(f,m,f.length,l),m=0;m<D;m++)rt*=l;this.imuln(rt),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var l=0;l<this.length;l++)f.words[l]=this.words[l];f.length=this.length,f.negative=this.negative,f.red=this.red},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,l){f=f||10,l=l|0||1;var y;if(f===16||f==="hex"){y="";for(var v=0,E=0,R=0;R<this.length;R++){var D=this.words[R],T=((D<<v|E)&16777215).toString(16);E=D>>>24-v&16777215,E!==0||R!==this.length-1?y=M[6-T.length]+T+y:y=T+y,v+=2,v>=26&&(v-=26,R--)}for(E!==0&&(y=E.toString(16)+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(f===(f|0)&&f>=2&&f<=36){var d=C[f],m=O[f];y="";var rt=this.clone();for(rt.negative=0;!rt.isZero();){var at=rt.modn(m).toString(f);rt=rt.idivn(m),rt.isZero()?y=at+y:y=M[d-at.length]+at+y}for(this.isZero()&&(y="0"+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(f,l){return r(typeof u<"u"),this.toArrayLike(u,f,l)},o.prototype.toArray=function(f,l){return this.toArrayLike(Array,f,l)},o.prototype.toArrayLike=function(f,l,y){var v=this.byteLength(),E=y||Math.max(1,v);r(v<=E,"byte array longer than desired length"),r(E>0,"Requested array length <= 0"),this.strip();var R=l==="le",D=new f(E),T,d,m=this.clone();if(R){for(d=0;!m.isZero();d++)T=m.andln(255),m.iushrn(8),D[d]=T;for(;d<E;d++)D[d]=0}else{for(d=0;d<E-v;d++)D[d]=0;for(d=0;!m.isZero();d++)T=m.andln(255),m.iushrn(8),D[E-d-1]=T}return D},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var l=f,y=0;return l>=4096&&(y+=13,l>>>=13),l>=64&&(y+=7,l>>>=7),l>=8&&(y+=4,l>>>=4),l>=2&&(y+=2,l>>>=2),y+l},o.prototype._zeroBits=function(f){if(f===0)return 26;var l=f,y=0;return(l&8191)===0&&(y+=13,l>>>=13),(l&127)===0&&(y+=7,l>>>=7),(l&15)===0&&(y+=4,l>>>=4),(l&3)===0&&(y+=2,l>>>=2),(l&1)===0&&y++,y},o.prototype.bitLength=function(){var f=this.words[this.length-1],l=this._countBits(f);return(this.length-1)*26+l};function I(A){for(var f=new Array(A.bitLength()),l=0;l<f.length;l++){var y=l/26|0,v=l%26;f[l]=(A.words[y]&1<<v)>>>v}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,l=0;l<this.length;l++){var y=this._zeroBits(this.words[l]);if(f+=y,y!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var l=0;l<f.length;l++)this.words[l]=this.words[l]|f.words[l];return this.strip()},o.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var l;this.length>f.length?l=f:l=this;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]&f.words[y];return this.length=l.length,this.strip()},o.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var l,y;this.length>f.length?(l=this,y=f):(l=f,y=this);for(var v=0;v<y.length;v++)this.words[v]=l.words[v]^y.words[v];if(this!==l)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=l.length,this.strip()},o.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var l=Math.ceil(f/26)|0,y=f%26;this._expand(l),y>0&&l--;for(var v=0;v<l;v++)this.words[v]=~this.words[v]&67108863;return y>0&&(this.words[v]=~this.words[v]&67108863>>26-y),this.strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,l){r(typeof f=="number"&&f>=0);var y=f/26|0,v=f%26;return this._expand(y+1),l?this.words[y]=this.words[y]|1<<v:this.words[y]=this.words[y]&~(1<<v),this.strip()},o.prototype.iadd=function(f){var l;if(this.negative!==0&&f.negative===0)return this.negative=0,l=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,l=this.isub(f),f.negative=1,l._normSign();var y,v;this.length>f.length?(y=this,v=f):(y=f,v=this);for(var E=0,R=0;R<v.length;R++)l=(y.words[R]|0)+(v.words[R]|0)+E,this.words[R]=l&67108863,E=l>>>26;for(;E!==0&&R<y.length;R++)l=(y.words[R]|0)+E,this.words[R]=l&67108863,E=l>>>26;if(this.length=y.length,E!==0)this.words[this.length]=E,this.length++;else if(y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this},o.prototype.add=function(f){var l;return f.negative!==0&&this.negative===0?(f.negative=0,l=this.sub(f),f.negative^=1,l):f.negative===0&&this.negative!==0?(this.negative=0,l=f.sub(this),this.negative=1,l):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var l=this.iadd(f);return f.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var y=this.cmp(f);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,E;y>0?(v=this,E=f):(v=f,E=this);for(var R=0,D=0;D<E.length;D++)l=(v.words[D]|0)-(E.words[D]|0)+R,R=l>>26,this.words[D]=l&67108863;for(;R!==0&&D<v.length;D++)l=(v.words[D]|0)+R,R=l>>26,this.words[D]=l&67108863;if(R===0&&D<v.length&&v!==this)for(;D<v.length;D++)this.words[D]=v.words[D];return this.length=Math.max(this.length,D),v!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function S(A,f,l){l.negative=f.negative^A.negative;var y=A.length+f.length|0;l.length=y,y=y-1|0;var v=A.words[0]|0,E=f.words[0]|0,R=v*E,D=R&67108863,T=R/67108864|0;l.words[0]=D;for(var d=1;d<y;d++){for(var m=T>>>26,rt=T&67108863,at=Math.min(d,f.length-1),q=Math.max(0,d-A.length+1);q<=at;q++){var yt=d-q|0;v=A.words[yt]|0,E=f.words[q]|0,R=v*E+rt,m+=R/67108864|0,rt=R&67108863}l.words[d]=rt|0,T=m|0}return T!==0?l.words[d]=T|0:l.length--,l.strip()}var N=function(f,l,y){var v=f.words,E=l.words,R=y.words,D=0,T,d,m,rt=v[0]|0,at=rt&8191,q=rt>>>13,yt=v[1]|0,Mt=yt&8191,Et=yt>>>13,Pt=v[2]|0,Ut=Pt&8191,x=Pt>>>13,B=v[3]|0,P=B&8191,j=B>>>13,G=v[4]|0,z=G&8191,X=G>>>13,$=v[5]|0,W=$&8191,Y=$>>>13,tt=v[6]|0,ot=tt&8191,mt=tt>>>13,St=v[7]|0,xt=St&8191,Rt=St>>>13,oe=v[8]|0,_t=oe&8191,Tt=oe>>>13,we=v[9]|0,ne=we&8191,se=we>>>13,Vr=E[0]|0,Jt=Vr&8191,te=Vr>>>13,De=E[1]|0,qt=De&8191,Lt=De>>>13,ys=E[2]|0,Se=ys&8191,ve=ys>>>13,Ma=E[3]|0,Ee=Ma&8191,Ae=Ma>>>13,ms=E[4]|0,Te=ms&8191,_e=ms>>>13,ws=E[5]|0,Ie=ws&8191,Ce=ws>>>13,Bi=E[6]|0,Oe=Bi&8191,ye=Bi>>>13,vs=E[7]|0,Be=vs&8191,Me=vs>>>13,_s=E[8]|0,Re=_s&8191,Le=_s>>>13,bs=E[9]|0,Pe=bs&8191,be=bs>>>13;y.negative=f.negative^l.negative,y.length=19,T=Math.imul(at,Jt),d=Math.imul(at,te),d=d+Math.imul(q,Jt)|0,m=Math.imul(q,te);var Ra=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,T=Math.imul(Mt,Jt),d=Math.imul(Mt,te),d=d+Math.imul(Et,Jt)|0,m=Math.imul(Et,te),T=T+Math.imul(at,qt)|0,d=d+Math.imul(at,Lt)|0,d=d+Math.imul(q,qt)|0,m=m+Math.imul(q,Lt)|0;var La=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(La>>>26)|0,La&=67108863,T=Math.imul(Ut,Jt),d=Math.imul(Ut,te),d=d+Math.imul(x,Jt)|0,m=Math.imul(x,te),T=T+Math.imul(Mt,qt)|0,d=d+Math.imul(Mt,Lt)|0,d=d+Math.imul(Et,qt)|0,m=m+Math.imul(Et,Lt)|0,T=T+Math.imul(at,Se)|0,d=d+Math.imul(at,ve)|0,d=d+Math.imul(q,Se)|0,m=m+Math.imul(q,ve)|0;var Pa=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,T=Math.imul(P,Jt),d=Math.imul(P,te),d=d+Math.imul(j,Jt)|0,m=Math.imul(j,te),T=T+Math.imul(Ut,qt)|0,d=d+Math.imul(Ut,Lt)|0,d=d+Math.imul(x,qt)|0,m=m+Math.imul(x,Lt)|0,T=T+Math.imul(Mt,Se)|0,d=d+Math.imul(Mt,ve)|0,d=d+Math.imul(Et,Se)|0,m=m+Math.imul(Et,ve)|0,T=T+Math.imul(at,Ee)|0,d=d+Math.imul(at,Ae)|0,d=d+Math.imul(q,Ee)|0,m=m+Math.imul(q,Ae)|0;var Na=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Na>>>26)|0,Na&=67108863,T=Math.imul(z,Jt),d=Math.imul(z,te),d=d+Math.imul(X,Jt)|0,m=Math.imul(X,te),T=T+Math.imul(P,qt)|0,d=d+Math.imul(P,Lt)|0,d=d+Math.imul(j,qt)|0,m=m+Math.imul(j,Lt)|0,T=T+Math.imul(Ut,Se)|0,d=d+Math.imul(Ut,ve)|0,d=d+Math.imul(x,Se)|0,m=m+Math.imul(x,ve)|0,T=T+Math.imul(Mt,Ee)|0,d=d+Math.imul(Mt,Ae)|0,d=d+Math.imul(Et,Ee)|0,m=m+Math.imul(Et,Ae)|0,T=T+Math.imul(at,Te)|0,d=d+Math.imul(at,_e)|0,d=d+Math.imul(q,Te)|0,m=m+Math.imul(q,_e)|0;var Ua=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,T=Math.imul(W,Jt),d=Math.imul(W,te),d=d+Math.imul(Y,Jt)|0,m=Math.imul(Y,te),T=T+Math.imul(z,qt)|0,d=d+Math.imul(z,Lt)|0,d=d+Math.imul(X,qt)|0,m=m+Math.imul(X,Lt)|0,T=T+Math.imul(P,Se)|0,d=d+Math.imul(P,ve)|0,d=d+Math.imul(j,Se)|0,m=m+Math.imul(j,ve)|0,T=T+Math.imul(Ut,Ee)|0,d=d+Math.imul(Ut,Ae)|0,d=d+Math.imul(x,Ee)|0,m=m+Math.imul(x,Ae)|0,T=T+Math.imul(Mt,Te)|0,d=d+Math.imul(Mt,_e)|0,d=d+Math.imul(Et,Te)|0,m=m+Math.imul(Et,_e)|0,T=T+Math.imul(at,Ie)|0,d=d+Math.imul(at,Ce)|0,d=d+Math.imul(q,Ie)|0,m=m+Math.imul(q,Ce)|0;var Fa=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Fa>>>26)|0,Fa&=67108863,T=Math.imul(ot,Jt),d=Math.imul(ot,te),d=d+Math.imul(mt,Jt)|0,m=Math.imul(mt,te),T=T+Math.imul(W,qt)|0,d=d+Math.imul(W,Lt)|0,d=d+Math.imul(Y,qt)|0,m=m+Math.imul(Y,Lt)|0,T=T+Math.imul(z,Se)|0,d=d+Math.imul(z,ve)|0,d=d+Math.imul(X,Se)|0,m=m+Math.imul(X,ve)|0,T=T+Math.imul(P,Ee)|0,d=d+Math.imul(P,Ae)|0,d=d+Math.imul(j,Ee)|0,m=m+Math.imul(j,Ae)|0,T=T+Math.imul(Ut,Te)|0,d=d+Math.imul(Ut,_e)|0,d=d+Math.imul(x,Te)|0,m=m+Math.imul(x,_e)|0,T=T+Math.imul(Mt,Ie)|0,d=d+Math.imul(Mt,Ce)|0,d=d+Math.imul(Et,Ie)|0,m=m+Math.imul(Et,Ce)|0,T=T+Math.imul(at,Oe)|0,d=d+Math.imul(at,ye)|0,d=d+Math.imul(q,Oe)|0,m=m+Math.imul(q,ye)|0;var Tn=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,T=Math.imul(xt,Jt),d=Math.imul(xt,te),d=d+Math.imul(Rt,Jt)|0,m=Math.imul(Rt,te),T=T+Math.imul(ot,qt)|0,d=d+Math.imul(ot,Lt)|0,d=d+Math.imul(mt,qt)|0,m=m+Math.imul(mt,Lt)|0,T=T+Math.imul(W,Se)|0,d=d+Math.imul(W,ve)|0,d=d+Math.imul(Y,Se)|0,m=m+Math.imul(Y,ve)|0,T=T+Math.imul(z,Ee)|0,d=d+Math.imul(z,Ae)|0,d=d+Math.imul(X,Ee)|0,m=m+Math.imul(X,Ae)|0,T=T+Math.imul(P,Te)|0,d=d+Math.imul(P,_e)|0,d=d+Math.imul(j,Te)|0,m=m+Math.imul(j,_e)|0,T=T+Math.imul(Ut,Ie)|0,d=d+Math.imul(Ut,Ce)|0,d=d+Math.imul(x,Ie)|0,m=m+Math.imul(x,Ce)|0,T=T+Math.imul(Mt,Oe)|0,d=d+Math.imul(Mt,ye)|0,d=d+Math.imul(Et,Oe)|0,m=m+Math.imul(Et,ye)|0,T=T+Math.imul(at,Be)|0,d=d+Math.imul(at,Me)|0,d=d+Math.imul(q,Be)|0,m=m+Math.imul(q,Me)|0;var ka=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(ka>>>26)|0,ka&=67108863,T=Math.imul(_t,Jt),d=Math.imul(_t,te),d=d+Math.imul(Tt,Jt)|0,m=Math.imul(Tt,te),T=T+Math.imul(xt,qt)|0,d=d+Math.imul(xt,Lt)|0,d=d+Math.imul(Rt,qt)|0,m=m+Math.imul(Rt,Lt)|0,T=T+Math.imul(ot,Se)|0,d=d+Math.imul(ot,ve)|0,d=d+Math.imul(mt,Se)|0,m=m+Math.imul(mt,ve)|0,T=T+Math.imul(W,Ee)|0,d=d+Math.imul(W,Ae)|0,d=d+Math.imul(Y,Ee)|0,m=m+Math.imul(Y,Ae)|0,T=T+Math.imul(z,Te)|0,d=d+Math.imul(z,_e)|0,d=d+Math.imul(X,Te)|0,m=m+Math.imul(X,_e)|0,T=T+Math.imul(P,Ie)|0,d=d+Math.imul(P,Ce)|0,d=d+Math.imul(j,Ie)|0,m=m+Math.imul(j,Ce)|0,T=T+Math.imul(Ut,Oe)|0,d=d+Math.imul(Ut,ye)|0,d=d+Math.imul(x,Oe)|0,m=m+Math.imul(x,ye)|0,T=T+Math.imul(Mt,Be)|0,d=d+Math.imul(Mt,Me)|0,d=d+Math.imul(Et,Be)|0,m=m+Math.imul(Et,Me)|0,T=T+Math.imul(at,Re)|0,d=d+Math.imul(at,Le)|0,d=d+Math.imul(q,Re)|0,m=m+Math.imul(q,Le)|0;var In=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(In>>>26)|0,In&=67108863,T=Math.imul(ne,Jt),d=Math.imul(ne,te),d=d+Math.imul(se,Jt)|0,m=Math.imul(se,te),T=T+Math.imul(_t,qt)|0,d=d+Math.imul(_t,Lt)|0,d=d+Math.imul(Tt,qt)|0,m=m+Math.imul(Tt,Lt)|0,T=T+Math.imul(xt,Se)|0,d=d+Math.imul(xt,ve)|0,d=d+Math.imul(Rt,Se)|0,m=m+Math.imul(Rt,ve)|0,T=T+Math.imul(ot,Ee)|0,d=d+Math.imul(ot,Ae)|0,d=d+Math.imul(mt,Ee)|0,m=m+Math.imul(mt,Ae)|0,T=T+Math.imul(W,Te)|0,d=d+Math.imul(W,_e)|0,d=d+Math.imul(Y,Te)|0,m=m+Math.imul(Y,_e)|0,T=T+Math.imul(z,Ie)|0,d=d+Math.imul(z,Ce)|0,d=d+Math.imul(X,Ie)|0,m=m+Math.imul(X,Ce)|0,T=T+Math.imul(P,Oe)|0,d=d+Math.imul(P,ye)|0,d=d+Math.imul(j,Oe)|0,m=m+Math.imul(j,ye)|0,T=T+Math.imul(Ut,Be)|0,d=d+Math.imul(Ut,Me)|0,d=d+Math.imul(x,Be)|0,m=m+Math.imul(x,Me)|0,T=T+Math.imul(Mt,Re)|0,d=d+Math.imul(Mt,Le)|0,d=d+Math.imul(Et,Re)|0,m=m+Math.imul(Et,Le)|0,T=T+Math.imul(at,Pe)|0,d=d+Math.imul(at,be)|0,d=d+Math.imul(q,Pe)|0,m=m+Math.imul(q,be)|0;var Da=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Da>>>26)|0,Da&=67108863,T=Math.imul(ne,qt),d=Math.imul(ne,Lt),d=d+Math.imul(se,qt)|0,m=Math.imul(se,Lt),T=T+Math.imul(_t,Se)|0,d=d+Math.imul(_t,ve)|0,d=d+Math.imul(Tt,Se)|0,m=m+Math.imul(Tt,ve)|0,T=T+Math.imul(xt,Ee)|0,d=d+Math.imul(xt,Ae)|0,d=d+Math.imul(Rt,Ee)|0,m=m+Math.imul(Rt,Ae)|0,T=T+Math.imul(ot,Te)|0,d=d+Math.imul(ot,_e)|0,d=d+Math.imul(mt,Te)|0,m=m+Math.imul(mt,_e)|0,T=T+Math.imul(W,Ie)|0,d=d+Math.imul(W,Ce)|0,d=d+Math.imul(Y,Ie)|0,m=m+Math.imul(Y,Ce)|0,T=T+Math.imul(z,Oe)|0,d=d+Math.imul(z,ye)|0,d=d+Math.imul(X,Oe)|0,m=m+Math.imul(X,ye)|0,T=T+Math.imul(P,Be)|0,d=d+Math.imul(P,Me)|0,d=d+Math.imul(j,Be)|0,m=m+Math.imul(j,Me)|0,T=T+Math.imul(Ut,Re)|0,d=d+Math.imul(Ut,Le)|0,d=d+Math.imul(x,Re)|0,m=m+Math.imul(x,Le)|0,T=T+Math.imul(Mt,Pe)|0,d=d+Math.imul(Mt,be)|0,d=d+Math.imul(Et,Pe)|0,m=m+Math.imul(Et,be)|0;var qa=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(qa>>>26)|0,qa&=67108863,T=Math.imul(ne,Se),d=Math.imul(ne,ve),d=d+Math.imul(se,Se)|0,m=Math.imul(se,ve),T=T+Math.imul(_t,Ee)|0,d=d+Math.imul(_t,Ae)|0,d=d+Math.imul(Tt,Ee)|0,m=m+Math.imul(Tt,Ae)|0,T=T+Math.imul(xt,Te)|0,d=d+Math.imul(xt,_e)|0,d=d+Math.imul(Rt,Te)|0,m=m+Math.imul(Rt,_e)|0,T=T+Math.imul(ot,Ie)|0,d=d+Math.imul(ot,Ce)|0,d=d+Math.imul(mt,Ie)|0,m=m+Math.imul(mt,Ce)|0,T=T+Math.imul(W,Oe)|0,d=d+Math.imul(W,ye)|0,d=d+Math.imul(Y,Oe)|0,m=m+Math.imul(Y,ye)|0,T=T+Math.imul(z,Be)|0,d=d+Math.imul(z,Me)|0,d=d+Math.imul(X,Be)|0,m=m+Math.imul(X,Me)|0,T=T+Math.imul(P,Re)|0,d=d+Math.imul(P,Le)|0,d=d+Math.imul(j,Re)|0,m=m+Math.imul(j,Le)|0,T=T+Math.imul(Ut,Pe)|0,d=d+Math.imul(Ut,be)|0,d=d+Math.imul(x,Pe)|0,m=m+Math.imul(x,be)|0;var $a=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+($a>>>26)|0,$a&=67108863,T=Math.imul(ne,Ee),d=Math.imul(ne,Ae),d=d+Math.imul(se,Ee)|0,m=Math.imul(se,Ae),T=T+Math.imul(_t,Te)|0,d=d+Math.imul(_t,_e)|0,d=d+Math.imul(Tt,Te)|0,m=m+Math.imul(Tt,_e)|0,T=T+Math.imul(xt,Ie)|0,d=d+Math.imul(xt,Ce)|0,d=d+Math.imul(Rt,Ie)|0,m=m+Math.imul(Rt,Ce)|0,T=T+Math.imul(ot,Oe)|0,d=d+Math.imul(ot,ye)|0,d=d+Math.imul(mt,Oe)|0,m=m+Math.imul(mt,ye)|0,T=T+Math.imul(W,Be)|0,d=d+Math.imul(W,Me)|0,d=d+Math.imul(Y,Be)|0,m=m+Math.imul(Y,Me)|0,T=T+Math.imul(z,Re)|0,d=d+Math.imul(z,Le)|0,d=d+Math.imul(X,Re)|0,m=m+Math.imul(X,Le)|0,T=T+Math.imul(P,Pe)|0,d=d+Math.imul(P,be)|0,d=d+Math.imul(j,Pe)|0,m=m+Math.imul(j,be)|0;var Mi=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,T=Math.imul(ne,Te),d=Math.imul(ne,_e),d=d+Math.imul(se,Te)|0,m=Math.imul(se,_e),T=T+Math.imul(_t,Ie)|0,d=d+Math.imul(_t,Ce)|0,d=d+Math.imul(Tt,Ie)|0,m=m+Math.imul(Tt,Ce)|0,T=T+Math.imul(xt,Oe)|0,d=d+Math.imul(xt,ye)|0,d=d+Math.imul(Rt,Oe)|0,m=m+Math.imul(Rt,ye)|0,T=T+Math.imul(ot,Be)|0,d=d+Math.imul(ot,Me)|0,d=d+Math.imul(mt,Be)|0,m=m+Math.imul(mt,Me)|0,T=T+Math.imul(W,Re)|0,d=d+Math.imul(W,Le)|0,d=d+Math.imul(Y,Re)|0,m=m+Math.imul(Y,Le)|0,T=T+Math.imul(z,Pe)|0,d=d+Math.imul(z,be)|0,d=d+Math.imul(X,Pe)|0,m=m+Math.imul(X,be)|0;var Ri=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,T=Math.imul(ne,Ie),d=Math.imul(ne,Ce),d=d+Math.imul(se,Ie)|0,m=Math.imul(se,Ce),T=T+Math.imul(_t,Oe)|0,d=d+Math.imul(_t,ye)|0,d=d+Math.imul(Tt,Oe)|0,m=m+Math.imul(Tt,ye)|0,T=T+Math.imul(xt,Be)|0,d=d+Math.imul(xt,Me)|0,d=d+Math.imul(Rt,Be)|0,m=m+Math.imul(Rt,Me)|0,T=T+Math.imul(ot,Re)|0,d=d+Math.imul(ot,Le)|0,d=d+Math.imul(mt,Re)|0,m=m+Math.imul(mt,Le)|0,T=T+Math.imul(W,Pe)|0,d=d+Math.imul(W,be)|0,d=d+Math.imul(Y,Pe)|0,m=m+Math.imul(Y,be)|0;var Li=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Li>>>26)|0,Li&=67108863,T=Math.imul(ne,Oe),d=Math.imul(ne,ye),d=d+Math.imul(se,Oe)|0,m=Math.imul(se,ye),T=T+Math.imul(_t,Be)|0,d=d+Math.imul(_t,Me)|0,d=d+Math.imul(Tt,Be)|0,m=m+Math.imul(Tt,Me)|0,T=T+Math.imul(xt,Re)|0,d=d+Math.imul(xt,Le)|0,d=d+Math.imul(Rt,Re)|0,m=m+Math.imul(Rt,Le)|0,T=T+Math.imul(ot,Pe)|0,d=d+Math.imul(ot,be)|0,d=d+Math.imul(mt,Pe)|0,m=m+Math.imul(mt,be)|0;var Wa=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,T=Math.imul(ne,Be),d=Math.imul(ne,Me),d=d+Math.imul(se,Be)|0,m=Math.imul(se,Me),T=T+Math.imul(_t,Re)|0,d=d+Math.imul(_t,Le)|0,d=d+Math.imul(Tt,Re)|0,m=m+Math.imul(Tt,Le)|0,T=T+Math.imul(xt,Pe)|0,d=d+Math.imul(xt,be)|0,d=d+Math.imul(Rt,Pe)|0,m=m+Math.imul(Rt,be)|0;var Ga=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Ga>>>26)|0,Ga&=67108863,T=Math.imul(ne,Re),d=Math.imul(ne,Le),d=d+Math.imul(se,Re)|0,m=Math.imul(se,Le),T=T+Math.imul(_t,Pe)|0,d=d+Math.imul(_t,be)|0,d=d+Math.imul(Tt,Pe)|0,m=m+Math.imul(Tt,be)|0;var Ha=(D+T|0)+((d&8191)<<13)|0;D=(m+(d>>>13)|0)+(Ha>>>26)|0,Ha&=67108863,T=Math.imul(ne,Pe),d=Math.imul(ne,be),d=d+Math.imul(se,Pe)|0,m=Math.imul(se,be);var ja=(D+T|0)+((d&8191)<<13)|0;return D=(m+(d>>>13)|0)+(ja>>>26)|0,ja&=67108863,R[0]=Ra,R[1]=La,R[2]=Pa,R[3]=Na,R[4]=Ua,R[5]=Fa,R[6]=Tn,R[7]=ka,R[8]=In,R[9]=Da,R[10]=qa,R[11]=$a,R[12]=Mi,R[13]=Ri,R[14]=Li,R[15]=Wa,R[16]=Ga,R[17]=Ha,R[18]=ja,D!==0&&(R[19]=D,y.length++),y};Math.imul||(N=S);function k(A,f,l){l.negative=f.negative^A.negative,l.length=A.length+f.length;for(var y=0,v=0,E=0;E<l.length-1;E++){var R=v;v=0;for(var D=y&67108863,T=Math.min(E,f.length-1),d=Math.max(0,E-A.length+1);d<=T;d++){var m=E-d,rt=A.words[m]|0,at=f.words[d]|0,q=rt*at,yt=q&67108863;R=R+(q/67108864|0)|0,yt=yt+D|0,D=yt&67108863,R=R+(yt>>>26)|0,v+=R>>>26,R&=67108863}l.words[E]=D,y=R,R=v}return y!==0?l.words[E]=y:l.length--,l.strip()}function Q(A,f,l){var y=new J;return y.mulp(A,f,l)}o.prototype.mulTo=function(f,l){var y,v=this.length+f.length;return this.length===10&&f.length===10?y=N(this,f,l):v<63?y=S(this,f,l):v<1024?y=k(this,f,l):y=Q(this,f,l),y};function J(A,f){this.x=A,this.y=f}J.prototype.makeRBT=function(f){for(var l=new Array(f),y=o.prototype._countBits(f)-1,v=0;v<f;v++)l[v]=this.revBin(v,y,f);return l},J.prototype.revBin=function(f,l,y){if(f===0||f===y-1)return f;for(var v=0,E=0;E<l;E++)v|=(f&1)<<l-E-1,f>>=1;return v},J.prototype.permute=function(f,l,y,v,E,R){for(var D=0;D<R;D++)v[D]=l[f[D]],E[D]=y[f[D]]},J.prototype.transform=function(f,l,y,v,E,R){this.permute(R,f,l,y,v,E);for(var D=1;D<E;D<<=1)for(var T=D<<1,d=Math.cos(2*Math.PI/T),m=Math.sin(2*Math.PI/T),rt=0;rt<E;rt+=T)for(var at=d,q=m,yt=0;yt<D;yt++){var Mt=y[rt+yt],Et=v[rt+yt],Pt=y[rt+yt+D],Ut=v[rt+yt+D],x=at*Pt-q*Ut;Ut=at*Ut+q*Pt,Pt=x,y[rt+yt]=Mt+Pt,v[rt+yt]=Et+Ut,y[rt+yt+D]=Mt-Pt,v[rt+yt+D]=Et-Ut,yt!==T&&(x=d*at-m*q,q=d*q+m*at,at=x)}},J.prototype.guessLen13b=function(f,l){var y=Math.max(l,f)|1,v=y&1,E=0;for(y=y/2|0;y;y=y>>>1)E++;return 1<<E+1+v},J.prototype.conjugate=function(f,l,y){if(!(y<=1))for(var v=0;v<y/2;v++){var E=f[v];f[v]=f[y-v-1],f[y-v-1]=E,E=l[v],l[v]=-l[y-v-1],l[y-v-1]=-E}},J.prototype.normalize13b=function(f,l){for(var y=0,v=0;v<l/2;v++){var E=Math.round(f[2*v+1]/l)*8192+Math.round(f[2*v]/l)+y;f[v]=E&67108863,E<67108864?y=0:y=E/67108864|0}return f},J.prototype.convert13b=function(f,l,y,v){for(var E=0,R=0;R<l;R++)E=E+(f[R]|0),y[2*R]=E&8191,E=E>>>13,y[2*R+1]=E&8191,E=E>>>13;for(R=2*l;R<v;++R)y[R]=0;r(E===0),r((E&-8192)===0)},J.prototype.stub=function(f){for(var l=new Array(f),y=0;y<f;y++)l[y]=0;return l},J.prototype.mulp=function(f,l,y){var v=2*this.guessLen13b(f.length,l.length),E=this.makeRBT(v),R=this.stub(v),D=new Array(v),T=new Array(v),d=new Array(v),m=new Array(v),rt=new Array(v),at=new Array(v),q=y.words;q.length=v,this.convert13b(f.words,f.length,D,v),this.convert13b(l.words,l.length,m,v),this.transform(D,R,T,d,v,E),this.transform(m,R,rt,at,v,E);for(var yt=0;yt<v;yt++){var Mt=T[yt]*rt[yt]-d[yt]*at[yt];d[yt]=T[yt]*at[yt]+d[yt]*rt[yt],T[yt]=Mt}return this.conjugate(T,d,v),this.transform(T,d,q,R,v,E),this.conjugate(q,R,v),this.normalize13b(q,v),y.negative=f.negative^l.negative,y.length=f.length+l.length,y.strip()},o.prototype.mul=function(f){var l=new o(null);return l.words=new Array(this.length+f.length),this.mulTo(f,l)},o.prototype.mulf=function(f){var l=new o(null);return l.words=new Array(this.length+f.length),Q(this,f,l)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){r(typeof f=="number"),r(f<67108864);for(var l=0,y=0;y<this.length;y++){var v=(this.words[y]|0)*f,E=(v&67108863)+(l&67108863);l>>=26,l+=v/67108864|0,l+=E>>>26,this.words[y]=E&67108863}return l!==0&&(this.words[y]=l,this.length++),this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var l=I(f);if(l.length===0)return new o(1);for(var y=this,v=0;v<l.length&&l[v]===0;v++,y=y.sqr());if(++v<l.length)for(var E=y.sqr();v<l.length;v++,E=E.sqr())l[v]!==0&&(y=y.mul(E));return y},o.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var l=f%26,y=(f-l)/26,v=67108863>>>26-l<<26-l,E;if(l!==0){var R=0;for(E=0;E<this.length;E++){var D=this.words[E]&v,T=(this.words[E]|0)-D<<l;this.words[E]=T|R,R=D>>>26-l}R&&(this.words[E]=R,this.length++)}if(y!==0){for(E=this.length-1;E>=0;E--)this.words[E+y]=this.words[E];for(E=0;E<y;E++)this.words[E]=0;this.length+=y}return this.strip()},o.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,l,y){r(typeof f=="number"&&f>=0);var v;l?v=(l-l%26)/26:v=0;var E=f%26,R=Math.min((f-E)/26,this.length),D=67108863^67108863>>>E<<E,T=y;if(v-=R,v=Math.max(0,v),T){for(var d=0;d<R;d++)T.words[d]=this.words[d];T.length=R}if(R!==0)if(this.length>R)for(this.length-=R,d=0;d<this.length;d++)this.words[d]=this.words[d+R];else this.words[0]=0,this.length=1;var m=0;for(d=this.length-1;d>=0&&(m!==0||d>=v);d--){var rt=this.words[d]|0;this.words[d]=m<<26-E|rt>>>E,m=rt&D}return T&&m!==0&&(T.words[T.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(f,l,y){return r(this.negative===0),this.iushrn(f,l,y)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var l=f%26,y=(f-l)/26,v=1<<l;if(this.length<=y)return!1;var E=this.words[y];return!!(E&v)},o.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var l=f%26,y=(f-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(l!==0&&y++,this.length=Math.min(y,this.length),l!==0){var v=67108863^67108863>>>l<<l;this.words[this.length-1]&=v}return this.strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,l,y){var v=f.length+y,E;this._expand(v);var R,D=0;for(E=0;E<f.length;E++){R=(this.words[E+y]|0)+D;var T=(f.words[E]|0)*l;R-=T&67108863,D=(R>>26)-(T/67108864|0),this.words[E+y]=R&67108863}for(;E<this.length-y;E++)R=(this.words[E+y]|0)+D,D=R>>26,this.words[E+y]=R&67108863;if(D===0)return this.strip();for(r(D===-1),D=0,E=0;E<this.length;E++)R=-(this.words[E]|0)+D,D=R>>26,this.words[E]=R&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(f,l){var y=this.length-f.length,v=this.clone(),E=f,R=E.words[E.length-1]|0,D=this._countBits(R);y=26-D,y!==0&&(E=E.ushln(y),v.iushln(y),R=E.words[E.length-1]|0);var T=v.length-E.length,d;if(l!=="mod"){d=new o(null),d.length=T+1,d.words=new Array(d.length);for(var m=0;m<d.length;m++)d.words[m]=0}var rt=v.clone()._ishlnsubmul(E,1,T);rt.negative===0&&(v=rt,d&&(d.words[T]=1));for(var at=T-1;at>=0;at--){var q=(v.words[E.length+at]|0)*67108864+(v.words[E.length+at-1]|0);for(q=Math.min(q/R|0,67108863),v._ishlnsubmul(E,q,at);v.negative!==0;)q--,v.negative=0,v._ishlnsubmul(E,1,at),v.isZero()||(v.negative^=1);d&&(d.words[at]=q)}return d&&d.strip(),v.strip(),l!=="div"&&y!==0&&v.iushrn(y),{div:d||null,mod:v}},o.prototype.divmod=function(f,l,y){if(r(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,E,R;return this.negative!==0&&f.negative===0?(R=this.neg().divmod(f,l),l!=="mod"&&(v=R.div.neg()),l!=="div"&&(E=R.mod.neg(),y&&E.negative!==0&&E.iadd(f)),{div:v,mod:E}):this.negative===0&&f.negative!==0?(R=this.divmod(f.neg(),l),l!=="mod"&&(v=R.div.neg()),{div:v,mod:R.mod}):(this.negative&f.negative)!==0?(R=this.neg().divmod(f.neg(),l),l!=="div"&&(E=R.mod.neg(),y&&E.negative!==0&&E.isub(f)),{div:R.div,mod:E}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?l==="div"?{div:this.divn(f.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modn(f.words[0]))}:this._wordDiv(f,l)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var l=this.divmod(f);if(l.mod.isZero())return l.div;var y=l.div.negative!==0?l.mod.isub(f):l.mod,v=f.ushrn(1),E=f.andln(1),R=y.cmp(v);return R<0||E===1&&R===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modn=function(f){r(f<=67108863);for(var l=(1<<26)%f,y=0,v=this.length-1;v>=0;v--)y=(l*y+(this.words[v]|0))%f;return y},o.prototype.idivn=function(f){r(f<=67108863);for(var l=0,y=this.length-1;y>=0;y--){var v=(this.words[y]|0)+l*67108864;this.words[y]=v/f|0,l=v%f}return this.strip()},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var l=this,y=f.clone();l.negative!==0?l=l.umod(f):l=l.clone();for(var v=new o(1),E=new o(0),R=new o(0),D=new o(1),T=0;l.isEven()&&y.isEven();)l.iushrn(1),y.iushrn(1),++T;for(var d=y.clone(),m=l.clone();!l.isZero();){for(var rt=0,at=1;(l.words[0]&at)===0&&rt<26;++rt,at<<=1);if(rt>0)for(l.iushrn(rt);rt-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(d),E.isub(m)),v.iushrn(1),E.iushrn(1);for(var q=0,yt=1;(y.words[0]&yt)===0&&q<26;++q,yt<<=1);if(q>0)for(y.iushrn(q);q-- >0;)(R.isOdd()||D.isOdd())&&(R.iadd(d),D.isub(m)),R.iushrn(1),D.iushrn(1);l.cmp(y)>=0?(l.isub(y),v.isub(R),E.isub(D)):(y.isub(l),R.isub(v),D.isub(E))}return{a:R,b:D,gcd:y.iushln(T)}},o.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var l=this,y=f.clone();l.negative!==0?l=l.umod(f):l=l.clone();for(var v=new o(1),E=new o(0),R=y.clone();l.cmpn(1)>0&&y.cmpn(1)>0;){for(var D=0,T=1;(l.words[0]&T)===0&&D<26;++D,T<<=1);if(D>0)for(l.iushrn(D);D-- >0;)v.isOdd()&&v.iadd(R),v.iushrn(1);for(var d=0,m=1;(y.words[0]&m)===0&&d<26;++d,m<<=1);if(d>0)for(y.iushrn(d);d-- >0;)E.isOdd()&&E.iadd(R),E.iushrn(1);l.cmp(y)>=0?(l.isub(y),v.isub(E)):(y.isub(l),E.isub(v))}var rt;return l.cmpn(1)===0?rt=v:rt=E,rt.cmpn(0)<0&&rt.iadd(f),rt},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var l=this.clone(),y=f.clone();l.negative=0,y.negative=0;for(var v=0;l.isEven()&&y.isEven();v++)l.iushrn(1),y.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;y.isEven();)y.iushrn(1);var E=l.cmp(y);if(E<0){var R=l;l=y,y=R}else if(E===0||y.cmpn(1)===0)break;l.isub(y)}while(!0);return y.iushln(v)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){r(typeof f=="number");var l=f%26,y=(f-l)/26,v=1<<l;if(this.length<=y)return this._expand(y+1),this.words[y]|=v,this;for(var E=v,R=y;E!==0&&R<this.length;R++){var D=this.words[R]|0;D+=E,E=D>>>26,D&=67108863,this.words[R]=D}return E!==0&&(this.words[R]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var l=f<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var y;if(this.length>1)y=1;else{l&&(f=-f),r(f<=67108863,"Number is too big");var v=this.words[0]|0;y=v===f?0:v<f?-1:1}return this.negative!==0?-y|0:y},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var l=this.ucmp(f);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var l=0,y=this.length-1;y>=0;y--){var v=this.words[y]|0,E=f.words[y]|0;if(v!==E){v<E?l=-1:v>E&&(l=1);break}}return l},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new gt(f)},o.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var ft={k256:null,p224:null,p192:null,p25519:null};function Z(A,f){this.name=A,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},Z.prototype.ireduce=function(f){var l=f,y;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),y=l.bitLength();while(y>this.n);var v=y<this.n?-1:l.ucmp(this.p);return v===0?(l.words[0]=0,l.length=1):v>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},Z.prototype.split=function(f,l){f.iushrn(this.n,0,l)},Z.prototype.imulK=function(f){return f.imul(this.k)};function st(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(st,Z),st.prototype.split=function(f,l){for(var y=4194303,v=Math.min(f.length,9),E=0;E<v;E++)l.words[E]=f.words[E];if(l.length=v,f.length<=9){f.words[0]=0,f.length=1;return}var R=f.words[9];for(l.words[l.length++]=R&y,E=10;E<f.length;E++){var D=f.words[E]|0;f.words[E-10]=(D&y)<<4|R>>>22,R=D}R>>>=22,f.words[E-10]=R,R===0&&f.length>10?f.length-=10:f.length-=9},st.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var l=0,y=0;y<f.length;y++){var v=f.words[y]|0;l+=v*977,f.words[y]=l&67108863,l=v*64+(l/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function et(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(et,Z);function nt(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(nt,Z);function dt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(dt,Z),dt.prototype.imulK=function(f){for(var l=0,y=0;y<f.length;y++){var v=(f.words[y]|0)*19+l,E=v&67108863;v>>>=26,f.words[y]=E,l=v}return l!==0&&(f.words[f.length++]=l),f},o._prime=function(f){if(ft[f])return ft[f];var l;if(f==="k256")l=new st;else if(f==="p224")l=new et;else if(f==="p192")l=new nt;else if(f==="p25519")l=new dt;else throw new Error("Unknown prime "+f);return ft[f]=l,l};function gt(A){if(typeof A=="string"){var f=o._prime(A);this.m=f.p,this.prime=f}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}gt.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},gt.prototype._verify2=function(f,l){r((f.negative|l.negative)===0,"red works only with positives"),r(f.red&&f.red===l.red,"red works only with red numbers")},gt.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},gt.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},gt.prototype.add=function(f,l){this._verify2(f,l);var y=f.add(l);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},gt.prototype.iadd=function(f,l){this._verify2(f,l);var y=f.iadd(l);return y.cmp(this.m)>=0&&y.isub(this.m),y},gt.prototype.sub=function(f,l){this._verify2(f,l);var y=f.sub(l);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},gt.prototype.isub=function(f,l){this._verify2(f,l);var y=f.isub(l);return y.cmpn(0)<0&&y.iadd(this.m),y},gt.prototype.shl=function(f,l){return this._verify1(f),this.imod(f.ushln(l))},gt.prototype.imul=function(f,l){return this._verify2(f,l),this.imod(f.imul(l))},gt.prototype.mul=function(f,l){return this._verify2(f,l),this.imod(f.mul(l))},gt.prototype.isqr=function(f){return this.imul(f,f.clone())},gt.prototype.sqr=function(f){return this.mul(f,f)},gt.prototype.sqrt=function(f){if(f.isZero())return f.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var y=this.m.add(new o(1)).iushrn(2);return this.pow(f,y)}for(var v=this.m.subn(1),E=0;!v.isZero()&&v.andln(1)===0;)E++,v.iushrn(1);r(!v.isZero());var R=new o(1).toRed(this),D=R.redNeg(),T=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,T).cmp(D)!==0;)d.redIAdd(D);for(var m=this.pow(d,v),rt=this.pow(f,v.addn(1).iushrn(1)),at=this.pow(f,v),q=E;at.cmp(R)!==0;){for(var yt=at,Mt=0;yt.cmp(R)!==0;Mt++)yt=yt.redSqr();r(Mt<q);var Et=this.pow(m,new o(1).iushln(q-Mt-1));rt=rt.redMul(Et),m=Et.redSqr(),at=at.redMul(m),q=Mt}return rt},gt.prototype.invm=function(f){var l=f._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},gt.prototype.pow=function(f,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return f.clone();var y=4,v=new Array(1<<y);v[0]=new o(1).toRed(this),v[1]=f;for(var E=2;E<v.length;E++)v[E]=this.mul(v[E-1],f);var R=v[0],D=0,T=0,d=l.bitLength()%26;for(d===0&&(d=26),E=l.length-1;E>=0;E--){for(var m=l.words[E],rt=d-1;rt>=0;rt--){var at=m>>rt&1;if(R!==v[0]&&(R=this.sqr(R)),at===0&&D===0){T=0;continue}D<<=1,D|=at,T++,!(T!==y&&(E!==0||rt!==0))&&(R=this.mul(R,v[D]),T=0,D=0)}d=26}return R},gt.prototype.convertTo=function(f){var l=f.umod(this.m);return l===f?l.clone():l},gt.prototype.convertFrom=function(f){var l=f.clone();return l.red=null,l},o.mont=function(f){return new K(f)};function K(A){gt.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,gt),K.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},K.prototype.convertFrom=function(f){var l=this.imod(f.mul(this.rinv));return l.red=null,l},K.prototype.imul=function(f,l){if(f.isZero()||l.isZero())return f.words[0]=0,f.length=1,f;var y=f.imul(l),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=y.isub(v).iushrn(this.shift),R=E;return E.cmp(this.m)>=0?R=E.isub(this.m):E.cmpn(0)<0&&(R=E.iadd(this.m)),R._forceRed(this)},K.prototype.mul=function(f,l){if(f.isZero()||l.isZero())return new o(0)._forceRed(this);var y=f.mul(l),v=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=y.isub(v).iushrn(this.shift),R=E;return E.cmp(this.m)>=0?R=E.isub(this.m):E.cmpn(0)<0&&(R=E.iadd(this.m)),R._forceRed(this)},K.prototype.invm=function(f){var l=this.imod(f._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof Ud>"u"||Ud,IS)});var Dd=U((kd,OS)=>{var Mf=mu(),on=Mf.Buffer;function CS(e,t){for(var r in e)t[r]=e[r]}on.from&&on.alloc&&on.allocUnsafe&&on.allocUnsafeSlow?OS.exports=Mf:(CS(Mf,kd),kd.Buffer=Ii);function Ii(e,t,r){return on(e,t,r)}Ii.prototype=Object.create(on.prototype);CS(on,Ii);Ii.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return on(e,t,r)};Ii.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=on(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};Ii.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return on(e)};Ii.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Mf.SlowBuffer(e)}});var $d=U((yj,BS)=>{var qd=Dd().Buffer;BS.exports=class{constructor(t=qd.from([])){this.buffer=t}read(t){let r=this.buffer.subarray(0,t);return this.buffer=this.buffer.subarray(t),r}write(t){t=qd.from(t),this.buffer=qd.concat([this.buffer,t])}}});var US=U((mj,NS)=>{var Wd=Fd(),MS=$d();NS.exports={encode:Eq,decode:Aq,read:RS,readBn:LS,write:PS};function RS(e){return LS(e).toString()}function LS(e){let t=new Wd(0),r=0,i;for(;i=e.read(1)[0],t.ior(new Wd(i&127).shln(r)),i>>7!==0;)r+=7;return t}function PS(e,t){let r=new Wd(e);for(;;){let i=r.maskn(7).toNumber();if(r.ishrn(7),r.isZero()){t.write([i]);break}else t.write([i|128])}}function Eq(e){let t=new MS;return PS(e,t),t.buffer}function Aq(e){let t=new MS(e);return RS(t)}});var WS=U((wj,$S)=>{var Gd=Fd(),FS=$d();$S.exports={encode:Tq,decode:Iq,write:qS,read:kS,readBn:DS};function kS(e){return DS(e).toString()}function DS(e){let t=new Gd(0),r=0,i;for(;i=e.read(1)[0],t.ior(new Gd(i&127).shln(r)),r+=7,i>>7!==0;);return i&64&&t.setn(r),t.fromTwos(r)}function qS(e,t){let r=new Gd(e),i=r.isNeg();for(i&&(r=r.toTwos(r.bitLength()+8));;){let u=r.maskn(7).toNumber();if(r.ishrn(7),o(r)&&(u&64)!==0||r.isZero()&&(u&64)===0){t.write([u]);break}else t.write([u|128])}function o(u){return i&&u.toString(2).indexOf("0")<0}}function Tq(e){let t=new FS;return qS(e,t),t.buffer}function Iq(e){let t=new FS(e);return kS(t)}});var Rf=U(Hd=>{Hd.unsigned=US();Hd.signed=WS()});var Lf=U((bj,GS)=>{var jd=Dd().Buffer;GS.exports=class{constructor(t=jd.from([])){this.buffer=t,this._bytesRead=0,this._bytesWrote=0}read(t){this._bytesRead+=t;let r=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),r}write(t){t=jd.from(t),this._bytesWrote+=t.length,this.buffer=jd.concat([this.buffer,t])}get end(){return!this.buffer.length}get bytesRead(){return this._bytesRead}get bytesWrote(){return this._bytesWrote}}});var Pf=U((xj,Cq)=>{Cq.exports={block:"block_type",loop:"block_type",if:"block_type",br:"varuint32",br_if:"varuint32",br_table:"br_table",call:"varuint32",call_indirect:"call_indirect",get_local:"varuint32",set_local:"varuint32",tee_local:"varuint32",get_global:"varuint32",set_global:"varuint32",load:"memory_immediate",load8_s:"memory_immediate",load8_u:"memory_immediate",load16_s:"memory_immediate",load16_u:"memory_immediate",load32_s:"memory_immediate",load32_u:"memory_immediate",store:"memory_immediate",store8:"memory_immediate",store16:"memory_immediate",store32:"memory_immediate",current_memory:"varuint1",grow_memory:"varuint1",i32:"varint32",i64:"varint64",f32:"uint32",f64:"uint64"}});var zd=U((Sj,zS)=>{var Dt=Rf(),jS=Lf(),Oq=Pf(),ge=zS.exports=(e,t)=>{let r=new jS(e);return ge.parse(r,t)},Ci=ge.LANGUAGE_TYPES={127:"i32",126:"i64",125:"f32",124:"f64",112:"anyFunc",96:"func",64:"block_type"},HS=ge.EXTERNAL_KIND={0:"function",1:"table",2:"memory",3:"global"};ge.parsePreramble=e=>{let t={};return t.name="preramble",t.magic=[...e.read(4)],t.version=[...e.read(4)],t};ge.parseSectionHeader=e=>{let t=e.read(1)[0],r=Dt.unsigned.readBn(e).toNumber();return{id:t,name:Mq[t],size:r}};var Bq=ge.OPCODES={0:"unreachable",1:"nop",2:"block",3:"loop",4:"if",5:"else",11:"end",12:"br",13:"br_if",14:"br_table",15:"return",16:"call",17:"call_indirect",26:"drop",27:"select",32:"get_local",33:"set_local",34:"tee_local",35:"get_global",36:"set_global",40:"i32.load",41:"i64.load",42:"f32.load",43:"f64.load",44:"i32.load8_s",45:"i32.load8_u",46:"i32.load16_s",47:"i32.load16_u",48:"i64.load8_s",49:"i64.load8_u",50:"i64.load16_s",51:"i64.load16_u",52:"i64.load32_s",53:"i64.load32_u",54:"i32.store",55:"i64.store",56:"f32.store",57:"f64.store",58:"i32.store8",59:"i32.store16",60:"i64.store8",61:"i64.store16",62:"i64.store32",63:"current_memory",64:"grow_memory",65:"i32.const",66:"i64.const",67:"f32.const",68:"f64.const",69:"i32.eqz",70:"i32.eq",71:"i32.ne",72:"i32.lt_s",73:"i32.lt_u",74:"i32.gt_s",75:"i32.gt_u",76:"i32.le_s",77:"i32.le_u",78:"i32.ge_s",79:"i32.ge_u",80:"i64.eqz",81:"i64.eq",82:"i64.ne",83:"i64.lt_s",84:"i64.lt_u",85:"i64.gt_s",86:"i64.gt_u",87:"i64.le_s",88:"i64.le_u",89:"i64.ge_s",90:"i64.ge_u",91:"f32.eq",92:"f32.ne",93:"f32.lt",94:"f32.gt",95:"f32.le",96:"f32.ge",97:"f64.eq",98:"f64.ne",99:"f64.lt",100:"f64.gt",101:"f64.le",102:"f64.ge",103:"i32.clz",104:"i32.ctz",105:"i32.popcnt",106:"i32.add",107:"i32.sub",108:"i32.mul",109:"i32.div_s",110:"i32.div_u",111:"i32.rem_s",112:"i32.rem_u",113:"i32.and",114:"i32.or",115:"i32.xor",116:"i32.shl",117:"i32.shr_s",118:"i32.shr_u",119:"i32.rotl",120:"i32.rotr",121:"i64.clz",122:"i64.ctz",123:"i64.popcnt",124:"i64.add",125:"i64.sub",126:"i64.mul",127:"i64.div_s",128:"i64.div_u",129:"i64.rem_s",130:"i64.rem_u",131:"i64.and",132:"i64.or",133:"i64.xor",134:"i64.shl",135:"i64.shr_s",136:"i64.shr_u",137:"i64.rotl",138:"i64.rotr",139:"f32.abs",140:"f32.neg",141:"f32.ceil",142:"f32.floor",143:"f32.trunc",144:"f32.nearest",145:"f32.sqrt",146:"f32.add",147:"f32.sub",148:"f32.mul",149:"f32.div",150:"f32.min",151:"f32.max",152:"f32.copysign",153:"f64.abs",154:"f64.neg",155:"f64.ceil",156:"f64.floor",157:"f64.trunc",158:"f64.nearest",159:"f64.sqrt",160:"f64.add",161:"f64.sub",162:"f64.mul",163:"f64.div",164:"f64.min",165:"f64.max",166:"f64.copysign",167:"i32.wrap/i64",168:"i32.trunc_s/f32",169:"i32.trunc_u/f32",170:"i32.trunc_s/f64",171:"i32.trunc_u/f64",172:"i64.extend_s/i32",173:"i64.extend_u/i32",174:"i64.trunc_s/f32",175:"i64.trunc_u/f32",176:"i64.trunc_s/f64",177:"i64.trunc_u/f64",178:"f32.convert_s/i32",179:"f32.convert_u/i32",180:"f32.convert_s/i64",181:"f32.convert_u/i64",182:"f32.demote/f64",183:"f64.convert_s/i32",184:"f64.convert_u/i32",185:"f64.convert_s/i64",186:"f64.convert_u/i64",187:"f64.promote/f32",188:"i32.reinterpret/f32",189:"i64.reinterpret/f64",190:"f32.reinterpret/i32",191:"f64.reinterpret/i64"},Mq=ge.SECTION_IDS={0:"custom",1:"type",2:"import",3:"function",4:"table",5:"memory",6:"global",7:"export",8:"start",9:"element",10:"code",11:"data"};ge.immediataryParsers={varuint1:e=>e.read(1)[0],varuint32:e=>Dt.unsigned.read(e),varint32:e=>Dt.signed.read(e),varint64:e=>Dt.signed.read(e),uint32:e=>[...e.read(4)],uint64:e=>[...e.read(8)],block_type:e=>{let t=e.read(1)[0];return Ci[t]},br_table:e=>{let t={targets:[]},r=Dt.unsigned.readBn(e).toNumber();for(let i=0;i<r;i++){let o=Dt.unsigned.readBn(e).toNumber();t.targets.push(o)}return t.defaultTarget=Dt.unsigned.readBn(e).toNumber(),t},call_indirect:e=>{let t={};return t.index=Dt.unsigned.readBn(e).toNumber(),t.reserved=e.read(1)[0],t},memory_immediate:e=>{let t={};return t.flags=Dt.unsigned.readBn(e).toNumber(),t.offset=Dt.unsigned.readBn(e).toNumber(),t}};ge.typeParsers={function:e=>Dt.unsigned.readBn(e).toNumber(),table:e=>{let t={},r=e.read(1)[0];return t.elementType=Ci[r],t.limits=ge.typeParsers.memory(e),t},global:e=>{let t={},r=e.read(1)[0];return t.contentType=Ci[r],t.mutability=e.read(1)[0],t},memory:e=>{let t={};return t.flags=Dt.unsigned.readBn(e).toNumber(),t.intial=Dt.unsigned.readBn(e).toNumber(),t.flags===1&&(t.maximum=Dt.unsigned.readBn(e).toNumber()),t},initExpr:e=>{let t=ge.parseOp(e);return e.read(1),t}};var Rq=ge.sectionParsers={custom:(e,t)=>{let r={name:"custom"},i=new jS(e.read(t.size)),o=Dt.unsigned.readBn(i).toNumber(),u=i.read(o);return r.sectionName=Buffer.from(u).toString(),r.payload=[...i.buffer],r},type:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"type",entries:[]};for(let i=0;i<t;i++){let o=e.read(1)[0],u={form:Ci[o],params:[]},c=Dt.unsigned.readBn(e).toNumber();for(let w=0;w<c;w++){let M=e.read(1)[0];u.params.push(Ci[M])}Dt.unsigned.readBn(e).toNumber()&&(o=e.read(1)[0],u.return_type=Ci[o]),r.entries.push(u)}return r},import:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"import",entries:[]};for(let i=0;i<t;i++){let o={},u=Dt.unsigned.readBn(e).toNumber();o.moduleStr=Buffer.from(e.read(u)).toString();let c=Dt.unsigned.readBn(e).toNumber();o.fieldStr=Buffer.from(e.read(c)).toString();let p=e.read(1)[0];o.kind=HS[p],o.type=ge.typeParsers[o.kind](e),r.entries.push(o)}return r},function:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"function",entries:[]};for(let i=0;i<t;i++){let o=Dt.unsigned.readBn(e).toNumber();r.entries.push(o)}return r},table:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"table",entries:[]};for(let i=0;i<t;i++){let o=ge.typeParsers.table(e);r.entries.push(o)}return r},memory:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"memory",entries:[]};for(let i=0;i<t;i++){let o=ge.typeParsers.memory(e);r.entries.push(o)}return r},global:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"global",entries:[]};for(let i=0;i<t;i++){let o={};o.type=ge.typeParsers.global(e),o.init=ge.typeParsers.initExpr(e),r.entries.push(o)}return r},export:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"export",entries:[]};for(let i=0;i<t;i++){let o=Dt.unsigned.readBn(e).toNumber(),u={};u.field_str=Buffer.from(e.read(o)).toString();let c=e.read(1)[0];u.kind=HS[c],u.index=Dt.unsigned.readBn(e).toNumber(),r.entries.push(u)}return r},start:e=>{let t={name:"start"};return t.index=Dt.unsigned.readBn(e).toNumber(),t},element:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"element",entries:[]};for(let i=0;i<t;i++){let o={elements:[]};o.index=Dt.unsigned.readBn(e).toNumber(),o.offset=ge.typeParsers.initExpr(e);let u=Dt.unsigned.readBn(e).toNumber();for(let c=0;c<u;c++){let p=Dt.unsigned.readBn(e).toNumber();o.elements.push(p)}r.entries.push(o)}return r},code:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"code",entries:[]};for(let i=0;i<t;i++){let o={locals:[],code:[]},u=Dt.unsigned.readBn(e).toNumber(),c=e.bytesRead+u,p=Dt.unsigned.readBn(e).toNumber();for(let w=0;w<p;w++){let M={};M.count=Dt.unsigned.readBn(e).toNumber();let C=e.read(1)[0];M.type=Ci[C],o.locals.push(M)}for(;e.bytesRead<c;){let w=ge.parseOp(e);o.code.push(w)}r.entries.push(o)}return r},data:e=>{let t=Dt.unsigned.readBn(e).toNumber(),r={name:"data",entries:[]};for(let i=0;i<t;i++){let o={};o.index=Dt.unsigned.readBn(e).toNumber(),o.offset=ge.typeParsers.initExpr(e);let u=Dt.unsigned.readBn(e).toNumber();o.data=[...e.read(u)],r.entries.push(o)}return r}};ge.parseOp=e=>{let t={},r=e.read(1)[0],i=Bq[r],[o,u]=i.split(".");u===void 0?u=o:t.return_type=o,t.name=u;let c=Oq[u==="const"?o:u];return c&&(t.immediates=ge.immediataryParsers[c](e)),t};ge.parse=(e,t)=>{let i=[ge.parsePreramble(e)];for(;!e.end;){let o=ge.parseSectionHeader(e);i.push(Rq[o.name](e,o))}return i}});var Kd=U((Ej,KS)=>{window.global=window;global.fetch=window.fetch;KS.exports.Buffer=mu().Buffer});var Vd=U((Aj,QS)=>{var Lq=Kd().Buffer,Xt=Rf(),pr=Lf(),Pq=Pf(),he=QS.exports=e=>he.generate(e).buffer,Oi=he.LANGUAGE_TYPES={i32:127,i64:126,f32:125,f64:124,anyFunc:112,func:96,block_type:64},VS=he.EXTERNAL_KIND={function:0,table:1,memory:2,global:3},Nq=he.SECTION_IDS={custom:0,type:1,import:2,function:3,table:4,memory:5,global:6,export:7,start:8,element:9,code:10,data:11},Uq=he.OPCODES={unreachable:0,nop:1,block:2,loop:3,if:4,else:5,end:11,br:12,br_if:13,br_table:14,return:15,call:16,call_indirect:17,drop:26,select:27,get_local:32,set_local:33,tee_local:34,get_global:35,set_global:36,"i32.load":40,"i64.load":41,"f32.load":42,"f64.load":43,"i32.load8_s":44,"i32.load8_u":45,"i32.load16_s":46,"i32.load16_u":47,"i64.load8_s":48,"i64.load8_u":49,"i64.load16_s":50,"i64.load16_u":51,"i64.load32_s":52,"i64.load32_u":53,"i32.store":54,"i64.store":55,"f32.store":56,"f64.store":57,"i32.store8":58,"i32.store16":59,"i64.store8":60,"i64.store16":61,"i64.store32":62,current_memory:63,grow_memory:64,"i32.const":65,"i64.const":66,"f32.const":67,"f64.const":68,"i32.eqz":69,"i32.eq":70,"i32.ne":71,"i32.lt_s":72,"i32.lt_u":73,"i32.gt_s":74,"i32.gt_u":75,"i32.le_s":76,"i32.le_u":77,"i32.ge_s":78,"i32.ge_u":79,"i64.eqz":80,"i64.eq":81,"i64.ne":82,"i64.lt_s":83,"i64.lt_u":84,"i64.gt_s":85,"i64.gt_u":86,"i64.le_s":87,"i64.le_u":88,"i64.ge_s":89,"i64.ge_u":90,"f32.eq":91,"f32.ne":92,"f32.lt":93,"f32.gt":94,"f32.le":95,"f32.ge":96,"f64.eq":97,"f64.ne":98,"f64.lt":99,"f64.gt":100,"f64.le":101,"f64.ge":102,"i32.clz":103,"i32.ctz":104,"i32.popcnt":105,"i32.add":106,"i32.sub":107,"i32.mul":108,"i32.div_s":109,"i32.div_u":110,"i32.rem_s":111,"i32.rem_u":112,"i32.and":113,"i32.or":114,"i32.xor":115,"i32.shl":116,"i32.shr_s":117,"i32.shr_u":118,"i32.rotl":119,"i32.rotr":120,"i64.clz":121,"i64.ctz":122,"i64.popcnt":123,"i64.add":124,"i64.sub":125,"i64.mul":126,"i64.div_s":127,"i64.div_u":128,"i64.rem_s":129,"i64.rem_u":130,"i64.and":131,"i64.or":132,"i64.xor":133,"i64.shl":134,"i64.shr_s":135,"i64.shr_u":136,"i64.rotl":137,"i64.rotr":138,"f32.abs":139,"f32.neg":140,"f32.ceil":141,"f32.floor":142,"f32.trunc":143,"f32.nearest":144,"f32.sqrt":145,"f32.add":146,"f32.sub":147,"f32.mul":148,"f32.div":149,"f32.min":150,"f32.max":151,"f32.copysign":152,"f64.abs":153,"f64.neg":154,"f64.ceil":155,"f64.floor":156,"f64.trunc":157,"f64.nearest":158,"f64.sqrt":159,"f64.add":160,"f64.sub":161,"f64.mul":162,"f64.div":163,"f64.min":164,"f64.max":165,"f64.copysign":166,"i32.wrap/i64":167,"i32.trunc_s/f32":168,"i32.trunc_u/f32":169,"i32.trunc_s/f64":170,"i32.trunc_u/f64":171,"i64.extend_s/i32":172,"i64.extend_u/i32":173,"i64.trunc_s/f32":174,"i64.trunc_u/f32":175,"i64.trunc_s/f64":176,"i64.trunc_u/f64":177,"f32.convert_s/i32":178,"f32.convert_u/i32":179,"f32.convert_s/i64":180,"f32.convert_u/i64":181,"f32.demote/f64":182,"f64.convert_s/i32":183,"f64.convert_u/i32":184,"f64.convert_s/i64":185,"f64.convert_u/i64":186,"f64.promote/f32":187,"i32.reinterpret/f32":188,"i64.reinterpret/f64":189,"f32.reinterpret/i32":190,"f64.reinterpret/i64":191};he.typeGenerators={function:(e,t)=>{Xt.unsigned.write(e,t)},table:(e,t)=>{t.write([Oi[e.elementType]]),he.typeGenerators.memory(e.limits,t)},global:(e,t)=>{t.write([Oi[e.contentType]]),t.write([e.mutability])},memory:(e,t)=>{Xt.unsigned.write(Number(e.maximum!==void 0),t),Xt.unsigned.write(e.intial,t),e.maximum!==void 0&&Xt.unsigned.write(e.maximum,t)},initExpr:(e,t)=>{he.generateOp(e,t),he.generateOp({name:"end",type:"void"},t)}};he.immediataryGenerators={varuint1:(e,t)=>(t.write([e]),t),varuint32:(e,t)=>(Xt.unsigned.write(e,t),t),varint32:(e,t)=>(Xt.signed.write(e,t),t),varint64:(e,t)=>(Xt.signed.write(e,t),t),uint32:(e,t)=>(t.write(e),t),uint64:(e,t)=>(t.write(e),t),block_type:(e,t)=>(t.write([Oi[e]]),t),br_table:(e,t)=>{Xt.unsigned.write(e.targets.length,t);for(let r of e.targets)Xt.unsigned.write(r,t);return Xt.unsigned.write(e.defaultTarget,t),t},call_indirect:(e,t)=>(Xt.unsigned.write(e.index,t),t.write([e.reserved]),t),memory_immediate:(e,t)=>(Xt.unsigned.write(e.flags,t),Xt.unsigned.write(e.offset,t),t)};var JS={type:(e,t=new pr)=>{t.write([Oi[e.form]]);let r=e.params.length;return Xt.unsigned.write(r,t),r!==0&&t.write(e.params.map(i=>Oi[i])),t.write([e.return_type?1:0]),e.return_type&&t.write([Oi[e.return_type]]),t.buffer},import:(e,t=new pr)=>{Xt.unsigned.write(e.moduleStr.length,t),t.write(e.moduleStr),Xt.unsigned.write(e.fieldStr.length,t),t.write(e.fieldStr),t.write([VS[e.kind]]),he.typeGenerators[e.kind](e.type,t)},function:(e,t=new pr)=>(Xt.unsigned.write(e,t),t.buffer),table:he.typeGenerators.table,global:(e,t=new pr)=>(he.typeGenerators.global(e.type,t),he.typeGenerators.initExpr(e.init,t),t),memory:he.typeGenerators.memory,export:(e,t=new pr)=>{let r=Lq.from(e.field_str),i=r.length;return Xt.unsigned.write(i,t),t.write(r),t.write([VS[e.kind]]),Xt.unsigned.write(e.index,t),t},element:(e,t=new pr)=>{Xt.unsigned.write(e.index,t),he.typeGenerators.initExpr(e.offset,t),Xt.unsigned.write(e.elements.length,t);for(let r of e.elements)Xt.unsigned.write(r,t);return t},code:(e,t=new pr)=>{let r=new pr;Xt.unsigned.write(e.locals.length,r);for(let i of e.locals)Xt.unsigned.write(i.count,r),r.write([Oi[i.type]]);for(let i of e.code)he.generateOp(i,r);return Xt.unsigned.write(r.bytesWrote,t),t.write(r.buffer),t},data:(e,t=new pr)=>(Xt.unsigned.write(e.index,t),he.typeGenerators.initExpr(e.offset,t),Xt.unsigned.write(e.data.length,t),t.write(e.data),t)};he.entryGenerators=JS;he.generateSection=function(e,t=new pr){let r=e.name,i=new pr;if(t.write([Nq[r]]),r==="custom")Xt.unsigned.write(e.sectionName.length,i),i.write(e.sectionName),i.write(e.payload);else if(r==="start")Xt.unsigned.write(e.index,i);else{Xt.unsigned.write(e.entries.length,i);for(let o of e.entries)JS[r](o,i)}return Xt.unsigned.write(i.bytesWrote,t),t.write(i.buffer),t};he.generate=(e,t=new pr)=>{let[r,...i]=e;he.generatePreramble(r,t);for(let o of i)he.generateSection(o,t);return t};he.generatePreramble=(e,t=new pr)=>(t.write(e.magic),t.write(e.version),t);he.generateOp=(e,t=new pr)=>{let r=e.name;e.return_type!==void 0&&(r=e.return_type+"."+r),t.write([Uq[r]]);let i=Pq[e.name==="const"?e.return_type:e.name];return i&&he.immediataryGenerators[i](e.immediates,t),t}});var ZS=U((Tj,YS)=>{var Fq=Pf();YS.exports=e=>{let t=[],r=e.split(/\s|\n/);for(;r.length;){let i=r.shift(),o={},[u,c]=i.split(".");c===void 0?c=u:o.return_type=u,o.name=c;let p=Fq[o.name==="const"?o.return_type:o.name];p&&(o.immediates=kq(p,r)),t.push(o)}return t};function kq(e,t){let r={};switch(e){case"br_table":let i=[];for(;;){let o=t[0];if(isNaN(o))break;t.shift(),i.push(o)}return i;case"call_indirect":return r.index=t.shift(),r.reserved=0,r;case"memory_immediate":return r.flags=t.shift(),r.offset=t.shift(),r;default:return t.shift()}}});var eE=U((Cj,tE)=>{var hs=Kd().Buffer,Nf=Rf().unsigned,Dq=zd(),Jd=Lf(),qq=["custom","type","import","function","table","memory","global","export","start","element","code","data"];tE.exports=class{constructor(t){this._wasm=t,this._sections=[],this._modified=!1}get wasm(){return this._modified&&(this._wasm=hs.concat(this._sections.concat(this._pipe.buffer)),this._modified=!1),this._wasm}*[Symbol.iterator](){for(this._pipe=new Jd(this._wasm),this._sections=[this._pipe.read(8)];!this._pipe.end;){let t=this._pipe.bytesRead,r=this._pipe.read(1)[0],i=Number(Nf.read(this._pipe)),o=this._pipe.read(i),u=this._pipe.bytesRead,c=this._wasm.slice(t,u),p=this._sections.push(c)-1;yield new XS(r,o,this,p)}}_update(t,r){this._modified=!0,this._sections[t]=r}};var XS=class{constructor(t,r,i,o){this._it=i,this._index=o,this.type=qq[t],this._type=t,this._section=r;let u=new Jd(r);this.type!=="custom"&&(this.count=Number(Nf.read(u))),this._body=u.buffer}toJSON(){return Dq.sectionParsers[this.type](new Jd(this._section))}appendEntries(t){this.count+=t.length,this._body=hs.concat([this._body].concat(t));let r=hs.concat([Nf.encode(this.count),this._body]);this._it._update(this._index,hs.concat([hs.from([this._type]),Nf.encode(r.length),r]))}}});var rE=U(ds=>{ds.wasm2json=zd();ds.json2wasm=Vd();ds.text2json=ZS();ds.Iterator=eE()});var nE=U((Bj,$q)=>{$q.exports={start:0,type:{params:{DEFAULT:0},return_type:{DEFAULT:0}},import:0,code:{locals:{DEFAULT:1},code:{get_local:120,set_local:120,tee_local:120,get_global:120,set_global:120,load8_s:120,load8_u:120,load16_s:120,load16_u:120,load32_s:120,load32_u:120,load:120,store8:120,store16:120,store32:120,store:120,grow_memory:1e4,current_memory:100,nop:1,block:1,loop:1,if:1,then:90,else:90,br:90,br_if:90,br_table:120,return:90,call:90,call_indirect:1e4,const:1,add:45,sub:45,mul:45,div_s:36e3,div_u:36e3,rem_s:36e3,rem_u:36e3,and:45,or:45,xor:45,shl:67,shr_u:67,shr_s:67,rotl:90,rotr:90,eq:45,eqz:45,ne:45,lt_s:45,lt_u:45,le_s:45,le_u:45,gt_s:45,gt_u:45,ge_s:45,ge_u:45,clz:45,ctz:45,popcnt:45,drop:120,select:120,unreachable:1}},data:0}});var aE=U(Uf=>{var Qd=rE(),Wq=Qd.text2json,iE=Vd().SECTION_IDS,Gq=nE();function Ta(e,t={},r=0){let i=0;if(r=t.DEFAULT!==void 0?t.DEFAULT:0,Array.isArray(e))e.forEach(o=>{i+=Ta(o,t)});else if(typeof e=="object")for(let o in e){let u=t[o];u&&(i+=Ta(e[o],u,r))}else t[e]===void 0?i=r:i=t[e];return i}function Hq(e,t,r,i,o){function u(I,S){return Wq(`${i}.const ${I} call ${S}`)}function c(I,S){I.name==="call"&&I.immediates>=S&&(I.immediates=(++I.immediates).toString())}function p(){return u(0,0).reduce((S,N)=>S+Ta(N.name,t.code),0)}let w=new Set(["grow_memory","end","br","br_table","br_if","if","else","return","loop"]),M=p(),C=e.code.slice(),O=[];for(o+=Ta(e.locals,t.local);C.length;){let I=0;for(;;){let S=C[I++];if(c(S,r),o+=Ta(S.name,t.code),w.has(S.name))break}o!==0&&(o+=M,O=O.concat(u(o,r))),O=O.concat(C.slice(0,I)),C=C.slice(I),o=0}return e.code=O,e}Uf.meterJSON=(e,t)=>{function r(S,N){return S.find(k=>k.name===N)}function i(S,N){let k=iE[N];for(let Q in S){let J=S[Q],ft=iE[J.name];if(ft&&k<ft){S.splice(Q,0,{name:N,entries:[]});return}}}let o=0,u,c,{costTable:p,moduleStr:w,fieldStr:M,meterType:C}=t;p||(p=Gq),w||(w="metering"),M||(M="usegas"),C||(C="i32"),r(e,"type")||i(e,"type"),r(e,"import")||i(e,"import");let O={moduleStr:w,fieldStr:M,kind:"function"},I={form:"func",params:[C]};e=e.slice(0);for(let S of e)switch(S=Object.assign(S),S.name){case"type":O.type=S.entries.push(I)-1,c=S;break;case"function":u=S;break;case"import":for(let N of S.entries){if(N.moduleStr===w&&N.fieldStr===M)throw new Error("importing metering function is not allowed");N.kind==="function"&&o++}S.entries.push(O);break;case"export":for(let N of S.entries)N.kind==="function"&&N.index>=o&&N.index++;break;case"element":for(let N of S.entries)N.elements=N.elements.map(k=>k>=o?++k:k);break;case"start":S.index>=o&&S.index++;break;case"code":for(let N in S.entries){let k=S.entries[N],Q=u.entries[N],J=c.entries[Q],ft=Ta(J,p.type);Hq(k,p.code,o,C,ft)}break}return e};Uf.meterWASM=(e,t={})=>{let r=Qd.wasm2json(e);return r=Uf.meterJSON(r,t),Qd.json2wasm(r)}});var sE=U((Ia,ps)=>{(function(){var e,t="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",p=500,w="__lodash_placeholder__",M=1,C=2,O=4,I=1,S=2,N=1,k=2,Q=4,J=8,ft=16,Z=32,st=64,et=128,nt=256,dt=512,gt=30,K="...",A=800,f=16,l=1,y=2,v=3,E=1/0,R=9007199254740991,D=17976931348623157e292,T=0/0,d=4294967295,m=d-1,rt=d>>>1,at=[["ary",et],["bind",N],["bindKey",k],["curry",J],["curryRight",ft],["flip",dt],["partial",Z],["partialRight",st],["rearg",nt]],q="[object Arguments]",yt="[object Array]",Mt="[object AsyncFunction]",Et="[object Boolean]",Pt="[object Date]",Ut="[object DOMException]",x="[object Error]",B="[object Function]",P="[object GeneratorFunction]",j="[object Map]",G="[object Number]",z="[object Null]",X="[object Object]",$="[object Promise]",W="[object Proxy]",Y="[object RegExp]",tt="[object Set]",ot="[object String]",mt="[object Symbol]",St="[object Undefined]",xt="[object WeakMap]",Rt="[object WeakSet]",oe="[object ArrayBuffer]",_t="[object DataView]",Tt="[object Float32Array]",we="[object Float64Array]",ne="[object Int8Array]",se="[object Int16Array]",Vr="[object Int32Array]",Jt="[object Uint8Array]",te="[object Uint8ClampedArray]",De="[object Uint16Array]",qt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ys=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Ma=/[&<>"']/g,Ee=RegExp(ve.source),Ae=RegExp(Ma.source),ms=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,ws=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bi=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Bi.source),ye=/^\s+/,vs=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,_s=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Le=/[()=,{}\[\]\/\s]/,bs=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,Ra=/^[-+]0x[0-9a-f]+$/i,La=/^0b[01]+$/i,Pa=/^\[object .+?Constructor\]$/,Na=/^0o[0-7]+$/i,Ua=/^(?:0|[1-9]\d*)$/,Fa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tn=/($^)/,ka=/['\n\r\u2028\u2029\\]/g,In="\\ud800-\\udfff",Da="\\u0300-\\u036f",qa="\\ufe20-\\ufe2f",$a="\\u20d0-\\u20ff",Mi=Da+qa+$a,Ri="\\u2700-\\u27bf",Li="a-z\\xdf-\\xf6\\xf8-\\xff",Wa="\\xac\\xb1\\xd7\\xf7",Ga="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ha="\\u2000-\\u206f",ja=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tp="A-Z\\xc0-\\xd6\\xd8-\\xde",ep="\\ufe0e\\ufe0f",rp=Wa+Ga+Ha+ja,jf="['\u2019]",bE="["+In+"]",np="["+rp+"]",xs="["+Mi+"]",ip="\\d+",xE="["+Ri+"]",ap="["+Li+"]",op="[^"+In+rp+ip+Ri+Li+tp+"]",zf="\\ud83c[\\udffb-\\udfff]",SE="(?:"+xs+"|"+zf+")",sp="[^"+In+"]",Kf="(?:\\ud83c[\\udde6-\\uddff]){2}",Vf="[\\ud800-\\udbff][\\udc00-\\udfff]",Pi="["+tp+"]",up="\\u200d",fp="(?:"+ap+"|"+op+")",EE="(?:"+Pi+"|"+op+")",cp="(?:"+jf+"(?:d|ll|m|re|s|t|ve))?",lp="(?:"+jf+"(?:D|LL|M|RE|S|T|VE))?",hp=SE+"?",dp="["+ep+"]?",AE="(?:"+up+"(?:"+[sp,Kf,Vf].join("|")+")"+dp+hp+")*",TE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",IE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pp=dp+hp+AE,CE="(?:"+[xE,Kf,Vf].join("|")+")"+pp,OE="(?:"+[sp+xs+"?",xs,Kf,Vf,bE].join("|")+")",BE=RegExp(jf,"g"),ME=RegExp(xs,"g"),Jf=RegExp(zf+"(?="+zf+")|"+OE+pp,"g"),RE=RegExp([Pi+"?"+ap+"+"+cp+"(?="+[np,Pi,"$"].join("|")+")",EE+"+"+lp+"(?="+[np,Pi+fp,"$"].join("|")+")",Pi+"?"+fp+"+"+cp,Pi+"+"+lp,IE,TE,ip,CE].join("|"),"g"),LE=RegExp("["+up+In+Mi+ep+"]"),PE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,NE=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],UE=-1,de={};de[Tt]=de[we]=de[ne]=de[se]=de[Vr]=de[Jt]=de[te]=de[De]=de[qt]=!0,de[q]=de[yt]=de[oe]=de[Et]=de[_t]=de[Pt]=de[x]=de[B]=de[j]=de[G]=de[X]=de[Y]=de[tt]=de[ot]=de[xt]=!1;var ce={};ce[q]=ce[yt]=ce[oe]=ce[_t]=ce[Et]=ce[Pt]=ce[Tt]=ce[we]=ce[ne]=ce[se]=ce[Vr]=ce[j]=ce[G]=ce[X]=ce[Y]=ce[tt]=ce[ot]=ce[mt]=ce[Jt]=ce[te]=ce[De]=ce[qt]=!0,ce[x]=ce[B]=ce[xt]=!1;var FE={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},kE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$E=parseFloat,WE=parseInt,gp=typeof global=="object"&&global&&global.Object===Object&&global,GE=typeof self=="object"&&self&&self.Object===Object&&self,He=gp||GE||Function("return this")(),Qf=typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,ti=Qf&&typeof ps=="object"&&ps&&!ps.nodeType&&ps,yp=ti&&ti.exports===Qf,Yf=yp&&gp.process,Tr=function(){try{var H=ti&&ti.require&&ti.require("util").types;return H||Yf&&Yf.binding&&Yf.binding("util")}catch(ct){}}(),mp=Tr&&Tr.isArrayBuffer,wp=Tr&&Tr.isDate,vp=Tr&&Tr.isMap,_p=Tr&&Tr.isRegExp,bp=Tr&&Tr.isSet,xp=Tr&&Tr.isTypedArray;function gr(H,ct,it){switch(it.length){case 0:return H.call(ct);case 1:return H.call(ct,it[0]);case 2:return H.call(ct,it[0],it[1]);case 3:return H.call(ct,it[0],it[1],it[2])}return H.apply(ct,it)}function HE(H,ct,it,vt){for(var Nt=-1,Zt=H==null?0:H.length;++Nt<Zt;){var qe=H[Nt];ct(vt,qe,it(qe),H)}return vt}function Ir(H,ct){for(var it=-1,vt=H==null?0:H.length;++it<vt&&ct(H[it],it,H)!==!1;);return H}function jE(H,ct){for(var it=H==null?0:H.length;it--&&ct(H[it],it,H)!==!1;);return H}function Sp(H,ct){for(var it=-1,vt=H==null?0:H.length;++it<vt;)if(!ct(H[it],it,H))return!1;return!0}function Cn(H,ct){for(var it=-1,vt=H==null?0:H.length,Nt=0,Zt=[];++it<vt;){var qe=H[it];ct(qe,it,H)&&(Zt[Nt++]=qe)}return Zt}function Ss(H,ct){var it=H==null?0:H.length;return!!it&&Ni(H,ct,0)>-1}function Zf(H,ct,it){for(var vt=-1,Nt=H==null?0:H.length;++vt<Nt;)if(it(ct,H[vt]))return!0;return!1}function me(H,ct){for(var it=-1,vt=H==null?0:H.length,Nt=Array(vt);++it<vt;)Nt[it]=ct(H[it],it,H);return Nt}function On(H,ct){for(var it=-1,vt=ct.length,Nt=H.length;++it<vt;)H[Nt+it]=ct[it];return H}function Xf(H,ct,it,vt){var Nt=-1,Zt=H==null?0:H.length;for(vt&&Zt&&(it=H[++Nt]);++Nt<Zt;)it=ct(it,H[Nt],Nt,H);return it}function zE(H,ct,it,vt){var Nt=H==null?0:H.length;for(vt&&Nt&&(it=H[--Nt]);Nt--;)it=ct(it,H[Nt],Nt,H);return it}function tc(H,ct){for(var it=-1,vt=H==null?0:H.length;++it<vt;)if(ct(H[it],it,H))return!0;return!1}var KE=ec("length");function VE(H){return H.split("")}function JE(H){return H.match(Re)||[]}function Ep(H,ct,it){var vt;return it(H,function(Nt,Zt,qe){if(ct(Nt,Zt,qe))return vt=Zt,!1}),vt}function Es(H,ct,it,vt){for(var Nt=H.length,Zt=it+(vt?1:-1);vt?Zt--:++Zt<Nt;)if(ct(H[Zt],Zt,H))return Zt;return-1}function Ni(H,ct,it){return ct===ct?sA(H,ct,it):Es(H,Ap,it)}function QE(H,ct,it,vt){for(var Nt=it-1,Zt=H.length;++Nt<Zt;)if(vt(H[Nt],ct))return Nt;return-1}function Ap(H){return H!==H}function Tp(H,ct){var it=H==null?0:H.length;return it?nc(H,ct)/it:T}function ec(H){return function(ct){return ct==null?e:ct[H]}}function rc(H){return function(ct){return H==null?e:H[ct]}}function Ip(H,ct,it,vt,Nt){return Nt(H,function(Zt,qe,fe){it=vt?(vt=!1,Zt):ct(it,Zt,qe,fe)}),it}function YE(H,ct){var it=H.length;for(H.sort(ct);it--;)H[it]=H[it].value;return H}function nc(H,ct){for(var it,vt=-1,Nt=H.length;++vt<Nt;){var Zt=ct(H[vt]);Zt!==e&&(it=it===e?Zt:it+Zt)}return it}function ic(H,ct){for(var it=-1,vt=Array(H);++it<H;)vt[it]=ct(it);return vt}function ZE(H,ct){return me(ct,function(it){return[it,H[it]]})}function Cp(H){return H&&H.slice(0,Rp(H)+1).replace(ye,"")}function yr(H){return function(ct){return H(ct)}}function ac(H,ct){return me(ct,function(it){return H[it]})}function za(H,ct){return H.has(ct)}function Op(H,ct){for(var it=-1,vt=H.length;++it<vt&&Ni(ct,H[it],0)>-1;);return it}function Bp(H,ct){for(var it=H.length;it--&&Ni(ct,H[it],0)>-1;);return it}function XE(H,ct){for(var it=H.length,vt=0;it--;)H[it]===ct&&++vt;return vt}var tA=rc(FE),eA=rc(kE);function rA(H){return"\\"+qE[H]}function nA(H,ct){return H==null?e:H[ct]}function Ui(H){return LE.test(H)}function iA(H){return PE.test(H)}function aA(H){for(var ct,it=[];!(ct=H.next()).done;)it.push(ct.value);return it}function oc(H){var ct=-1,it=Array(H.size);return H.forEach(function(vt,Nt){it[++ct]=[Nt,vt]}),it}function Mp(H,ct){return function(it){return H(ct(it))}}function Bn(H,ct){for(var it=-1,vt=H.length,Nt=0,Zt=[];++it<vt;){var qe=H[it];(qe===ct||qe===w)&&(H[it]=w,Zt[Nt++]=it)}return Zt}function As(H){var ct=-1,it=Array(H.size);return H.forEach(function(vt){it[++ct]=vt}),it}function oA(H){var ct=-1,it=Array(H.size);return H.forEach(function(vt){it[++ct]=[vt,vt]}),it}function sA(H,ct,it){for(var vt=it-1,Nt=H.length;++vt<Nt;)if(H[vt]===ct)return vt;return-1}function uA(H,ct,it){for(var vt=it+1;vt--;)if(H[vt]===ct)return vt;return vt}function Fi(H){return Ui(H)?cA(H):KE(H)}function Dr(H){return Ui(H)?lA(H):VE(H)}function Rp(H){for(var ct=H.length;ct--&&vs.test(H.charAt(ct)););return ct}var fA=rc(DE);function cA(H){for(var ct=Jf.lastIndex=0;Jf.test(H);)++ct;return ct}function lA(H){return H.match(Jf)||[]}function hA(H){return H.match(RE)||[]}var dA=function H(ct){ct=ct==null?He:Mn.defaults(He.Object(),ct,Mn.pick(He,NE));var it=ct.Array,vt=ct.Date,Nt=ct.Error,Zt=ct.Function,qe=ct.Math,fe=ct.Object,sc=ct.RegExp,pA=ct.String,Cr=ct.TypeError,Ts=it.prototype,gA=Zt.prototype,ki=fe.prototype,Is=ct["__core-js_shared__"],Cs=gA.toString,ie=ki.hasOwnProperty,yA=0,Lp=function(){var n=/[^.]+$/.exec(Is&&Is.keys&&Is.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Os=ki.toString,mA=Cs.call(fe),wA=He._,vA=sc("^"+Cs.call(ie).replace(Bi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=yp?ct.Buffer:e,Rn=ct.Symbol,Ms=ct.Uint8Array,Pp=Bs?Bs.allocUnsafe:e,Rs=Mp(fe.getPrototypeOf,fe),Np=fe.create,Up=ki.propertyIsEnumerable,Ls=Ts.splice,Fp=Rn?Rn.isConcatSpreadable:e,Ka=Rn?Rn.iterator:e,ei=Rn?Rn.toStringTag:e,Ps=function(){try{var n=oi(fe,"defineProperty");return n({},"",{}),n}catch(a){}}(),_A=ct.clearTimeout!==He.clearTimeout&&ct.clearTimeout,bA=vt&&vt.now!==He.Date.now&&vt.now,xA=ct.setTimeout!==He.setTimeout&&ct.setTimeout,Ns=qe.ceil,Us=qe.floor,uc=fe.getOwnPropertySymbols,SA=Bs?Bs.isBuffer:e,kp=ct.isFinite,EA=Ts.join,AA=Mp(fe.keys,fe),$e=qe.max,Ze=qe.min,TA=vt.now,IA=ct.parseInt,Dp=qe.random,CA=Ts.reverse,fc=oi(ct,"DataView"),Va=oi(ct,"Map"),cc=oi(ct,"Promise"),Di=oi(ct,"Set"),Ja=oi(ct,"WeakMap"),Qa=oi(fe,"create"),Fs=Ja&&new Ja,qi={},OA=si(fc),BA=si(Va),MA=si(cc),RA=si(Di),LA=si(Ja),ks=Rn?Rn.prototype:e,Ya=ks?ks.valueOf:e,qp=ks?ks.toString:e;function _(n){if(Ne(n)&&!Ft(n)&&!(n instanceof Vt)){if(n instanceof Or)return n;if(ie.call(n,"__wrapped__"))return $g(n)}return new Or(n)}var $i=function(){function n(){}return function(a){if(!xe(a))return{};if(Np)return Np(a);n.prototype=a;var s=new n;return n.prototype=e,s}}();function Ds(){}function Or(n,a){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}_.templateSettings={escape:ms,evaluate:Te,interpolate:_e,variable:"",imports:{_}},_.prototype=Ds.prototype,_.prototype.constructor=_,Or.prototype=$i(Ds.prototype),Or.prototype.constructor=Or;function Vt(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function PA(){var n=new Vt(this.__wrapped__);return n.__actions__=sr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=sr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=sr(this.__views__),n}function NA(){if(this.__filtered__){var n=new Vt(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function UA(){var n=this.__wrapped__.value(),a=this.__dir__,s=Ft(n),h=a<0,g=s?n.length:0,b=VT(0,g,this.__views__),L=b.start,F=b.end,V=F-L,lt=h?F:L-1,ht=this.__iteratees__,pt=ht.length,wt=0,bt=Ze(V,this.__takeCount__);if(!s||!h&&g==V&&bt==V)return cg(n,this.__actions__);var Ot=[];t:for(;V--&&wt<bt;){lt+=a;for(var $t=-1,Bt=n[lt];++$t<pt;){var jt=ht[$t],Qt=jt.iteratee,vr=jt.type,nr=Qt(Bt);if(vr==y)Bt=nr;else if(!nr){if(vr==l)continue t;break t}}Ot[wt++]=Bt}return Ot}Vt.prototype=$i(Ds.prototype),Vt.prototype.constructor=Vt;function ri(n){var a=-1,s=n==null?0:n.length;for(this.clear();++a<s;){var h=n[a];this.set(h[0],h[1])}}function FA(){this.__data__=Qa?Qa(null):{},this.size=0}function kA(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a}function DA(n){var a=this.__data__;if(Qa){var s=a[n];return s===c?e:s}return ie.call(a,n)?a[n]:e}function qA(n){var a=this.__data__;return Qa?a[n]!==e:ie.call(a,n)}function $A(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=Qa&&a===e?c:a,this}ri.prototype.clear=FA,ri.prototype.delete=kA,ri.prototype.get=DA,ri.prototype.has=qA,ri.prototype.set=$A;function un(n){var a=-1,s=n==null?0:n.length;for(this.clear();++a<s;){var h=n[a];this.set(h[0],h[1])}}function WA(){this.__data__=[],this.size=0}function GA(n){var a=this.__data__,s=qs(a,n);if(s<0)return!1;var h=a.length-1;return s==h?a.pop():Ls.call(a,s,1),--this.size,!0}function HA(n){var a=this.__data__,s=qs(a,n);return s<0?e:a[s][1]}function jA(n){return qs(this.__data__,n)>-1}function zA(n,a){var s=this.__data__,h=qs(s,n);return h<0?(++this.size,s.push([n,a])):s[h][1]=a,this}un.prototype.clear=WA,un.prototype.delete=GA,un.prototype.get=HA,un.prototype.has=jA,un.prototype.set=zA;function fn(n){var a=-1,s=n==null?0:n.length;for(this.clear();++a<s;){var h=n[a];this.set(h[0],h[1])}}function KA(){this.size=0,this.__data__={hash:new ri,map:new(Va||un),string:new ri}}function VA(n){var a=Zs(this,n).delete(n);return this.size-=a?1:0,a}function JA(n){return Zs(this,n).get(n)}function QA(n){return Zs(this,n).has(n)}function YA(n,a){var s=Zs(this,n),h=s.size;return s.set(n,a),this.size+=s.size==h?0:1,this}fn.prototype.clear=KA,fn.prototype.delete=VA,fn.prototype.get=JA,fn.prototype.has=QA,fn.prototype.set=YA;function ni(n){var a=-1,s=n==null?0:n.length;for(this.__data__=new fn;++a<s;)this.add(n[a])}function ZA(n){return this.__data__.set(n,c),this}function XA(n){return this.__data__.has(n)}ni.prototype.add=ni.prototype.push=ZA,ni.prototype.has=XA;function qr(n){var a=this.__data__=new un(n);this.size=a.size}function tT(){this.__data__=new un,this.size=0}function eT(n){var a=this.__data__,s=a.delete(n);return this.size=a.size,s}function rT(n){return this.__data__.get(n)}function nT(n){return this.__data__.has(n)}function iT(n,a){var s=this.__data__;if(s instanceof un){var h=s.__data__;if(!Va||h.length<r-1)return h.push([n,a]),this.size=++s.size,this;s=this.__data__=new fn(h)}return s.set(n,a),this.size=s.size,this}qr.prototype.clear=tT,qr.prototype.delete=eT,qr.prototype.get=rT,qr.prototype.has=nT,qr.prototype.set=iT;function $p(n,a){var s=Ft(n),h=!s&&ui(n),g=!s&&!h&&Fn(n),b=!s&&!h&&!g&&ji(n),L=s||h||g||b,F=L?ic(n.length,pA):[],V=F.length;for(var lt in n)(a||ie.call(n,lt))&&!(L&&(lt=="length"||g&&(lt=="offset"||lt=="parent")||b&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||dn(lt,V)))&&F.push(lt);return F}function Wp(n){var a=n.length;return a?n[bc(0,a-1)]:e}function aT(n,a){return Xs(sr(n),ii(a,0,n.length))}function oT(n){return Xs(sr(n))}function lc(n,a,s){(s!==e&&!$r(n[a],s)||s===e&&!(a in n))&&cn(n,a,s)}function Za(n,a,s){var h=n[a];(!(ie.call(n,a)&&$r(h,s))||s===e&&!(a in n))&&cn(n,a,s)}function qs(n,a){for(var s=n.length;s--;)if($r(n[s][0],a))return s;return-1}function sT(n,a,s,h){return Ln(n,function(g,b,L){a(h,g,s(g),L)}),h}function Gp(n,a){return n&&Qr(a,je(a),n)}function uT(n,a){return n&&Qr(a,fr(a),n)}function cn(n,a,s){a=="__proto__"&&Ps?Ps(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}function hc(n,a){for(var s=-1,h=a.length,g=it(h),b=n==null;++s<h;)g[s]=b?e:zc(n,a[s]);return g}function ii(n,a,s){return n===n&&(s!==e&&(n=n<=s?n:s),a!==e&&(n=n>=a?n:a)),n}function Br(n,a,s,h,g,b){var L,F=a&M,V=a&C,lt=a&O;if(s&&(L=g?s(n,h,g,b):s(n)),L!==e)return L;if(!xe(n))return n;var ht=Ft(n);if(ht){if(L=QT(n),!F)return sr(n,L)}else{var pt=Xe(n),wt=pt==B||pt==P;if(Fn(n))return dg(n,F);if(pt==X||pt==q||wt&&!g){if(L=V||wt?{}:Rg(n),!F)return V?DT(n,uT(L,n)):kT(n,Gp(L,n))}else{if(!ce[pt])return g?n:{};L=YT(n,pt,F)}}b||(b=new qr);var bt=b.get(n);if(bt)return bt;b.set(n,L),s0(n)?n.forEach(function(Bt){L.add(Br(Bt,a,s,Bt,n,b))}):a0(n)&&n.forEach(function(Bt,jt){L.set(jt,Br(Bt,a,s,jt,n,b))});var Ot=lt?V?Rc:Mc:V?fr:je,$t=ht?e:Ot(n);return Ir($t||n,function(Bt,jt){$t&&(jt=Bt,Bt=n[jt]),Za(L,jt,Br(Bt,a,s,jt,n,b))}),L}function fT(n){var a=je(n);return function(s){return Hp(s,n,a)}}function Hp(n,a,s){var h=s.length;if(n==null)return!h;for(n=fe(n);h--;){var g=s[h],b=a[g],L=n[g];if(L===e&&!(g in n)||!b(L))return!1}return!0}function jp(n,a,s){if(typeof n!="function")throw new Cr(o);return ao(function(){n.apply(e,s)},a)}function Xa(n,a,s,h){var g=-1,b=Ss,L=!0,F=n.length,V=[],lt=a.length;if(!F)return V;s&&(a=me(a,yr(s))),h?(b=Zf,L=!1):a.length>=r&&(b=za,L=!1,a=new ni(a));t:for(;++g<F;){var ht=n[g],pt=s==null?ht:s(ht);if(ht=h||ht!==0?ht:0,L&&pt===pt){for(var wt=lt;wt--;)if(a[wt]===pt)continue t;V.push(ht)}else b(a,pt,h)||V.push(ht)}return V}var Ln=wg(Jr),zp=wg(pc,!0);function cT(n,a){var s=!0;return Ln(n,function(h,g,b){return s=!!a(h,g,b),s}),s}function $s(n,a,s){for(var h=-1,g=n.length;++h<g;){var b=n[h],L=a(b);if(L!=null&&(F===e?L===L&&!wr(L):s(L,F)))var F=L,V=b}return V}function lT(n,a,s,h){var g=n.length;for(s=kt(s),s<0&&(s=-s>g?0:g+s),h=h===e||h>g?g:kt(h),h<0&&(h+=g),h=s>h?0:f0(h);s<h;)n[s++]=a;return n}function Kp(n,a){var s=[];return Ln(n,function(h,g,b){a(h,g,b)&&s.push(h)}),s}function Je(n,a,s,h,g){var b=-1,L=n.length;for(s||(s=XT),g||(g=[]);++b<L;){var F=n[b];a>0&&s(F)?a>1?Je(F,a-1,s,h,g):On(g,F):h||(g[g.length]=F)}return g}var dc=vg(),Vp=vg(!0);function Jr(n,a){return n&&dc(n,a,je)}function pc(n,a){return n&&Vp(n,a,je)}function Ws(n,a){return Cn(a,function(s){return pn(n[s])})}function ai(n,a){a=Nn(a,n);for(var s=0,h=a.length;n!=null&&s<h;)n=n[Yr(a[s++])];return s&&s==h?n:e}function Jp(n,a,s){var h=a(n);return Ft(n)?h:On(h,s(n))}function er(n){return n==null?n===e?St:z:ei&&ei in fe(n)?KT(n):oI(n)}function gc(n,a){return n>a}function hT(n,a){return n!=null&&ie.call(n,a)}function dT(n,a){return n!=null&&a in fe(n)}function pT(n,a,s){return n>=Ze(a,s)&&n<$e(a,s)}function yc(n,a,s){for(var h=s?Zf:Ss,g=n[0].length,b=n.length,L=b,F=it(b),V=1/0,lt=[];L--;){var ht=n[L];L&&a&&(ht=me(ht,yr(a))),V=Ze(ht.length,V),F[L]=!s&&(a||g>=120&&ht.length>=120)?new ni(L&&ht):e}ht=n[0];var pt=-1,wt=F[0];t:for(;++pt<g&&lt.length<V;){var bt=ht[pt],Ot=a?a(bt):bt;if(bt=s||bt!==0?bt:0,!(wt?za(wt,Ot):h(lt,Ot,s))){for(L=b;--L;){var $t=F[L];if(!($t?za($t,Ot):h(n[L],Ot,s)))continue t}wt&&wt.push(Ot),lt.push(bt)}}return lt}function gT(n,a,s,h){return Jr(n,function(g,b,L){a(h,s(g),b,L)}),h}function to(n,a,s){a=Nn(a,n),n=Ug(n,a);var h=n==null?n:n[Yr(Rr(a))];return h==null?e:gr(h,n,s)}function Qp(n){return Ne(n)&&er(n)==q}function yT(n){return Ne(n)&&er(n)==oe}function mT(n){return Ne(n)&&er(n)==Pt}function eo(n,a,s,h,g){return n===a?!0:n==null||a==null||!Ne(n)&&!Ne(a)?n!==n&&a!==a:wT(n,a,s,h,eo,g)}function wT(n,a,s,h,g,b){var L=Ft(n),F=Ft(a),V=L?yt:Xe(n),lt=F?yt:Xe(a);V=V==q?X:V,lt=lt==q?X:lt;var ht=V==X,pt=lt==X,wt=V==lt;if(wt&&Fn(n)){if(!Fn(a))return!1;L=!0,ht=!1}if(wt&&!ht)return b||(b=new qr),L||ji(n)?Og(n,a,s,h,g,b):jT(n,a,V,s,h,g,b);if(!(s&I)){var bt=ht&&ie.call(n,"__wrapped__"),Ot=pt&&ie.call(a,"__wrapped__");if(bt||Ot){var $t=bt?n.value():n,Bt=Ot?a.value():a;return b||(b=new qr),g($t,Bt,s,h,b)}}return wt?(b||(b=new qr),zT(n,a,s,h,g,b)):!1}function vT(n){return Ne(n)&&Xe(n)==j}function mc(n,a,s,h){var g=s.length,b=g,L=!h;if(n==null)return!b;for(n=fe(n);g--;){var F=s[g];if(L&&F[2]?F[1]!==n[F[0]]:!(F[0]in n))return!1}for(;++g<b;){F=s[g];var V=F[0],lt=n[V],ht=F[1];if(L&&F[2]){if(lt===e&&!(V in n))return!1}else{var pt=new qr;if(h)var wt=h(lt,ht,V,n,a,pt);if(!(wt===e?eo(ht,lt,I|S,h,pt):wt))return!1}}return!0}function Yp(n){if(!xe(n)||eI(n))return!1;var a=pn(n)?vA:Pa;return a.test(si(n))}function _T(n){return Ne(n)&&er(n)==Y}function bT(n){return Ne(n)&&Xe(n)==tt}function xT(n){return Ne(n)&&au(n.length)&&!!de[er(n)]}function Zp(n){return typeof n=="function"?n:n==null?cr:typeof n=="object"?Ft(n)?eg(n[0],n[1]):tg(n):_0(n)}function wc(n){if(!io(n))return AA(n);var a=[];for(var s in fe(n))ie.call(n,s)&&s!="constructor"&&a.push(s);return a}function ST(n){if(!xe(n))return aI(n);var a=io(n),s=[];for(var h in n)h=="constructor"&&(a||!ie.call(n,h))||s.push(h);return s}function vc(n,a){return n<a}function Xp(n,a){var s=-1,h=ur(n)?it(n.length):[];return Ln(n,function(g,b,L){h[++s]=a(g,b,L)}),h}function tg(n){var a=Pc(n);return a.length==1&&a[0][2]?Pg(a[0][0],a[0][1]):function(s){return s===n||mc(s,n,a)}}function eg(n,a){return Uc(n)&&Lg(a)?Pg(Yr(n),a):function(s){var h=zc(s,n);return h===e&&h===a?Kc(s,n):eo(a,h,I|S)}}function Gs(n,a,s,h,g){n!==a&&dc(a,function(b,L){if(g||(g=new qr),xe(b))ET(n,a,L,s,Gs,h,g);else{var F=h?h(kc(n,L),b,L+"",n,a,g):e;F===e&&(F=b),lc(n,L,F)}},fr)}function ET(n,a,s,h,g,b,L){var F=kc(n,s),V=kc(a,s),lt=L.get(V);if(lt){lc(n,s,lt);return}var ht=b?b(F,V,s+"",n,a,L):e,pt=ht===e;if(pt){var wt=Ft(V),bt=!wt&&Fn(V),Ot=!wt&&!bt&&ji(V);ht=V,wt||bt||Ot?Ft(F)?ht=F:Fe(F)?ht=sr(F):bt?(pt=!1,ht=dg(V,!0)):Ot?(pt=!1,ht=pg(V,!0)):ht=[]:oo(V)||ui(V)?(ht=F,ui(F)?ht=c0(F):(!xe(F)||pn(F))&&(ht=Rg(V))):pt=!1}pt&&(L.set(V,ht),g(ht,V,h,b,L),L.delete(V)),lc(n,s,ht)}function rg(n,a){var s=n.length;if(!!s)return a+=a<0?s:0,dn(a,s)?n[a]:e}function ng(n,a,s){a.length?a=me(a,function(b){return Ft(b)?function(L){return ai(L,b.length===1?b[0]:b)}:b}):a=[cr];var h=-1;a=me(a,yr(It()));var g=Xp(n,function(b,L,F){var V=me(a,function(lt){return lt(b)});return{criteria:V,index:++h,value:b}});return YE(g,function(b,L){return FT(b,L,s)})}function AT(n,a){return ig(n,a,function(s,h){return Kc(n,h)})}function ig(n,a,s){for(var h=-1,g=a.length,b={};++h<g;){var L=a[h],F=ai(n,L);s(F,L)&&ro(b,Nn(L,n),F)}return b}function TT(n){return function(a){return ai(a,n)}}function _c(n,a,s,h){var g=h?QE:Ni,b=-1,L=a.length,F=n;for(n===a&&(a=sr(a)),s&&(F=me(n,yr(s)));++b<L;)for(var V=0,lt=a[b],ht=s?s(lt):lt;(V=g(F,ht,V,h))>-1;)F!==n&&Ls.call(F,V,1),Ls.call(n,V,1);return n}function ag(n,a){for(var s=n?a.length:0,h=s-1;s--;){var g=a[s];if(s==h||g!==b){var b=g;dn(g)?Ls.call(n,g,1):Ec(n,g)}}return n}function bc(n,a){return n+Us(Dp()*(a-n+1))}function IT(n,a,s,h){for(var g=-1,b=$e(Ns((a-n)/(s||1)),0),L=it(b);b--;)L[h?b:++g]=n,n+=s;return L}function xc(n,a){var s="";if(!n||a<1||a>R)return s;do a%2&&(s+=n),a=Us(a/2),a&&(n+=n);while(a);return s}function Gt(n,a){return Dc(Ng(n,a,cr),n+"")}function CT(n){return Wp(zi(n))}function OT(n,a){var s=zi(n);return Xs(s,ii(a,0,s.length))}function ro(n,a,s,h){if(!xe(n))return n;a=Nn(a,n);for(var g=-1,b=a.length,L=b-1,F=n;F!=null&&++g<b;){var V=Yr(a[g]),lt=s;if(V==="__proto__"||V==="constructor"||V==="prototype")return n;if(g!=L){var ht=F[V];lt=h?h(ht,V,F):e,lt===e&&(lt=xe(ht)?ht:dn(a[g+1])?[]:{})}Za(F,V,lt),F=F[V]}return n}var og=Fs?function(n,a){return Fs.set(n,a),n}:cr,BT=Ps?function(n,a){return Ps(n,"toString",{configurable:!0,enumerable:!1,value:Jc(a),writable:!0})}:cr;function MT(n){return Xs(zi(n))}function Mr(n,a,s){var h=-1,g=n.length;a<0&&(a=-a>g?0:g+a),s=s>g?g:s,s<0&&(s+=g),g=a>s?0:s-a>>>0,a>>>=0;for(var b=it(g);++h<g;)b[h]=n[h+a];return b}function RT(n,a){var s;return Ln(n,function(h,g,b){return s=a(h,g,b),!s}),!!s}function Hs(n,a,s){var h=0,g=n==null?h:n.length;if(typeof a=="number"&&a===a&&g<=rt){for(;h<g;){var b=h+g>>>1,L=n[b];L!==null&&!wr(L)&&(s?L<=a:L<a)?h=b+1:g=b}return g}return Sc(n,a,cr,s)}function Sc(n,a,s,h){var g=0,b=n==null?0:n.length;if(b===0)return 0;a=s(a);for(var L=a!==a,F=a===null,V=wr(a),lt=a===e;g<b;){var ht=Us((g+b)/2),pt=s(n[ht]),wt=pt!==e,bt=pt===null,Ot=pt===pt,$t=wr(pt);if(L)var Bt=h||Ot;else lt?Bt=Ot&&(h||wt):F?Bt=Ot&&wt&&(h||!bt):V?Bt=Ot&&wt&&!bt&&(h||!$t):bt||$t?Bt=!1:Bt=h?pt<=a:pt<a;Bt?g=ht+1:b=ht}return Ze(b,m)}function sg(n,a){for(var s=-1,h=n.length,g=0,b=[];++s<h;){var L=n[s],F=a?a(L):L;if(!s||!$r(F,V)){var V=F;b[g++]=L===0?0:L}}return b}function ug(n){return typeof n=="number"?n:wr(n)?T:+n}function mr(n){if(typeof n=="string")return n;if(Ft(n))return me(n,mr)+"";if(wr(n))return qp?qp.call(n):"";var a=n+"";return a=="0"&&1/n==-E?"-0":a}function Pn(n,a,s){var h=-1,g=Ss,b=n.length,L=!0,F=[],V=F;if(s)L=!1,g=Zf;else if(b>=r){var lt=a?null:GT(n);if(lt)return As(lt);L=!1,g=za,V=new ni}else V=a?[]:F;t:for(;++h<b;){var ht=n[h],pt=a?a(ht):ht;if(ht=s||ht!==0?ht:0,L&&pt===pt){for(var wt=V.length;wt--;)if(V[wt]===pt)continue t;a&&V.push(pt),F.push(ht)}else g(V,pt,s)||(V!==F&&V.push(pt),F.push(ht))}return F}function Ec(n,a){return a=Nn(a,n),n=Ug(n,a),n==null||delete n[Yr(Rr(a))]}function fg(n,a,s,h){return ro(n,a,s(ai(n,a)),h)}function js(n,a,s,h){for(var g=n.length,b=h?g:-1;(h?b--:++b<g)&&a(n[b],b,n););return s?Mr(n,h?0:b,h?b+1:g):Mr(n,h?b+1:0,h?g:b)}function cg(n,a){var s=n;return s instanceof Vt&&(s=s.value()),Xf(a,function(h,g){return g.func.apply(g.thisArg,On([h],g.args))},s)}function Ac(n,a,s){var h=n.length;if(h<2)return h?Pn(n[0]):[];for(var g=-1,b=it(h);++g<h;)for(var L=n[g],F=-1;++F<h;)F!=g&&(b[g]=Xa(b[g]||L,n[F],a,s));return Pn(Je(b,1),a,s)}function lg(n,a,s){for(var h=-1,g=n.length,b=a.length,L={};++h<g;){var F=h<b?a[h]:e;s(L,n[h],F)}return L}function Tc(n){return Fe(n)?n:[]}function Ic(n){return typeof n=="function"?n:cr}function Nn(n,a){return Ft(n)?n:Uc(n,a)?[n]:qg(ee(n))}var LT=Gt;function Un(n,a,s){var h=n.length;return s=s===e?h:s,!a&&s>=h?n:Mr(n,a,s)}var hg=_A||function(n){return He.clearTimeout(n)};function dg(n,a){if(a)return n.slice();var s=n.length,h=Pp?Pp(s):new n.constructor(s);return n.copy(h),h}function Cc(n){var a=new n.constructor(n.byteLength);return new Ms(a).set(new Ms(n)),a}function PT(n,a){var s=a?Cc(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}function NT(n){var a=new n.constructor(n.source,be.exec(n));return a.lastIndex=n.lastIndex,a}function UT(n){return Ya?fe(Ya.call(n)):{}}function pg(n,a){var s=a?Cc(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}function gg(n,a){if(n!==a){var s=n!==e,h=n===null,g=n===n,b=wr(n),L=a!==e,F=a===null,V=a===a,lt=wr(a);if(!F&&!lt&&!b&&n>a||b&&L&&V&&!F&&!lt||h&&L&&V||!s&&V||!g)return 1;if(!h&&!b&&!lt&&n<a||lt&&s&&g&&!h&&!b||F&&s&&g||!L&&g||!V)return-1}return 0}function FT(n,a,s){for(var h=-1,g=n.criteria,b=a.criteria,L=g.length,F=s.length;++h<L;){var V=gg(g[h],b[h]);if(V){if(h>=F)return V;var lt=s[h];return V*(lt=="desc"?-1:1)}}return n.index-a.index}function yg(n,a,s,h){for(var g=-1,b=n.length,L=s.length,F=-1,V=a.length,lt=$e(b-L,0),ht=it(V+lt),pt=!h;++F<V;)ht[F]=a[F];for(;++g<L;)(pt||g<b)&&(ht[s[g]]=n[g]);for(;lt--;)ht[F++]=n[g++];return ht}function mg(n,a,s,h){for(var g=-1,b=n.length,L=-1,F=s.length,V=-1,lt=a.length,ht=$e(b-F,0),pt=it(ht+lt),wt=!h;++g<ht;)pt[g]=n[g];for(var bt=g;++V<lt;)pt[bt+V]=a[V];for(;++L<F;)(wt||g<b)&&(pt[bt+s[L]]=n[g++]);return pt}function sr(n,a){var s=-1,h=n.length;for(a||(a=it(h));++s<h;)a[s]=n[s];return a}function Qr(n,a,s,h){var g=!s;s||(s={});for(var b=-1,L=a.length;++b<L;){var F=a[b],V=h?h(s[F],n[F],F,s,n):e;V===e&&(V=n[F]),g?cn(s,F,V):Za(s,F,V)}return s}function kT(n,a){return Qr(n,Nc(n),a)}function DT(n,a){return Qr(n,Bg(n),a)}function zs(n,a){return function(s,h){var g=Ft(s)?HE:sT,b=a?a():{};return g(s,n,It(h,2),b)}}function Wi(n){return Gt(function(a,s){var h=-1,g=s.length,b=g>1?s[g-1]:e,L=g>2?s[2]:e;for(b=n.length>3&&typeof b=="function"?(g--,b):e,L&&rr(s[0],s[1],L)&&(b=g<3?e:b,g=1),a=fe(a);++h<g;){var F=s[h];F&&n(a,F,h,b)}return a})}function wg(n,a){return function(s,h){if(s==null)return s;if(!ur(s))return n(s,h);for(var g=s.length,b=a?g:-1,L=fe(s);(a?b--:++b<g)&&h(L[b],b,L)!==!1;);return s}}function vg(n){return function(a,s,h){for(var g=-1,b=fe(a),L=h(a),F=L.length;F--;){var V=L[n?F:++g];if(s(b[V],V,b)===!1)break}return a}}function qT(n,a,s){var h=a&N,g=no(n);function b(){var L=this&&this!==He&&this instanceof b?g:n;return L.apply(h?s:this,arguments)}return b}function _g(n){return function(a){a=ee(a);var s=Ui(a)?Dr(a):e,h=s?s[0]:a.charAt(0),g=s?Un(s,1).join(""):a.slice(1);return h[n]()+g}}function Gi(n){return function(a){return Xf(w0(m0(a).replace(BE,"")),n,"")}}function no(n){return function(){var a=arguments;switch(a.length){case 0:return new n;case 1:return new n(a[0]);case 2:return new n(a[0],a[1]);case 3:return new n(a[0],a[1],a[2]);case 4:return new n(a[0],a[1],a[2],a[3]);case 5:return new n(a[0],a[1],a[2],a[3],a[4]);case 6:return new n(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new n(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var s=$i(n.prototype),h=n.apply(s,a);return xe(h)?h:s}}function $T(n,a,s){var h=no(n);function g(){for(var b=arguments.length,L=it(b),F=b,V=Hi(g);F--;)L[F]=arguments[F];var lt=b<3&&L[0]!==V&&L[b-1]!==V?[]:Bn(L,V);if(b-=lt.length,b<s)return Ag(n,a,Ks,g.placeholder,e,L,lt,e,e,s-b);var ht=this&&this!==He&&this instanceof g?h:n;return gr(ht,this,L)}return g}function bg(n){return function(a,s,h){var g=fe(a);if(!ur(a)){var b=It(s,3);a=je(a),s=function(F){return b(g[F],F,g)}}var L=n(a,s,h);return L>-1?g[b?a[L]:L]:e}}function xg(n){return hn(function(a){var s=a.length,h=s,g=Or.prototype.thru;for(n&&a.reverse();h--;){var b=a[h];if(typeof b!="function")throw new Cr(o);if(g&&!L&&Ys(b)=="wrapper")var L=new Or([],!0)}for(h=L?h:s;++h<s;){b=a[h];var F=Ys(b),V=F=="wrapper"?Lc(b):e;V&&Fc(V[0])&&V[1]==(et|J|Z|nt)&&!V[4].length&&V[9]==1?L=L[Ys(V[0])].apply(L,V[3]):L=b.length==1&&Fc(b)?L[F]():L.thru(b)}return function(){var lt=arguments,ht=lt[0];if(L&&lt.length==1&&Ft(ht))return L.plant(ht).value();for(var pt=0,wt=s?a[pt].apply(this,lt):ht;++pt<s;)wt=a[pt].call(this,wt);return wt}})}function Ks(n,a,s,h,g,b,L,F,V,lt){var ht=a&et,pt=a&N,wt=a&k,bt=a&(J|ft),Ot=a&dt,$t=wt?e:no(n);function Bt(){for(var jt=arguments.length,Qt=it(jt),vr=jt;vr--;)Qt[vr]=arguments[vr];if(bt)var nr=Hi(Bt),_r=XE(Qt,nr);if(h&&(Qt=yg(Qt,h,g,bt)),b&&(Qt=mg(Qt,b,L,bt)),jt-=_r,bt&&jt<lt){var ke=Bn(Qt,nr);return Ag(n,a,Ks,Bt.placeholder,s,Qt,ke,F,V,lt-jt)}var Wr=pt?s:this,yn=wt?Wr[n]:n;return jt=Qt.length,F?Qt=sI(Qt,F):Ot&&jt>1&&Qt.reverse(),ht&&V<jt&&(Qt.length=V),this&&this!==He&&this instanceof Bt&&(yn=$t||no(yn)),yn.apply(Wr,Qt)}return Bt}function Sg(n,a){return function(s,h){return gT(s,n,a(h),{})}}function Vs(n,a){return function(s,h){var g;if(s===e&&h===e)return a;if(s!==e&&(g=s),h!==e){if(g===e)return h;typeof s=="string"||typeof h=="string"?(s=mr(s),h=mr(h)):(s=ug(s),h=ug(h)),g=n(s,h)}return g}}function Oc(n){return hn(function(a){return a=me(a,yr(It())),Gt(function(s){var h=this;return n(a,function(g){return gr(g,h,s)})})})}function Js(n,a){a=a===e?" ":mr(a);var s=a.length;if(s<2)return s?xc(a,n):a;var h=xc(a,Ns(n/Fi(a)));return Ui(a)?Un(Dr(h),0,n).join(""):h.slice(0,n)}function WT(n,a,s,h){var g=a&N,b=no(n);function L(){for(var F=-1,V=arguments.length,lt=-1,ht=h.length,pt=it(ht+V),wt=this&&this!==He&&this instanceof L?b:n;++lt<ht;)pt[lt]=h[lt];for(;V--;)pt[lt++]=arguments[++F];return gr(wt,g?s:this,pt)}return L}function Eg(n){return function(a,s,h){return h&&typeof h!="number"&&rr(a,s,h)&&(s=h=e),a=gn(a),s===e?(s=a,a=0):s=gn(s),h=h===e?a<s?1:-1:gn(h),IT(a,s,h,n)}}function Qs(n){return function(a,s){return typeof a=="string"&&typeof s=="string"||(a=Lr(a),s=Lr(s)),n(a,s)}}function Ag(n,a,s,h,g,b,L,F,V,lt){var ht=a&J,pt=ht?L:e,wt=ht?e:L,bt=ht?b:e,Ot=ht?e:b;a|=ht?Z:st,a&=~(ht?st:Z),a&Q||(a&=~(N|k));var $t=[n,a,g,bt,pt,Ot,wt,F,V,lt],Bt=s.apply(e,$t);return Fc(n)&&Fg(Bt,$t),Bt.placeholder=h,kg(Bt,n,a)}function Bc(n){var a=qe[n];return function(s,h){if(s=Lr(s),h=h==null?0:Ze(kt(h),292),h&&kp(s)){var g=(ee(s)+"e").split("e"),b=a(g[0]+"e"+(+g[1]+h));return g=(ee(b)+"e").split("e"),+(g[0]+"e"+(+g[1]-h))}return a(s)}}var GT=Di&&1/As(new Di([,-0]))[1]==E?function(n){return new Di(n)}:Zc;function Tg(n){return function(a){var s=Xe(a);return s==j?oc(a):s==tt?oA(a):ZE(a,n(a))}}function ln(n,a,s,h,g,b,L,F){var V=a&k;if(!V&&typeof n!="function")throw new Cr(o);var lt=h?h.length:0;if(lt||(a&=~(Z|st),h=g=e),L=L===e?L:$e(kt(L),0),F=F===e?F:kt(F),lt-=g?g.length:0,a&st){var ht=h,pt=g;h=g=e}var wt=V?e:Lc(n),bt=[n,a,s,h,g,ht,pt,b,L,F];if(wt&&iI(bt,wt),n=bt[0],a=bt[1],s=bt[2],h=bt[3],g=bt[4],F=bt[9]=bt[9]===e?V?0:n.length:$e(bt[9]-lt,0),!F&&a&(J|ft)&&(a&=~(J|ft)),!a||a==N)var Ot=qT(n,a,s);else a==J||a==ft?Ot=$T(n,a,F):(a==Z||a==(N|Z))&&!g.length?Ot=WT(n,a,s,h):Ot=Ks.apply(e,bt);var $t=wt?og:Fg;return kg($t(Ot,bt),n,a)}function Ig(n,a,s,h){return n===e||$r(n,ki[s])&&!ie.call(h,s)?a:n}function Cg(n,a,s,h,g,b){return xe(n)&&xe(a)&&(b.set(a,n),Gs(n,a,e,Cg,b),b.delete(a)),n}function HT(n){return oo(n)?e:n}function Og(n,a,s,h,g,b){var L=s&I,F=n.length,V=a.length;if(F!=V&&!(L&&V>F))return!1;var lt=b.get(n),ht=b.get(a);if(lt&&ht)return lt==a&&ht==n;var pt=-1,wt=!0,bt=s&S?new ni:e;for(b.set(n,a),b.set(a,n);++pt<F;){var Ot=n[pt],$t=a[pt];if(h)var Bt=L?h($t,Ot,pt,a,n,b):h(Ot,$t,pt,n,a,b);if(Bt!==e){if(Bt)continue;wt=!1;break}if(bt){if(!tc(a,function(jt,Qt){if(!za(bt,Qt)&&(Ot===jt||g(Ot,jt,s,h,b)))return bt.push(Qt)})){wt=!1;break}}else if(!(Ot===$t||g(Ot,$t,s,h,b))){wt=!1;break}}return b.delete(n),b.delete(a),wt}function jT(n,a,s,h,g,b,L){switch(s){case _t:if(n.byteLength!=a.byteLength||n.byteOffset!=a.byteOffset)return!1;n=n.buffer,a=a.buffer;case oe:return!(n.byteLength!=a.byteLength||!b(new Ms(n),new Ms(a)));case Et:case Pt:case G:return $r(+n,+a);case x:return n.name==a.name&&n.message==a.message;case Y:case ot:return n==a+"";case j:var F=oc;case tt:var V=h&I;if(F||(F=As),n.size!=a.size&&!V)return!1;var lt=L.get(n);if(lt)return lt==a;h|=S,L.set(n,a);var ht=Og(F(n),F(a),h,g,b,L);return L.delete(n),ht;case mt:if(Ya)return Ya.call(n)==Ya.call(a)}return!1}function zT(n,a,s,h,g,b){var L=s&I,F=Mc(n),V=F.length,lt=Mc(a),ht=lt.length;if(V!=ht&&!L)return!1;for(var pt=V;pt--;){var wt=F[pt];if(!(L?wt in a:ie.call(a,wt)))return!1}var bt=b.get(n),Ot=b.get(a);if(bt&&Ot)return bt==a&&Ot==n;var $t=!0;b.set(n,a),b.set(a,n);for(var Bt=L;++pt<V;){wt=F[pt];var jt=n[wt],Qt=a[wt];if(h)var vr=L?h(Qt,jt,wt,a,n,b):h(jt,Qt,wt,n,a,b);if(!(vr===e?jt===Qt||g(jt,Qt,s,h,b):vr)){$t=!1;break}Bt||(Bt=wt=="constructor")}if($t&&!Bt){var nr=n.constructor,_r=a.constructor;nr!=_r&&"constructor"in n&&"constructor"in a&&!(typeof nr=="function"&&nr instanceof nr&&typeof _r=="function"&&_r instanceof _r)&&($t=!1)}return b.delete(n),b.delete(a),$t}function hn(n){return Dc(Ng(n,e,Hg),n+"")}function Mc(n){return Jp(n,je,Nc)}function Rc(n){return Jp(n,fr,Bg)}var Lc=Fs?function(n){return Fs.get(n)}:Zc;function Ys(n){for(var a=n.name+"",s=qi[a],h=ie.call(qi,a)?s.length:0;h--;){var g=s[h],b=g.func;if(b==null||b==n)return g.name}return a}function Hi(n){var a=ie.call(_,"placeholder")?_:n;return a.placeholder}function It(){var n=_.iteratee||Qc;return n=n===Qc?Zp:n,arguments.length?n(arguments[0],arguments[1]):n}function Zs(n,a){var s=n.__data__;return tI(a)?s[typeof a=="string"?"string":"hash"]:s.map}function Pc(n){for(var a=je(n),s=a.length;s--;){var h=a[s],g=n[h];a[s]=[h,g,Lg(g)]}return a}function oi(n,a){var s=nA(n,a);return Yp(s)?s:e}function KT(n){var a=ie.call(n,ei),s=n[ei];try{n[ei]=e;var h=!0}catch(b){}var g=Os.call(n);return h&&(a?n[ei]=s:delete n[ei]),g}var Nc=uc?function(n){return n==null?[]:(n=fe(n),Cn(uc(n),function(a){return Up.call(n,a)}))}:Xc,Bg=uc?function(n){for(var a=[];n;)On(a,Nc(n)),n=Rs(n);return a}:Xc,Xe=er;(fc&&Xe(new fc(new ArrayBuffer(1)))!=_t||Va&&Xe(new Va)!=j||cc&&Xe(cc.resolve())!=$||Di&&Xe(new Di)!=tt||Ja&&Xe(new Ja)!=xt)&&(Xe=function(n){var a=er(n),s=a==X?n.constructor:e,h=s?si(s):"";if(h)switch(h){case OA:return _t;case BA:return j;case MA:return $;case RA:return tt;case LA:return xt}return a});function VT(n,a,s){for(var h=-1,g=s.length;++h<g;){var b=s[h],L=b.size;switch(b.type){case"drop":n+=L;break;case"dropRight":a-=L;break;case"take":a=Ze(a,n+L);break;case"takeRight":n=$e(n,a-L);break}}return{start:n,end:a}}function JT(n){var a=n.match(Me);return a?a[1].split(_s):[]}function Mg(n,a,s){a=Nn(a,n);for(var h=-1,g=a.length,b=!1;++h<g;){var L=Yr(a[h]);if(!(b=n!=null&&s(n,L)))break;n=n[L]}return b||++h!=g?b:(g=n==null?0:n.length,!!g&&au(g)&&dn(L,g)&&(Ft(n)||ui(n)))}function QT(n){var a=n.length,s=new n.constructor(a);return a&&typeof n[0]=="string"&&ie.call(n,"index")&&(s.index=n.index,s.input=n.input),s}function Rg(n){return typeof n.constructor=="function"&&!io(n)?$i(Rs(n)):{}}function YT(n,a,s){var h=n.constructor;switch(a){case oe:return Cc(n);case Et:case Pt:return new h(+n);case _t:return PT(n,s);case Tt:case we:case ne:case se:case Vr:case Jt:case te:case De:case qt:return pg(n,s);case j:return new h;case G:case ot:return new h(n);case Y:return NT(n);case tt:return new h;case mt:return UT(n)}}function ZT(n,a){var s=a.length;if(!s)return n;var h=s-1;return a[h]=(s>1?"& ":"")+a[h],a=a.join(s>2?", ":" "),n.replace(Be,`{
/* [wrapped with `+a+`] */
`)}function XT(n){return Ft(n)||ui(n)||!!(Fp&&n&&n[Fp])}function dn(n,a){var s=typeof n;return a=a==null?R:a,!!a&&(s=="number"||s!="symbol"&&Ua.test(n))&&n>-1&&n%1==0&&n<a}function rr(n,a,s){if(!xe(s))return!1;var h=typeof a;return(h=="number"?ur(s)&&dn(a,s.length):h=="string"&&a in s)?$r(s[a],n):!1}function Uc(n,a){if(Ft(n))return!1;var s=typeof n;return s=="number"||s=="symbol"||s=="boolean"||n==null||wr(n)?!0:Ie.test(n)||!ws.test(n)||a!=null&&n in fe(a)}function tI(n){var a=typeof n;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?n!=="__proto__":n===null}function Fc(n){var a=Ys(n),s=_[a];if(typeof s!="function"||!(a in Vt.prototype))return!1;if(n===s)return!0;var h=Lc(s);return!!h&&n===h[0]}function eI(n){return!!Lp&&Lp in n}var rI=Is?pn:tl;function io(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||ki;return n===s}function Lg(n){return n===n&&!xe(n)}function Pg(n,a){return function(s){return s==null?!1:s[n]===a&&(a!==e||n in fe(s))}}function nI(n){var a=nu(n,function(h){return s.size===p&&s.clear(),h}),s=a.cache;return a}function iI(n,a){var s=n[1],h=a[1],g=s|h,b=g<(N|k|et),L=h==et&&s==J||h==et&&s==nt&&n[7].length<=a[8]||h==(et|nt)&&a[7].length<=a[8]&&s==J;if(!(b||L))return n;h&N&&(n[2]=a[2],g|=s&N?0:Q);var F=a[3];if(F){var V=n[3];n[3]=V?yg(V,F,a[4]):F,n[4]=V?Bn(n[3],w):a[4]}return F=a[5],F&&(V=n[5],n[5]=V?mg(V,F,a[6]):F,n[6]=V?Bn(n[5],w):a[6]),F=a[7],F&&(n[7]=F),h&et&&(n[8]=n[8]==null?a[8]:Ze(n[8],a[8])),n[9]==null&&(n[9]=a[9]),n[0]=a[0],n[1]=g,n}function aI(n){var a=[];if(n!=null)for(var s in fe(n))a.push(s);return a}function oI(n){return Os.call(n)}function Ng(n,a,s){return a=$e(a===e?n.length-1:a,0),function(){for(var h=arguments,g=-1,b=$e(h.length-a,0),L=it(b);++g<b;)L[g]=h[a+g];g=-1;for(var F=it(a+1);++g<a;)F[g]=h[g];return F[a]=s(L),gr(n,this,F)}}function Ug(n,a){return a.length<2?n:ai(n,Mr(a,0,-1))}function sI(n,a){for(var s=n.length,h=Ze(a.length,s),g=sr(n);h--;){var b=a[h];n[h]=dn(b,s)?g[b]:e}return n}function kc(n,a){if(!(a==="constructor"&&typeof n[a]=="function")&&a!="__proto__")return n[a]}var Fg=Dg(og),ao=xA||function(n,a){return He.setTimeout(n,a)},Dc=Dg(BT);function kg(n,a,s){var h=a+"";return Dc(n,ZT(h,uI(JT(h),s)))}function Dg(n){var a=0,s=0;return function(){var h=TA(),g=f-(h-s);if(s=h,g>0){if(++a>=A)return arguments[0]}else a=0;return n.apply(e,arguments)}}function Xs(n,a){var s=-1,h=n.length,g=h-1;for(a=a===e?h:a;++s<a;){var b=bc(s,g),L=n[b];n[b]=n[s],n[s]=L}return n.length=a,n}var qg=nI(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(Ce,function(s,h,g,b){a.push(g?b.replace(bs,"$1"):h||s)}),a});function Yr(n){if(typeof n=="string"||wr(n))return n;var a=n+"";return a=="0"&&1/n==-E?"-0":a}function si(n){if(n!=null){try{return Cs.call(n)}catch(a){}try{return n+""}catch(a){}}return""}function uI(n,a){return Ir(at,function(s){var h="_."+s[0];a&s[1]&&!Ss(n,h)&&n.push(h)}),n.sort()}function $g(n){if(n instanceof Vt)return n.clone();var a=new Or(n.__wrapped__,n.__chain__);return a.__actions__=sr(n.__actions__),a.__index__=n.__index__,a.__values__=n.__values__,a}function fI(n,a,s){(s?rr(n,a,s):a===e)?a=1:a=$e(kt(a),0);var h=n==null?0:n.length;if(!h||a<1)return[];for(var g=0,b=0,L=it(Ns(h/a));g<h;)L[b++]=Mr(n,g,g+=a);return L}function cI(n){for(var a=-1,s=n==null?0:n.length,h=0,g=[];++a<s;){var b=n[a];b&&(g[h++]=b)}return g}function lI(){var n=arguments.length;if(!n)return[];for(var a=it(n-1),s=arguments[0],h=n;h--;)a[h-1]=arguments[h];return On(Ft(s)?sr(s):[s],Je(a,1))}var hI=Gt(function(n,a){return Fe(n)?Xa(n,Je(a,1,Fe,!0)):[]}),dI=Gt(function(n,a){var s=Rr(a);return Fe(s)&&(s=e),Fe(n)?Xa(n,Je(a,1,Fe,!0),It(s,2)):[]}),pI=Gt(function(n,a){var s=Rr(a);return Fe(s)&&(s=e),Fe(n)?Xa(n,Je(a,1,Fe,!0),e,s):[]});function gI(n,a,s){var h=n==null?0:n.length;return h?(a=s||a===e?1:kt(a),Mr(n,a<0?0:a,h)):[]}function yI(n,a,s){var h=n==null?0:n.length;return h?(a=s||a===e?1:kt(a),a=h-a,Mr(n,0,a<0?0:a)):[]}function mI(n,a){return n&&n.length?js(n,It(a,3),!0,!0):[]}function wI(n,a){return n&&n.length?js(n,It(a,3),!0):[]}function vI(n,a,s,h){var g=n==null?0:n.length;return g?(s&&typeof s!="number"&&rr(n,a,s)&&(s=0,h=g),lT(n,a,s,h)):[]}function Wg(n,a,s){var h=n==null?0:n.length;if(!h)return-1;var g=s==null?0:kt(s);return g<0&&(g=$e(h+g,0)),Es(n,It(a,3),g)}function Gg(n,a,s){var h=n==null?0:n.length;if(!h)return-1;var g=h-1;return s!==e&&(g=kt(s),g=s<0?$e(h+g,0):Ze(g,h-1)),Es(n,It(a,3),g,!0)}function Hg(n){var a=n==null?0:n.length;return a?Je(n,1):[]}function _I(n){var a=n==null?0:n.length;return a?Je(n,E):[]}function bI(n,a){var s=n==null?0:n.length;return s?(a=a===e?1:kt(a),Je(n,a)):[]}function xI(n){for(var a=-1,s=n==null?0:n.length,h={};++a<s;){var g=n[a];h[g[0]]=g[1]}return h}function jg(n){return n&&n.length?n[0]:e}function SI(n,a,s){var h=n==null?0:n.length;if(!h)return-1;var g=s==null?0:kt(s);return g<0&&(g=$e(h+g,0)),Ni(n,a,g)}function EI(n){var a=n==null?0:n.length;return a?Mr(n,0,-1):[]}var AI=Gt(function(n){var a=me(n,Tc);return a.length&&a[0]===n[0]?yc(a):[]}),TI=Gt(function(n){var a=Rr(n),s=me(n,Tc);return a===Rr(s)?a=e:s.pop(),s.length&&s[0]===n[0]?yc(s,It(a,2)):[]}),II=Gt(function(n){var a=Rr(n),s=me(n,Tc);return a=typeof a=="function"?a:e,a&&s.pop(),s.length&&s[0]===n[0]?yc(s,e,a):[]});function CI(n,a){return n==null?"":EA.call(n,a)}function Rr(n){var a=n==null?0:n.length;return a?n[a-1]:e}function OI(n,a,s){var h=n==null?0:n.length;if(!h)return-1;var g=h;return s!==e&&(g=kt(s),g=g<0?$e(h+g,0):Ze(g,h-1)),a===a?uA(n,a,g):Es(n,Ap,g,!0)}function BI(n,a){return n&&n.length?rg(n,kt(a)):e}var MI=Gt(zg);function zg(n,a){return n&&n.length&&a&&a.length?_c(n,a):n}function RI(n,a,s){return n&&n.length&&a&&a.length?_c(n,a,It(s,2)):n}function LI(n,a,s){return n&&n.length&&a&&a.length?_c(n,a,e,s):n}var PI=hn(function(n,a){var s=n==null?0:n.length,h=hc(n,a);return ag(n,me(a,function(g){return dn(g,s)?+g:g}).sort(gg)),h});function NI(n,a){var s=[];if(!(n&&n.length))return s;var h=-1,g=[],b=n.length;for(a=It(a,3);++h<b;){var L=n[h];a(L,h,n)&&(s.push(L),g.push(h))}return ag(n,g),s}function qc(n){return n==null?n:CA.call(n)}function UI(n,a,s){var h=n==null?0:n.length;return h?(s&&typeof s!="number"&&rr(n,a,s)?(a=0,s=h):(a=a==null?0:kt(a),s=s===e?h:kt(s)),Mr(n,a,s)):[]}function FI(n,a){return Hs(n,a)}function kI(n,a,s){return Sc(n,a,It(s,2))}function DI(n,a){var s=n==null?0:n.length;if(s){var h=Hs(n,a);if(h<s&&$r(n[h],a))return h}return-1}function qI(n,a){return Hs(n,a,!0)}function $I(n,a,s){return Sc(n,a,It(s,2),!0)}function WI(n,a){var s=n==null?0:n.length;if(s){var h=Hs(n,a,!0)-1;if($r(n[h],a))return h}return-1}function GI(n){return n&&n.length?sg(n):[]}function HI(n,a){return n&&n.length?sg(n,It(a,2)):[]}function jI(n){var a=n==null?0:n.length;return a?Mr(n,1,a):[]}function zI(n,a,s){return n&&n.length?(a=s||a===e?1:kt(a),Mr(n,0,a<0?0:a)):[]}function KI(n,a,s){var h=n==null?0:n.length;return h?(a=s||a===e?1:kt(a),a=h-a,Mr(n,a<0?0:a,h)):[]}function VI(n,a){return n&&n.length?js(n,It(a,3),!1,!0):[]}function JI(n,a){return n&&n.length?js(n,It(a,3)):[]}var QI=Gt(function(n){return Pn(Je(n,1,Fe,!0))}),YI=Gt(function(n){var a=Rr(n);return Fe(a)&&(a=e),Pn(Je(n,1,Fe,!0),It(a,2))}),ZI=Gt(function(n){var a=Rr(n);return a=typeof a=="function"?a:e,Pn(Je(n,1,Fe,!0),e,a)});function XI(n){return n&&n.length?Pn(n):[]}function t2(n,a){return n&&n.length?Pn(n,It(a,2)):[]}function e2(n,a){return a=typeof a=="function"?a:e,n&&n.length?Pn(n,e,a):[]}function $c(n){if(!(n&&n.length))return[];var a=0;return n=Cn(n,function(s){if(Fe(s))return a=$e(s.length,a),!0}),ic(a,function(s){return me(n,ec(s))})}function Kg(n,a){if(!(n&&n.length))return[];var s=$c(n);return a==null?s:me(s,function(h){return gr(a,e,h)})}var r2=Gt(function(n,a){return Fe(n)?Xa(n,a):[]}),n2=Gt(function(n){return Ac(Cn(n,Fe))}),i2=Gt(function(n){var a=Rr(n);return Fe(a)&&(a=e),Ac(Cn(n,Fe),It(a,2))}),a2=Gt(function(n){var a=Rr(n);return a=typeof a=="function"?a:e,Ac(Cn(n,Fe),e,a)}),o2=Gt($c);function s2(n,a){return lg(n||[],a||[],Za)}function u2(n,a){return lg(n||[],a||[],ro)}var f2=Gt(function(n){var a=n.length,s=a>1?n[a-1]:e;return s=typeof s=="function"?(n.pop(),s):e,Kg(n,s)});function Vg(n){var a=_(n);return a.__chain__=!0,a}function c2(n,a){return a(n),n}function tu(n,a){return a(n)}var l2=hn(function(n){var a=n.length,s=a?n[0]:0,h=this.__wrapped__,g=function(b){return hc(b,n)};return a>1||this.__actions__.length||!(h instanceof Vt)||!dn(s)?this.thru(g):(h=h.slice(s,+s+(a?1:0)),h.__actions__.push({func:tu,args:[g],thisArg:e}),new Or(h,this.__chain__).thru(function(b){return a&&!b.length&&b.push(e),b}))});function h2(){return Vg(this)}function d2(){return new Or(this.value(),this.__chain__)}function p2(){this.__values__===e&&(this.__values__=u0(this.value()));var n=this.__index__>=this.__values__.length,a=n?e:this.__values__[this.__index__++];return{done:n,value:a}}function g2(){return this}function y2(n){for(var a,s=this;s instanceof Ds;){var h=$g(s);h.__index__=0,h.__values__=e,a?g.__wrapped__=h:a=h;var g=h;s=s.__wrapped__}return g.__wrapped__=n,a}function m2(){var n=this.__wrapped__;if(n instanceof Vt){var a=n;return this.__actions__.length&&(a=new Vt(this)),a=a.reverse(),a.__actions__.push({func:tu,args:[qc],thisArg:e}),new Or(a,this.__chain__)}return this.thru(qc)}function w2(){return cg(this.__wrapped__,this.__actions__)}var v2=zs(function(n,a,s){ie.call(n,s)?++n[s]:cn(n,s,1)});function _2(n,a,s){var h=Ft(n)?Sp:cT;return s&&rr(n,a,s)&&(a=e),h(n,It(a,3))}function b2(n,a){var s=Ft(n)?Cn:Kp;return s(n,It(a,3))}var x2=bg(Wg),S2=bg(Gg);function E2(n,a){return Je(eu(n,a),1)}function A2(n,a){return Je(eu(n,a),E)}function T2(n,a,s){return s=s===e?1:kt(s),Je(eu(n,a),s)}function Jg(n,a){var s=Ft(n)?Ir:Ln;return s(n,It(a,3))}function Qg(n,a){var s=Ft(n)?jE:zp;return s(n,It(a,3))}var I2=zs(function(n,a,s){ie.call(n,s)?n[s].push(a):cn(n,s,[a])});function C2(n,a,s,h){n=ur(n)?n:zi(n),s=s&&!h?kt(s):0;var g=n.length;return s<0&&(s=$e(g+s,0)),ou(n)?s<=g&&n.indexOf(a,s)>-1:!!g&&Ni(n,a,s)>-1}var O2=Gt(function(n,a,s){var h=-1,g=typeof a=="function",b=ur(n)?it(n.length):[];return Ln(n,function(L){b[++h]=g?gr(a,L,s):to(L,a,s)}),b}),B2=zs(function(n,a,s){cn(n,s,a)});function eu(n,a){var s=Ft(n)?me:Xp;return s(n,It(a,3))}function M2(n,a,s,h){return n==null?[]:(Ft(a)||(a=a==null?[]:[a]),s=h?e:s,Ft(s)||(s=s==null?[]:[s]),ng(n,a,s))}var R2=zs(function(n,a,s){n[s?0:1].push(a)},function(){return[[],[]]});function L2(n,a,s){var h=Ft(n)?Xf:Ip,g=arguments.length<3;return h(n,It(a,4),s,g,Ln)}function P2(n,a,s){var h=Ft(n)?zE:Ip,g=arguments.length<3;return h(n,It(a,4),s,g,zp)}function N2(n,a){var s=Ft(n)?Cn:Kp;return s(n,iu(It(a,3)))}function U2(n){var a=Ft(n)?Wp:CT;return a(n)}function F2(n,a,s){(s?rr(n,a,s):a===e)?a=1:a=kt(a);var h=Ft(n)?aT:OT;return h(n,a)}function k2(n){var a=Ft(n)?oT:MT;return a(n)}function D2(n){if(n==null)return 0;if(ur(n))return ou(n)?Fi(n):n.length;var a=Xe(n);return a==j||a==tt?n.size:wc(n).length}function q2(n,a,s){var h=Ft(n)?tc:RT;return s&&rr(n,a,s)&&(a=e),h(n,It(a,3))}var $2=Gt(function(n,a){if(n==null)return[];var s=a.length;return s>1&&rr(n,a[0],a[1])?a=[]:s>2&&rr(a[0],a[1],a[2])&&(a=[a[0]]),ng(n,Je(a,1),[])}),ru=bA||function(){return He.Date.now()};function W2(n,a){if(typeof a!="function")throw new Cr(o);return n=kt(n),function(){if(--n<1)return a.apply(this,arguments)}}function Yg(n,a,s){return a=s?e:a,a=n&&a==null?n.length:a,ln(n,et,e,e,e,e,a)}function Zg(n,a){var s;if(typeof a!="function")throw new Cr(o);return n=kt(n),function(){return--n>0&&(s=a.apply(this,arguments)),n<=1&&(a=e),s}}var Wc=Gt(function(n,a,s){var h=N;if(s.length){var g=Bn(s,Hi(Wc));h|=Z}return ln(n,h,a,s,g)}),Xg=Gt(function(n,a,s){var h=N|k;if(s.length){var g=Bn(s,Hi(Xg));h|=Z}return ln(a,h,n,s,g)});function t0(n,a,s){a=s?e:a;var h=ln(n,J,e,e,e,e,e,a);return h.placeholder=t0.placeholder,h}function e0(n,a,s){a=s?e:a;var h=ln(n,ft,e,e,e,e,e,a);return h.placeholder=e0.placeholder,h}function r0(n,a,s){var h,g,b,L,F,V,lt=0,ht=!1,pt=!1,wt=!0;if(typeof n!="function")throw new Cr(o);a=Lr(a)||0,xe(s)&&(ht=!!s.leading,pt="maxWait"in s,b=pt?$e(Lr(s.maxWait)||0,a):b,wt="trailing"in s?!!s.trailing:wt);function bt(ke){var Wr=h,yn=g;return h=g=e,lt=ke,L=n.apply(yn,Wr),L}function Ot(ke){return lt=ke,F=ao(jt,a),ht?bt(ke):L}function $t(ke){var Wr=ke-V,yn=ke-lt,b0=a-Wr;return pt?Ze(b0,b-yn):b0}function Bt(ke){var Wr=ke-V,yn=ke-lt;return V===e||Wr>=a||Wr<0||pt&&yn>=b}function jt(){var ke=ru();if(Bt(ke))return Qt(ke);F=ao(jt,$t(ke))}function Qt(ke){return F=e,wt&&h?bt(ke):(h=g=e,L)}function vr(){F!==e&&hg(F),lt=0,h=V=g=F=e}function nr(){return F===e?L:Qt(ru())}function _r(){var ke=ru(),Wr=Bt(ke);if(h=arguments,g=this,V=ke,Wr){if(F===e)return Ot(V);if(pt)return hg(F),F=ao(jt,a),bt(V)}return F===e&&(F=ao(jt,a)),L}return _r.cancel=vr,_r.flush=nr,_r}var G2=Gt(function(n,a){return jp(n,1,a)}),H2=Gt(function(n,a,s){return jp(n,Lr(a)||0,s)});function j2(n){return ln(n,dt)}function nu(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new Cr(o);var s=function(){var h=arguments,g=a?a.apply(this,h):h[0],b=s.cache;if(b.has(g))return b.get(g);var L=n.apply(this,h);return s.cache=b.set(g,L)||b,L};return s.cache=new(nu.Cache||fn),s}nu.Cache=fn;function iu(n){if(typeof n!="function")throw new Cr(o);return function(){var a=arguments;switch(a.length){case 0:return!n.call(this);case 1:return!n.call(this,a[0]);case 2:return!n.call(this,a[0],a[1]);case 3:return!n.call(this,a[0],a[1],a[2])}return!n.apply(this,a)}}function z2(n){return Zg(2,n)}var K2=LT(function(n,a){a=a.length==1&&Ft(a[0])?me(a[0],yr(It())):me(Je(a,1),yr(It()));var s=a.length;return Gt(function(h){for(var g=-1,b=Ze(h.length,s);++g<b;)h[g]=a[g].call(this,h[g]);return gr(n,this,h)})}),Gc=Gt(function(n,a){var s=Bn(a,Hi(Gc));return ln(n,Z,e,a,s)}),n0=Gt(function(n,a){var s=Bn(a,Hi(n0));return ln(n,st,e,a,s)}),V2=hn(function(n,a){return ln(n,nt,e,e,e,a)});function J2(n,a){if(typeof n!="function")throw new Cr(o);return a=a===e?a:kt(a),Gt(n,a)}function Q2(n,a){if(typeof n!="function")throw new Cr(o);return a=a==null?0:$e(kt(a),0),Gt(function(s){var h=s[a],g=Un(s,0,a);return h&&On(g,h),gr(n,this,g)})}function Y2(n,a,s){var h=!0,g=!0;if(typeof n!="function")throw new Cr(o);return xe(s)&&(h="leading"in s?!!s.leading:h,g="trailing"in s?!!s.trailing:g),r0(n,a,{leading:h,maxWait:a,trailing:g})}function Z2(n){return Yg(n,1)}function X2(n,a){return Gc(Ic(a),n)}function tC(){if(!arguments.length)return[];var n=arguments[0];return Ft(n)?n:[n]}function eC(n){return Br(n,O)}function rC(n,a){return a=typeof a=="function"?a:e,Br(n,O,a)}function nC(n){return Br(n,M|O)}function iC(n,a){return a=typeof a=="function"?a:e,Br(n,M|O,a)}function aC(n,a){return a==null||Hp(n,a,je(a))}function $r(n,a){return n===a||n!==n&&a!==a}var oC=Qs(gc),sC=Qs(function(n,a){return n>=a}),ui=Qp(function(){return arguments}())?Qp:function(n){return Ne(n)&&ie.call(n,"callee")&&!Up.call(n,"callee")},Ft=it.isArray,uC=mp?yr(mp):yT;function ur(n){return n!=null&&au(n.length)&&!pn(n)}function Fe(n){return Ne(n)&&ur(n)}function fC(n){return n===!0||n===!1||Ne(n)&&er(n)==Et}var Fn=SA||tl,cC=wp?yr(wp):mT;function lC(n){return Ne(n)&&n.nodeType===1&&!oo(n)}function hC(n){if(n==null)return!0;if(ur(n)&&(Ft(n)||typeof n=="string"||typeof n.splice=="function"||Fn(n)||ji(n)||ui(n)))return!n.length;var a=Xe(n);if(a==j||a==tt)return!n.size;if(io(n))return!wc(n).length;for(var s in n)if(ie.call(n,s))return!1;return!0}function dC(n,a){return eo(n,a)}function pC(n,a,s){s=typeof s=="function"?s:e;var h=s?s(n,a):e;return h===e?eo(n,a,e,s):!!h}function Hc(n){if(!Ne(n))return!1;var a=er(n);return a==x||a==Ut||typeof n.message=="string"&&typeof n.name=="string"&&!oo(n)}function gC(n){return typeof n=="number"&&kp(n)}function pn(n){if(!xe(n))return!1;var a=er(n);return a==B||a==P||a==Mt||a==W}function i0(n){return typeof n=="number"&&n==kt(n)}function au(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=R}function xe(n){var a=typeof n;return n!=null&&(a=="object"||a=="function")}function Ne(n){return n!=null&&typeof n=="object"}var a0=vp?yr(vp):vT;function yC(n,a){return n===a||mc(n,a,Pc(a))}function mC(n,a,s){return s=typeof s=="function"?s:e,mc(n,a,Pc(a),s)}function wC(n){return o0(n)&&n!=+n}function vC(n){if(rI(n))throw new Nt(i);return Yp(n)}function _C(n){return n===null}function bC(n){return n==null}function o0(n){return typeof n=="number"||Ne(n)&&er(n)==G}function oo(n){if(!Ne(n)||er(n)!=X)return!1;var a=Rs(n);if(a===null)return!0;var s=ie.call(a,"constructor")&&a.constructor;return typeof s=="function"&&s instanceof s&&Cs.call(s)==mA}var jc=_p?yr(_p):_T;function xC(n){return i0(n)&&n>=-R&&n<=R}var s0=bp?yr(bp):bT;function ou(n){return typeof n=="string"||!Ft(n)&&Ne(n)&&er(n)==ot}function wr(n){return typeof n=="symbol"||Ne(n)&&er(n)==mt}var ji=xp?yr(xp):xT;function SC(n){return n===e}function EC(n){return Ne(n)&&Xe(n)==xt}function AC(n){return Ne(n)&&er(n)==Rt}var TC=Qs(vc),IC=Qs(function(n,a){return n<=a});function u0(n){if(!n)return[];if(ur(n))return ou(n)?Dr(n):sr(n);if(Ka&&n[Ka])return aA(n[Ka]());var a=Xe(n),s=a==j?oc:a==tt?As:zi;return s(n)}function gn(n){if(!n)return n===0?n:0;if(n=Lr(n),n===E||n===-E){var a=n<0?-1:1;return a*D}return n===n?n:0}function kt(n){var a=gn(n),s=a%1;return a===a?s?a-s:a:0}function f0(n){return n?ii(kt(n),0,d):0}function Lr(n){if(typeof n=="number")return n;if(wr(n))return T;if(xe(n)){var a=typeof n.valueOf=="function"?n.valueOf():n;n=xe(a)?a+"":a}if(typeof n!="string")return n===0?n:+n;n=Cp(n);var s=La.test(n);return s||Na.test(n)?WE(n.slice(2),s?2:8):Ra.test(n)?T:+n}function c0(n){return Qr(n,fr(n))}function CC(n){return n?ii(kt(n),-R,R):n===0?n:0}function ee(n){return n==null?"":mr(n)}var OC=Wi(function(n,a){if(io(a)||ur(a)){Qr(a,je(a),n);return}for(var s in a)ie.call(a,s)&&Za(n,s,a[s])}),l0=Wi(function(n,a){Qr(a,fr(a),n)}),su=Wi(function(n,a,s,h){Qr(a,fr(a),n,h)}),BC=Wi(function(n,a,s,h){Qr(a,je(a),n,h)}),MC=hn(hc);function RC(n,a){var s=$i(n);return a==null?s:Gp(s,a)}var LC=Gt(function(n,a){n=fe(n);var s=-1,h=a.length,g=h>2?a[2]:e;for(g&&rr(a[0],a[1],g)&&(h=1);++s<h;)for(var b=a[s],L=fr(b),F=-1,V=L.length;++F<V;){var lt=L[F],ht=n[lt];(ht===e||$r(ht,ki[lt])&&!ie.call(n,lt))&&(n[lt]=b[lt])}return n}),PC=Gt(function(n){return n.push(e,Cg),gr(h0,e,n)});function NC(n,a){return Ep(n,It(a,3),Jr)}function UC(n,a){return Ep(n,It(a,3),pc)}function FC(n,a){return n==null?n:dc(n,It(a,3),fr)}function kC(n,a){return n==null?n:Vp(n,It(a,3),fr)}function DC(n,a){return n&&Jr(n,It(a,3))}function qC(n,a){return n&&pc(n,It(a,3))}function $C(n){return n==null?[]:Ws(n,je(n))}function WC(n){return n==null?[]:Ws(n,fr(n))}function zc(n,a,s){var h=n==null?e:ai(n,a);return h===e?s:h}function GC(n,a){return n!=null&&Mg(n,a,hT)}function Kc(n,a){return n!=null&&Mg(n,a,dT)}var HC=Sg(function(n,a,s){a!=null&&typeof a.toString!="function"&&(a=Os.call(a)),n[a]=s},Jc(cr)),jC=Sg(function(n,a,s){a!=null&&typeof a.toString!="function"&&(a=Os.call(a)),ie.call(n,a)?n[a].push(s):n[a]=[s]},It),zC=Gt(to);function je(n){return ur(n)?$p(n):wc(n)}function fr(n){return ur(n)?$p(n,!0):ST(n)}function KC(n,a){var s={};return a=It(a,3),Jr(n,function(h,g,b){cn(s,a(h,g,b),h)}),s}function VC(n,a){var s={};return a=It(a,3),Jr(n,function(h,g,b){cn(s,g,a(h,g,b))}),s}var JC=Wi(function(n,a,s){Gs(n,a,s)}),h0=Wi(function(n,a,s,h){Gs(n,a,s,h)}),QC=hn(function(n,a){var s={};if(n==null)return s;var h=!1;a=me(a,function(b){return b=Nn(b,n),h||(h=b.length>1),b}),Qr(n,Rc(n),s),h&&(s=Br(s,M|C|O,HT));for(var g=a.length;g--;)Ec(s,a[g]);return s});function YC(n,a){return d0(n,iu(It(a)))}var ZC=hn(function(n,a){return n==null?{}:AT(n,a)});function d0(n,a){if(n==null)return{};var s=me(Rc(n),function(h){return[h]});return a=It(a),ig(n,s,function(h,g){return a(h,g[0])})}function XC(n,a,s){a=Nn(a,n);var h=-1,g=a.length;for(g||(g=1,n=e);++h<g;){var b=n==null?e:n[Yr(a[h])];b===e&&(h=g,b=s),n=pn(b)?b.call(n):b}return n}function tO(n,a,s){return n==null?n:ro(n,a,s)}function eO(n,a,s,h){return h=typeof h=="function"?h:e,n==null?n:ro(n,a,s,h)}var p0=Tg(je),g0=Tg(fr);function rO(n,a,s){var h=Ft(n),g=h||Fn(n)||ji(n);if(a=It(a,4),s==null){var b=n&&n.constructor;g?s=h?new b:[]:xe(n)?s=pn(b)?$i(Rs(n)):{}:s={}}return(g?Ir:Jr)(n,function(L,F,V){return a(s,L,F,V)}),s}function nO(n,a){return n==null?!0:Ec(n,a)}function iO(n,a,s){return n==null?n:fg(n,a,Ic(s))}function aO(n,a,s,h){return h=typeof h=="function"?h:e,n==null?n:fg(n,a,Ic(s),h)}function zi(n){return n==null?[]:ac(n,je(n))}function oO(n){return n==null?[]:ac(n,fr(n))}function sO(n,a,s){return s===e&&(s=a,a=e),s!==e&&(s=Lr(s),s=s===s?s:0),a!==e&&(a=Lr(a),a=a===a?a:0),ii(Lr(n),a,s)}function uO(n,a,s){return a=gn(a),s===e?(s=a,a=0):s=gn(s),n=Lr(n),pT(n,a,s)}function fO(n,a,s){if(s&&typeof s!="boolean"&&rr(n,a,s)&&(a=s=e),s===e&&(typeof a=="boolean"?(s=a,a=e):typeof n=="boolean"&&(s=n,n=e)),n===e&&a===e?(n=0,a=1):(n=gn(n),a===e?(a=n,n=0):a=gn(a)),n>a){var h=n;n=a,a=h}if(s||n%1||a%1){var g=Dp();return Ze(n+g*(a-n+$E("1e-"+((g+"").length-1))),a)}return bc(n,a)}var cO=Gi(function(n,a,s){return a=a.toLowerCase(),n+(s?y0(a):a)});function y0(n){return Vc(ee(n).toLowerCase())}function m0(n){return n=ee(n),n&&n.replace(Fa,tA).replace(ME,"")}function lO(n,a,s){n=ee(n),a=mr(a);var h=n.length;s=s===e?h:ii(kt(s),0,h);var g=s;return s-=a.length,s>=0&&n.slice(s,g)==a}function hO(n){return n=ee(n),n&&Ae.test(n)?n.replace(Ma,eA):n}function dO(n){return n=ee(n),n&&Oe.test(n)?n.replace(Bi,"\\$&"):n}var pO=Gi(function(n,a,s){return n+(s?"-":"")+a.toLowerCase()}),gO=Gi(function(n,a,s){return n+(s?" ":"")+a.toLowerCase()}),yO=_g("toLowerCase");function mO(n,a,s){n=ee(n),a=kt(a);var h=a?Fi(n):0;if(!a||h>=a)return n;var g=(a-h)/2;return Js(Us(g),s)+n+Js(Ns(g),s)}function wO(n,a,s){n=ee(n),a=kt(a);var h=a?Fi(n):0;return a&&h<a?n+Js(a-h,s):n}function vO(n,a,s){n=ee(n),a=kt(a);var h=a?Fi(n):0;return a&&h<a?Js(a-h,s)+n:n}function _O(n,a,s){return s||a==null?a=0:a&&(a=+a),IA(ee(n).replace(ye,""),a||0)}function bO(n,a,s){return(s?rr(n,a,s):a===e)?a=1:a=kt(a),xc(ee(n),a)}function xO(){var n=arguments,a=ee(n[0]);return n.length<3?a:a.replace(n[1],n[2])}var SO=Gi(function(n,a,s){return n+(s?"_":"")+a.toLowerCase()});function EO(n,a,s){return s&&typeof s!="number"&&rr(n,a,s)&&(a=s=e),s=s===e?d:s>>>0,s?(n=ee(n),n&&(typeof a=="string"||a!=null&&!jc(a))&&(a=mr(a),!a&&Ui(n))?Un(Dr(n),0,s):n.split(a,s)):[]}var AO=Gi(function(n,a,s){return n+(s?" ":"")+Vc(a)});function TO(n,a,s){return n=ee(n),s=s==null?0:ii(kt(s),0,n.length),a=mr(a),n.slice(s,s+a.length)==a}function IO(n,a,s){var h=_.templateSettings;s&&rr(n,a,s)&&(a=e),n=ee(n),a=su({},a,h,Ig);var g=su({},a.imports,h.imports,Ig),b=je(g),L=ac(g,b),F,V,lt=0,ht=a.interpolate||Tn,pt="__p += '",wt=sc((a.escape||Tn).source+"|"+ht.source+"|"+(ht===_e?Pe:Tn).source+"|"+(a.evaluate||Tn).source+"|$","g"),bt="//# sourceURL="+(ie.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++UE+"]")+`
`;n.replace(wt,function(Bt,jt,Qt,vr,nr,_r){return Qt||(Qt=vr),pt+=n.slice(lt,_r).replace(ka,rA),jt&&(F=!0,pt+=`' +
__e(`+jt+`) +
'`),nr&&(V=!0,pt+=`';
`+nr+`;
__p += '`),Qt&&(pt+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),lt=_r+Bt.length,Bt}),pt+=`';
`;var Ot=ie.call(a,"variable")&&a.variable;if(!Ot)pt=`with (obj) {
`+pt+`
}
`;else if(Le.test(Ot))throw new Nt(u);pt=(V?pt.replace(Lt,""):pt).replace(ys,"$1").replace(Se,"$1;"),pt="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pt+`return __p
}`;var $t=v0(function(){return Zt(b,bt+"return "+pt).apply(e,L)});if($t.source=pt,Hc($t))throw $t;return $t}function CO(n){return ee(n).toLowerCase()}function OO(n){return ee(n).toUpperCase()}function BO(n,a,s){if(n=ee(n),n&&(s||a===e))return Cp(n);if(!n||!(a=mr(a)))return n;var h=Dr(n),g=Dr(a),b=Op(h,g),L=Bp(h,g)+1;return Un(h,b,L).join("")}function MO(n,a,s){if(n=ee(n),n&&(s||a===e))return n.slice(0,Rp(n)+1);if(!n||!(a=mr(a)))return n;var h=Dr(n),g=Bp(h,Dr(a))+1;return Un(h,0,g).join("")}function RO(n,a,s){if(n=ee(n),n&&(s||a===e))return n.replace(ye,"");if(!n||!(a=mr(a)))return n;var h=Dr(n),g=Op(h,Dr(a));return Un(h,g).join("")}function LO(n,a){var s=gt,h=K;if(xe(a)){var g="separator"in a?a.separator:g;s="length"in a?kt(a.length):s,h="omission"in a?mr(a.omission):h}n=ee(n);var b=n.length;if(Ui(n)){var L=Dr(n);b=L.length}if(s>=b)return n;var F=s-Fi(h);if(F<1)return h;var V=L?Un(L,0,F).join(""):n.slice(0,F);if(g===e)return V+h;if(L&&(F+=V.length-F),jc(g)){if(n.slice(F).search(g)){var lt,ht=V;for(g.global||(g=sc(g.source,ee(be.exec(g))+"g")),g.lastIndex=0;lt=g.exec(ht);)var pt=lt.index;V=V.slice(0,pt===e?F:pt)}}else if(n.indexOf(mr(g),F)!=F){var wt=V.lastIndexOf(g);wt>-1&&(V=V.slice(0,wt))}return V+h}function PO(n){return n=ee(n),n&&Ee.test(n)?n.replace(ve,fA):n}var NO=Gi(function(n,a,s){return n+(s?" ":"")+a.toUpperCase()}),Vc=_g("toUpperCase");function w0(n,a,s){return n=ee(n),a=s?e:a,a===e?iA(n)?hA(n):JE(n):n.match(a)||[]}var v0=Gt(function(n,a){try{return gr(n,e,a)}catch(s){return Hc(s)?s:new Nt(s)}}),UO=hn(function(n,a){return Ir(a,function(s){s=Yr(s),cn(n,s,Wc(n[s],n))}),n});function FO(n){var a=n==null?0:n.length,s=It();return n=a?me(n,function(h){if(typeof h[1]!="function")throw new Cr(o);return[s(h[0]),h[1]]}):[],Gt(function(h){for(var g=-1;++g<a;){var b=n[g];if(gr(b[0],this,h))return gr(b[1],this,h)}})}function kO(n){return fT(Br(n,M))}function Jc(n){return function(){return n}}function DO(n,a){return n==null||n!==n?a:n}var qO=xg(),$O=xg(!0);function cr(n){return n}function Qc(n){return Zp(typeof n=="function"?n:Br(n,M))}function WO(n){return tg(Br(n,M))}function GO(n,a){return eg(n,Br(a,M))}var HO=Gt(function(n,a){return function(s){return to(s,n,a)}}),jO=Gt(function(n,a){return function(s){return to(n,s,a)}});function Yc(n,a,s){var h=je(a),g=Ws(a,h);s==null&&!(xe(a)&&(g.length||!h.length))&&(s=a,a=n,n=this,g=Ws(a,je(a)));var b=!(xe(s)&&"chain"in s)||!!s.chain,L=pn(n);return Ir(g,function(F){var V=a[F];n[F]=V,L&&(n.prototype[F]=function(){var lt=this.__chain__;if(b||lt){var ht=n(this.__wrapped__),pt=ht.__actions__=sr(this.__actions__);return pt.push({func:V,args:arguments,thisArg:n}),ht.__chain__=lt,ht}return V.apply(n,On([this.value()],arguments))})}),n}function zO(){return He._===this&&(He._=wA),this}function Zc(){}function KO(n){return n=kt(n),Gt(function(a){return rg(a,n)})}var VO=Oc(me),JO=Oc(Sp),QO=Oc(tc);function _0(n){return Uc(n)?ec(Yr(n)):TT(n)}function YO(n){return function(a){return n==null?e:ai(n,a)}}var ZO=Eg(),XO=Eg(!0);function Xc(){return[]}function tl(){return!1}function tB(){return{}}function eB(){return""}function rB(){return!0}function nB(n,a){if(n=kt(n),n<1||n>R)return[];var s=d,h=Ze(n,d);a=It(a),n-=d;for(var g=ic(h,a);++s<n;)a(s);return g}function iB(n){return Ft(n)?me(n,Yr):wr(n)?[n]:sr(qg(ee(n)))}function aB(n){var a=++yA;return ee(n)+a}var oB=Vs(function(n,a){return n+a},0),sB=Bc("ceil"),uB=Vs(function(n,a){return n/a},1),fB=Bc("floor");function cB(n){return n&&n.length?$s(n,cr,gc):e}function lB(n,a){return n&&n.length?$s(n,It(a,2),gc):e}function hB(n){return Tp(n,cr)}function dB(n,a){return Tp(n,It(a,2))}function pB(n){return n&&n.length?$s(n,cr,vc):e}function gB(n,a){return n&&n.length?$s(n,It(a,2),vc):e}var yB=Vs(function(n,a){return n*a},1),mB=Bc("round"),wB=Vs(function(n,a){return n-a},0);function vB(n){return n&&n.length?nc(n,cr):0}function _B(n,a){return n&&n.length?nc(n,It(a,2)):0}return _.after=W2,_.ary=Yg,_.assign=OC,_.assignIn=l0,_.assignInWith=su,_.assignWith=BC,_.at=MC,_.before=Zg,_.bind=Wc,_.bindAll=UO,_.bindKey=Xg,_.castArray=tC,_.chain=Vg,_.chunk=fI,_.compact=cI,_.concat=lI,_.cond=FO,_.conforms=kO,_.constant=Jc,_.countBy=v2,_.create=RC,_.curry=t0,_.curryRight=e0,_.debounce=r0,_.defaults=LC,_.defaultsDeep=PC,_.defer=G2,_.delay=H2,_.difference=hI,_.differenceBy=dI,_.differenceWith=pI,_.drop=gI,_.dropRight=yI,_.dropRightWhile=mI,_.dropWhile=wI,_.fill=vI,_.filter=b2,_.flatMap=E2,_.flatMapDeep=A2,_.flatMapDepth=T2,_.flatten=Hg,_.flattenDeep=_I,_.flattenDepth=bI,_.flip=j2,_.flow=qO,_.flowRight=$O,_.fromPairs=xI,_.functions=$C,_.functionsIn=WC,_.groupBy=I2,_.initial=EI,_.intersection=AI,_.intersectionBy=TI,_.intersectionWith=II,_.invert=HC,_.invertBy=jC,_.invokeMap=O2,_.iteratee=Qc,_.keyBy=B2,_.keys=je,_.keysIn=fr,_.map=eu,_.mapKeys=KC,_.mapValues=VC,_.matches=WO,_.matchesProperty=GO,_.memoize=nu,_.merge=JC,_.mergeWith=h0,_.method=HO,_.methodOf=jO,_.mixin=Yc,_.negate=iu,_.nthArg=KO,_.omit=QC,_.omitBy=YC,_.once=z2,_.orderBy=M2,_.over=VO,_.overArgs=K2,_.overEvery=JO,_.overSome=QO,_.partial=Gc,_.partialRight=n0,_.partition=R2,_.pick=ZC,_.pickBy=d0,_.property=_0,_.propertyOf=YO,_.pull=MI,_.pullAll=zg,_.pullAllBy=RI,_.pullAllWith=LI,_.pullAt=PI,_.range=ZO,_.rangeRight=XO,_.rearg=V2,_.reject=N2,_.remove=NI,_.rest=J2,_.reverse=qc,_.sampleSize=F2,_.set=tO,_.setWith=eO,_.shuffle=k2,_.slice=UI,_.sortBy=$2,_.sortedUniq=GI,_.sortedUniqBy=HI,_.split=EO,_.spread=Q2,_.tail=jI,_.take=zI,_.takeRight=KI,_.takeRightWhile=VI,_.takeWhile=JI,_.tap=c2,_.throttle=Y2,_.thru=tu,_.toArray=u0,_.toPairs=p0,_.toPairsIn=g0,_.toPath=iB,_.toPlainObject=c0,_.transform=rO,_.unary=Z2,_.union=QI,_.unionBy=YI,_.unionWith=ZI,_.uniq=XI,_.uniqBy=t2,_.uniqWith=e2,_.unset=nO,_.unzip=$c,_.unzipWith=Kg,_.update=iO,_.updateWith=aO,_.values=zi,_.valuesIn=oO,_.without=r2,_.words=w0,_.wrap=X2,_.xor=n2,_.xorBy=i2,_.xorWith=a2,_.zip=o2,_.zipObject=s2,_.zipObjectDeep=u2,_.zipWith=f2,_.entries=p0,_.entriesIn=g0,_.extend=l0,_.extendWith=su,Yc(_,_),_.add=oB,_.attempt=v0,_.camelCase=cO,_.capitalize=y0,_.ceil=sB,_.clamp=sO,_.clone=eC,_.cloneDeep=nC,_.cloneDeepWith=iC,_.cloneWith=rC,_.conformsTo=aC,_.deburr=m0,_.defaultTo=DO,_.divide=uB,_.endsWith=lO,_.eq=$r,_.escape=hO,_.escapeRegExp=dO,_.every=_2,_.find=x2,_.findIndex=Wg,_.findKey=NC,_.findLast=S2,_.findLastIndex=Gg,_.findLastKey=UC,_.floor=fB,_.forEach=Jg,_.forEachRight=Qg,_.forIn=FC,_.forInRight=kC,_.forOwn=DC,_.forOwnRight=qC,_.get=zc,_.gt=oC,_.gte=sC,_.has=GC,_.hasIn=Kc,_.head=jg,_.identity=cr,_.includes=C2,_.indexOf=SI,_.inRange=uO,_.invoke=zC,_.isArguments=ui,_.isArray=Ft,_.isArrayBuffer=uC,_.isArrayLike=ur,_.isArrayLikeObject=Fe,_.isBoolean=fC,_.isBuffer=Fn,_.isDate=cC,_.isElement=lC,_.isEmpty=hC,_.isEqual=dC,_.isEqualWith=pC,_.isError=Hc,_.isFinite=gC,_.isFunction=pn,_.isInteger=i0,_.isLength=au,_.isMap=a0,_.isMatch=yC,_.isMatchWith=mC,_.isNaN=wC,_.isNative=vC,_.isNil=bC,_.isNull=_C,_.isNumber=o0,_.isObject=xe,_.isObjectLike=Ne,_.isPlainObject=oo,_.isRegExp=jc,_.isSafeInteger=xC,_.isSet=s0,_.isString=ou,_.isSymbol=wr,_.isTypedArray=ji,_.isUndefined=SC,_.isWeakMap=EC,_.isWeakSet=AC,_.join=CI,_.kebabCase=pO,_.last=Rr,_.lastIndexOf=OI,_.lowerCase=gO,_.lowerFirst=yO,_.lt=TC,_.lte=IC,_.max=cB,_.maxBy=lB,_.mean=hB,_.meanBy=dB,_.min=pB,_.minBy=gB,_.stubArray=Xc,_.stubFalse=tl,_.stubObject=tB,_.stubString=eB,_.stubTrue=rB,_.multiply=yB,_.nth=BI,_.noConflict=zO,_.noop=Zc,_.now=ru,_.pad=mO,_.padEnd=wO,_.padStart=vO,_.parseInt=_O,_.random=fO,_.reduce=L2,_.reduceRight=P2,_.repeat=bO,_.replace=xO,_.result=XC,_.round=mB,_.runInContext=H,_.sample=U2,_.size=D2,_.snakeCase=SO,_.some=q2,_.sortedIndex=FI,_.sortedIndexBy=kI,_.sortedIndexOf=DI,_.sortedLastIndex=qI,_.sortedLastIndexBy=$I,_.sortedLastIndexOf=WI,_.startCase=AO,_.startsWith=TO,_.subtract=wB,_.sum=vB,_.sumBy=_B,_.template=IO,_.times=nB,_.toFinite=gn,_.toInteger=kt,_.toLength=f0,_.toLower=CO,_.toNumber=Lr,_.toSafeInteger=CC,_.toString=ee,_.toUpper=OO,_.trim=BO,_.trimEnd=MO,_.trimStart=RO,_.truncate=LO,_.unescape=PO,_.uniqueId=aB,_.upperCase=NO,_.upperFirst=Vc,_.each=Jg,_.eachRight=Qg,_.first=jg,Yc(_,function(){var n={};return Jr(_,function(a,s){ie.call(_.prototype,s)||(n[s]=a)}),n}(),{chain:!1}),_.VERSION=t,Ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){_[n].placeholder=_}),Ir(["drop","take"],function(n,a){Vt.prototype[n]=function(s){s=s===e?1:$e(kt(s),0);var h=this.__filtered__&&!a?new Vt(this):this.clone();return h.__filtered__?h.__takeCount__=Ze(s,h.__takeCount__):h.__views__.push({size:Ze(s,d),type:n+(h.__dir__<0?"Right":"")}),h},Vt.prototype[n+"Right"]=function(s){return this.reverse()[n](s).reverse()}}),Ir(["filter","map","takeWhile"],function(n,a){var s=a+1,h=s==l||s==v;Vt.prototype[n]=function(g){var b=this.clone();return b.__iteratees__.push({iteratee:It(g,3),type:s}),b.__filtered__=b.__filtered__||h,b}}),Ir(["head","last"],function(n,a){var s="take"+(a?"Right":"");Vt.prototype[n]=function(){return this[s](1).value()[0]}}),Ir(["initial","tail"],function(n,a){var s="drop"+(a?"":"Right");Vt.prototype[n]=function(){return this.__filtered__?new Vt(this):this[s](1)}}),Vt.prototype.compact=function(){return this.filter(cr)},Vt.prototype.find=function(n){return this.filter(n).head()},Vt.prototype.findLast=function(n){return this.reverse().find(n)},Vt.prototype.invokeMap=Gt(function(n,a){return typeof n=="function"?new Vt(this):this.map(function(s){return to(s,n,a)})}),Vt.prototype.reject=function(n){return this.filter(iu(It(n)))},Vt.prototype.slice=function(n,a){n=kt(n);var s=this;return s.__filtered__&&(n>0||a<0)?new Vt(s):(n<0?s=s.takeRight(-n):n&&(s=s.drop(n)),a!==e&&(a=kt(a),s=a<0?s.dropRight(-a):s.take(a-n)),s)},Vt.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Vt.prototype.toArray=function(){return this.take(d)},Jr(Vt.prototype,function(n,a){var s=/^(?:filter|find|map|reject)|While$/.test(a),h=/^(?:head|last)$/.test(a),g=_[h?"take"+(a=="last"?"Right":""):a],b=h||/^find/.test(a);!g||(_.prototype[a]=function(){var L=this.__wrapped__,F=h?[1]:arguments,V=L instanceof Vt,lt=F[0],ht=V||Ft(L),pt=function(jt){var Qt=g.apply(_,On([jt],F));return h&&wt?Qt[0]:Qt};ht&&s&&typeof lt=="function"&&lt.length!=1&&(V=ht=!1);var wt=this.__chain__,bt=!!this.__actions__.length,Ot=b&&!wt,$t=V&&!bt;if(!b&&ht){L=$t?L:new Vt(this);var Bt=n.apply(L,F);return Bt.__actions__.push({func:tu,args:[pt],thisArg:e}),new Or(Bt,wt)}return Ot&&$t?n.apply(this,F):(Bt=this.thru(pt),Ot?h?Bt.value()[0]:Bt.value():Bt)})}),Ir(["pop","push","shift","sort","splice","unshift"],function(n){var a=Ts[n],s=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",h=/^(?:pop|shift)$/.test(n);_.prototype[n]=function(){var g=arguments;if(h&&!this.__chain__){var b=this.value();return a.apply(Ft(b)?b:[],g)}return this[s](function(L){return a.apply(Ft(L)?L:[],g)})}}),Jr(Vt.prototype,function(n,a){var s=_[a];if(s){var h=s.name+"";ie.call(qi,h)||(qi[h]=[]),qi[h].push({name:a,func:s})}}),qi[Ks(e,k).name]=[{name:"wrapper",func:e}],Vt.prototype.clone=PA,Vt.prototype.reverse=NA,Vt.prototype.value=UA,_.prototype.at=l2,_.prototype.chain=h2,_.prototype.commit=d2,_.prototype.next=p2,_.prototype.plant=y2,_.prototype.reverse=m2,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=w2,_.prototype.first=_.prototype.head,Ka&&(_.prototype[Ka]=g2),_},Mn=dA();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(He._=Mn,define(function(){return Mn})):ti?((ti.exports=Mn)._=Mn,Qf._=Mn):He._=Mn}).call(Ia)});var uE=U(()=>{});var fE=U(()=>{});var Jq={};CB(Jq,{ArweaveGatewayInteractionsLoader:()=>en,ArweaveWrapper:()=>kn,Benchmark:()=>ae,BlockHeightCacheResult:()=>If,BlockHeightInteractionsSorter:()=>C0,BlockHeightKey:()=>Aa,CacheableContractInteractionsLoader:()=>Oa,CacheableExecutorFactory:()=>Xn,CacheableStateEvaluator:()=>Qn,ConsoleLogger:()=>fu,ConsoleLoggerFactory:()=>cu,ContractCallStack:()=>Ca,ContractDefinitionLoader:()=>Zr,ContractMetadata:()=>pE,DebuggableExecutorFactory:()=>kf,DefaultCreateContract:()=>Ff,DefaultEvaluationOptions:()=>lu,DefaultStateEvaluator:()=>Su,EvalStateResult:()=>Gr,Evolve:()=>kr,FileBlockHeightSwCache:()=>Tf,HandlerBasedContract:()=>Ba,HandlerExecutorFactory:()=>Yn,InnerWritesEvaluator:()=>Wf,InteractionCall:()=>gs,InteractionInput:()=>Yd,InteractionOutput:()=>gE,KnexStateCache:()=>Ea,LexicographicalInteractionsSorter:()=>Zn,LogLevelOrder:()=>I0,LoggerFactory:()=>At,MemBlockHeightSwCache:()=>an,MemCache:()=>tr,PstContractImpl:()=>Gf,RedstoneGatewayContractDefinitionLoader:()=>vu,RedstoneGatewayInteractionsLoader:()=>bu,RemoteBlockHeightCache:()=>us,SmartWeave:()=>sn,SmartWeaveBuilder:()=>Hf,SmartWeaveError:()=>Df,SmartWeaveErrorType:()=>Zd,SmartWeaveGlobal:()=>Bf,SmartWeaveNodeFactory:()=>mE,SmartWeaveTags:()=>li,SmartWeaveWebFactory:()=>qf,SourceType:()=>_u,TagsParser:()=>ea,arrayToHex:()=>Nd,asc:()=>Uu,ascS:()=>oU,bundledTxsFilter:()=>_l,canBeCached:()=>xu,createDummyTx:()=>Xd,createTx:()=>$f,deepCopy:()=>Nr,desc:()=>Kl,descS:()=>sU,emptyTransfer:()=>Ki,getTag:()=>br,lvlToOrder:()=>uu,mapReplacer:()=>zl,mapReviver:()=>aU,normalizeContractSource:()=>Pd,sleep:()=>mo,stripTrailingSlash:()=>yo,timeout:()=>Vl,unpackTags:()=>_E});var fu=class{constructor(t,r){this.moduleName=t;this.settings=r}trace(t,...r){this.shouldLog("trace")&&console.debug(this.message("trace",t),r)}error(t,...r){this.shouldLog("error")&&console.error(this.message("error",t),r)}info(t,...r){this.shouldLog("info")&&console.info(this.message("info",t),r)}silly(t,...r){this.shouldLog("silly")&&console.debug(this.message("silly",t),r)}debug(t,...r){this.shouldLog("debug")&&console.debug(this.message("debug",t),r)}warn(t,...r){this.shouldLog("warn")&&console.warn(this.message("warn",t),r)}log(t,...r){this.shouldLog("info")&&console.info(this.message("info",t),r)}fatal(t,...r){this.shouldLog("fatal")&&console.error(this.message("fatal",t),r)}shouldLog(t){return uu(t)>=uu(this.settings.minLevel)}setSettings(t){this.settings=t}message(t,r){return`${new Date().toISOString()} ${t.toUpperCase()} [${this.moduleName}] ${r}`}};var cu=class{constructor(){this.registeredLoggers={};this.registeredOptions={};this.defOptions={minLevel:"info"};this.setOptions=this.setOptions.bind(this),this.getOptions=this.getOptions.bind(this),this.create=this.create.bind(this),this.logLevel=this.logLevel.bind(this)}setOptions(t,r){r?this.registeredLoggers[r]?this.registeredLoggers[r].setSettings(re(re({},this.registeredLoggers[r].settings),t)):this.registeredOptions[r]=re(re({},this.defOptions),t):(this.defOptions=t,Object.keys(this.registeredLoggers).forEach(i=>{this.registeredLoggers[i].setSettings(re(re({},this.registeredLoggers[i].settings),t))}))}getOptions(t){return t?this.registeredLoggers[t]?this.registeredLoggers[t].settings:this.registeredOptions[t]?this.registeredOptions[t]:this.defOptions:this.defOptions}logLevel(t,r){this.setOptions({minLevel:t},r)}create(t="SWC"){return Object.prototype.hasOwnProperty.call(this.registeredLoggers,t)||(this.registeredLoggers[t]=new fu(t,this.getOptions(t))),this.registeredLoggers[t]}};var fi=class{constructor(){}setOptions(t,r){fi.INST.setOptions(t,r)}getOptions(t){return fi.INST.getOptions(t)}logLevel(t,r){fi.INST.logLevel(t,r)}create(t){return fi.INST.create(t)}static use(t){fi.INST=t}},At=fi;At.INST=new cu;var I0={silly:0,trace:1,debug:2,info:3,warn:4,error:5,fatal:6};function uu(e){return I0[e]}var ae=class{constructor(){this.start=Date.now();this.end=null}static measure(){return new ae}reset(){this.start=Date.now(),this.end=null}stop(){this.end=Date.now()}elapsed(t=!1){this.end===null&&(this.end=Date.now());let r=this.end-this.start;return t?r:`${(this.end-this.start).toFixed(0)}ms`}};var Gr=class{constructor(t,r,i,o){this.state=t;this.validity=r;this.transactionId=i;this.blockId=o}},lu=class{constructor(){this.ignoreExceptions=!0;this.waitForConfirmation=!1;this.updateCacheForEachInteraction=!1;this.internalWrites=!1;this.maxCallDepth=7;this.maxInteractionEvaluationTimeSeconds=60;this.stackTrace={saveState:!1};this.sequencerAddress="https://gateway.redstone.finance/";this.gasLimit=Number.MAX_SAFE_INTEGER;this.useFastCopy=!0;this.manualCacheFlush=!1;this.useVM2=!1}};var Ki={target:"",winstonQty:"0"};var C0=class{async sort(t){return[...t].sort((i,o)=>i.node.block.height-o.node.block.height||i.node.id.localeCompare(o.node.id))}};function P0(e){return e.arrayBuffer?e.arrayBuffer():new Promise((t,r)=>{let i=new FileReader;i.addEventListener("loadend",()=>{t(i.result)}),i.addEventListener("error",r),i.readAsArrayBuffer(e)})}async function BB(e){let t=await P0(e);return new Uint8Array(t)}function N0(e){return typeof Blob<"u"&&e instanceof Blob}function lo(e){return typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}var MB=typeof process<"u"&&process.versions&&typeof process.versions.node<"u"&&typeof process.versions.electron>"u";function RB(e){return e.byteOffset===0&&e.byteLength===e.buffer.byteLength}var il=class{constructor(t){this.typedArray=t instanceof ArrayBuffer||lo(t)?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}async getLength(){return this.typedArray.byteLength}async read(t,r){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+t,r)}},al=class{constructor(t){this.blob=t}async getLength(){return this.blob.size}async read(t,r){let i=this.blob.slice(t,t+r),o=await P0(i);return new Uint8Array(o)}async sliceAsBlob(t,r,i=""){return this.blob.slice(t,t+r,i)}};function LB(e,t){var r=Uint8Array;if(e[0]==3&&e[1]==0)return t||new r(0);var i=NB,o=U0,u=PB,c=F0,p=t==null;p&&(t=new r(e.length>>>2<<3));for(var w=0,M=0,C=0,O=0,I=0,S=0,N=0,k=0,Q=0,J,ft;w==0;){if(w=i(e,Q,1),M=i(e,Q+1,2),Q+=3,M==0){(Q&7)!=0&&(Q+=8-(Q&7));var Z=(Q>>>3)+4,st=e[Z-4]|e[Z-3]<<8;p&&(t=el(t,k+st)),t.set(new r(e.buffer,e.byteOffset+Z,st),k),Q=Z+st<<3,k+=st;continue}if(p&&(t=el(t,k+(1<<17))),M==1&&(J=Ct.flmap,ft=Ct.fdmap,S=(1<<9)-1,N=(1<<5)-1),M==2){C=o(e,Q,5)+257,O=o(e,Q+5,5)+1,I=o(e,Q+10,4)+4,Q+=14;for(var et=0;et<38;et+=2)Ct.itree[et]=0,Ct.itree[et+1]=0;for(var nt=1,et=0;et<I;et++){var dt=o(e,Q+et*3,3);Ct.itree[(Ct.ordr[et]<<1)+1]=dt,dt>nt&&(nt=dt)}Q+=3*I,uo(Ct.itree,nt),fo(Ct.itree,nt,Ct.imap),J=Ct.lmap,ft=Ct.dmap,Q=u(Ct.imap,(1<<nt)-1,C+O,e,Q,Ct.ttree);var gt=O0(Ct.ttree,0,C,Ct.ltree);S=(1<<gt)-1;var K=O0(Ct.ttree,C,O,Ct.dtree);N=(1<<K)-1,uo(Ct.ltree,gt),fo(Ct.ltree,gt,J),uo(Ct.dtree,K),fo(Ct.dtree,K,ft)}for(;;){var A=J[c(e,Q)&S];Q+=A&15;var f=A>>>4;if(f>>>8==0)t[k++]=f;else{if(f==256)break;var l=k+f-254;if(f>264){var y=Ct.ldef[f-257];l=k+(y>>>3)+o(e,Q,y&7),Q+=y&7}var v=ft[c(e,Q)&N];Q+=v&15;var E=v>>>4,R=Ct.ddef[E],D=(R>>>4)+i(e,Q,R&15);for(Q+=R&15,p&&(t=el(t,k+(1<<17)));k<l;)t[k]=t[k++-D],t[k]=t[k++-D],t[k]=t[k++-D],t[k]=t[k++-D];k=l}}}return t.length==k?t:t.slice(0,k)}function el(e,t){var r=e.length;if(t<=r)return e;var i=new Uint8Array(Math.max(r<<1,t));return i.set(e,0),i}function PB(e,t,r,i,o,u){for(var c=U0,p=F0,w=0;w<r;){var M=e[p(i,o)&t];o+=M&15;var C=M>>>4;if(C<=15)u[w]=C,w++;else{var O=0,I=0;C==16?(I=3+c(i,o,2),o+=2,O=u[w-1]):C==17?(I=3+c(i,o,3),o+=3):C==18&&(I=11+c(i,o,7),o+=7);for(var S=w+I;w<S;)u[w]=O,w++}}return o}function O0(e,t,r,i){for(var o=0,u=0,c=i.length>>>1;u<r;){var p=e[u+t];i[u<<1]=0,i[(u<<1)+1]=p,p>o&&(o=p),u++}for(;u<c;)i[u<<1]=0,i[(u<<1)+1]=0,u++;return o}function uo(e,t){for(var r=e.length,i,o,u,c,p,w=Ct.bl_count,c=0;c<=t;c++)w[c]=0;for(c=1;c<r;c+=2)w[e[c]]++;var M=Ct.next_code;for(i=0,w[0]=0,o=1;o<=t;o++)i=i+w[o-1]<<1,M[o]=i;for(u=0;u<r;u+=2)p=e[u+1],p!=0&&(e[u]=M[p],M[p]++)}function fo(e,t,r){for(var i=e.length,o=Ct.rev15,u=0;u<i;u+=2)if(e[u+1]!=0)for(var c=u>>1,p=e[u+1],w=c<<4|p,M=t-p,C=e[u]<<M,O=C+(1<<M);C!=O;){var I=o[C]>>>15-t;r[I]=w,C++}}function B0(e,t){for(var r=Ct.rev15,i=15-t,o=0;o<e.length;o+=2){var u=e[o]<<t-e[o+1];e[o]=r[u]>>>i}}function U0(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(t&7)&(1<<r)-1}function NB(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)&(1<<r)-1}function F0(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(t&7)}var Ct=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(1<<15),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(1<<16),prev:new e(1<<15)}}();(function(){for(var e=32768,t=0;t<e;t++){var r=t;r=(r&2863311530)>>>1|(r&1431655765)<<1,r=(r&3435973836)>>>2|(r&858993459)<<2,r=(r&4042322160)>>>4|(r&252645135)<<4,r=(r&4278255360)>>>8|(r&16711935)<<8,Ct.rev15[t]=(r>>>16|r<<16)>>>17}function i(o,u,c){for(;u--!=0;)o.push(0,c)}for(var t=0;t<32;t++)Ct.ldef[t]=Ct.of0[t]<<3|Ct.exb[t],Ct.ddef[t]=Ct.df0[t]<<4|Ct.dxb[t];i(Ct.fltree,144,8),i(Ct.fltree,255-143,9),i(Ct.fltree,279-255,7),i(Ct.fltree,287-279,8),uo(Ct.fltree,9),fo(Ct.fltree,9,Ct.flmap),B0(Ct.fltree,9),i(Ct.fdtree,32,5),uo(Ct.fdtree,5),fo(Ct.fdtree,5,Ct.fdmap),B0(Ct.fdtree,5),i(Ct.itree,19,0),i(Ct.ltree,286,0),i(Ct.dtree,30,0),i(Ct.ttree,320,0)})();var M0={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,i=0;i<8;i++)r&1?r=3988292384^r>>>1:r=r>>>1;e[t]=r}return e}(),update:function(e,t,r,i){for(var o=0;o<i;o++)e=M0.table[(e^t[r+o])&255]^e>>>8;return e},crc:function(e,t,r){return M0.update(4294967295,e,t,r)^4294967295}};function UB(e,t){return LB(e,t)}var ho={numWorkers:1,workerURL:"",useWorkers:!1},FB=0,R0=0,ol=!0,kB=[],hu=[],Vi=[],sl=new Map;function DB(e){k0(e.target);let{id:t,error:r,data:i}=e.data,o=sl.get(t);sl.delete(t),r?o.reject(r):o.resolve(i)}function rl(e){return new Promise((t,r)=>{let i=new Worker(e);i.onmessage=o=>{o.data==="start"?(i.onerror=void 0,i.onmessage=void 0,t(i)):r(new Error(`unexpected message: ${o.data}`))},i.onerror=r})}function qB(e,t){return e.require(t)}var L0=function(){if(MB){let{Worker:e}=qB(module,"worker_threads");return{async createWorker(t){return new e(t)},addEventListener(t,r){t.on("message",i=>{r({target:t,data:i})})},async terminate(t){await t.terminate()}}}else return{async createWorker(e){try{return await rl(e)}catch(r){console.warn("could not load worker:",e)}let t;try{let r=await fetch(e,{mode:"cors"});if(!r.ok)throw new Error(`could not load: ${e}`);t=await r.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));let i=await rl(e);return ho.workerURL=e,i}catch(r){console.warn("could not load worker via fetch:",e)}if(t!==void 0)try{e=`data:application/javascript;base64,${btoa(t)}`;let r=await rl(e);return ho.workerURL=e,r}catch(r){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}}}();function k0(e){hu.push(e),D0()}async function $B(){if(hu.length===0&&R0<ho.numWorkers){++R0;try{let e=await L0.createWorker(ho.workerURL);kB.push(e),hu.push(e),L0.addEventListener(e,DB)}catch(e){ol=!1}}return hu.pop()}function WB(e,t,r,i){let o=new Uint8Array(t);UB(e,o),i(r?new Blob([o],{type:r}):o.buffer)}async function D0(){if(Vi.length!==0){if(ho.useWorkers&&ol){let e=await $B();if(ol){if(e){if(Vi.length===0){k0(e);return}let{id:t,src:r,uncompressedSize:i,type:o,resolve:u,reject:c}=Vi.shift();sl.set(t,{id:t,resolve:u,reject:c});let p=[];e.postMessage({type:"inflate",data:{id:t,type:o,src:r,uncompressedSize:i}},p)}return}}for(;Vi.length;){let{src:e,uncompressedSize:t,type:r,resolve:i}=Vi.shift(),o=e;N0(e)&&(o=await BB(e)),WB(o,t,r,i)}}}function q0(e,t,r){return new Promise((i,o)=>{Vi.push({src:e,uncompressedSize:t,type:r,resolve:i,reject:o,id:FB++}),D0()})}function GB(e,t){let r=e&31,i=(e>>5&15)-1,o=(e>>9&127)+1980,u=0,c=(t&31)*2,p=t>>5&63,w=t>>11&31;return new Date(o,i,r,w,p,c,u)}var $0=class{constructor(t,r){this._reader=t,this._rawEntry=r,this.name=r.name,this.nameBytes=r.nameBytes,this.size=r.uncompressedSize,this.compressedSize=r.compressedSize,this.comment=r.comment,this.commentBytes=r.commentBytes,this.compressionMethod=r.compressionMethod,this.lastModDate=GB(r.lastModFileDate,r.lastModFileTime),this.isDirectory=r.uncompressedSize===0&&r.name.endsWith("/"),this.encrypted=!!(r.generalPurposeBitFlag&1),this.externalFileAttributes=r.externalFileAttributes,this.versionMadeBy=r.versionMadeBy}async blob(t="application/octet-stream"){return await tM(this._reader,this._rawEntry,t)}async arrayBuffer(){return await XB(this._reader,this._rawEntry)}async text(){let t=await this.arrayBuffer();return co(new Uint8Array(t))}async json(){let t=await this.text();return JSON.parse(t)}},nl=22,HB=65535,jB=101010256,zB=101075792;async function Ji(e,t,r){return await e.read(t,r)}async function ul(e,t,r,i){return e.sliceAsBlob?await e.sliceAsBlob(t,r,i):await e.read(t,r)}var KB={unsigned(){return 0}};function Qe(e,t){return e[t]+e[t+1]*256}function ar(e,t){return e[t]+e[t+1]*256+e[t+2]*65536+e[t+3]*16777216}function ci(e,t){return ar(e,t)+ar(e,t+4)*4294967296}var VB=new TextDecoder;function co(e,t){return lo(e.buffer)&&(e=new Uint8Array(e)),VB.decode(e)}async function JB(e,t){let r=Math.min(nl+HB,t),i=t-r,o=await Ji(e,i,r);for(let u=r-nl;u>=0;--u){if(ar(o,u)!==jB)continue;let c=new Uint8Array(o.buffer,o.byteOffset+u,o.byteLength-u),p=Qe(c,4);if(p!==0)throw new Error(`multi-volume zip files are not supported. This is volume: ${p}`);let w=Qe(c,10),M=ar(c,12),C=ar(c,16),O=Qe(c,20),I=c.length-nl;if(O!==I)throw new Error(`invalid comment length. expected: ${I}, actual: ${O}`);let S=new Uint8Array(c.buffer,c.byteOffset+22,O),N=co(S);return w===65535||C===4294967295?await YB(e,i+u,N,S):await W0(e,C,M,w,N,S)}throw new Error("could not find end of central directory. maybe not zip file")}var QB=117853008;async function YB(e,t,r,i){let o=t-20,u=await Ji(e,o,20);if(ar(u,0)!==QB)throw new Error("invalid zip64 end of central directory locator signature");let c=ci(u,8),p=await Ji(e,c,56);if(ar(p,0)!==zB)throw new Error("invalid zip64 end of central directory record signature");let w=ci(p,32),M=ci(p,40),C=ci(p,48);return W0(e,C,M,w,r,i)}var ZB=33639248;async function W0(e,t,r,i,o,u){let c=0,p=await Ji(e,t,r),w=[];for(let C=0;C<i;++C){let O=p.subarray(c,c+46),I=ar(O,0);if(I!==ZB)throw new Error(`invalid central directory file header signature: 0x${I.toString(16)}`);let S={versionMadeBy:Qe(O,4),versionNeededToExtract:Qe(O,6),generalPurposeBitFlag:Qe(O,8),compressionMethod:Qe(O,10),lastModFileTime:Qe(O,12),lastModFileDate:Qe(O,14),crc32:ar(O,16),compressedSize:ar(O,20),uncompressedSize:ar(O,24),fileNameLength:Qe(O,28),extraFieldLength:Qe(O,30),fileCommentLength:Qe(O,32),internalFileAttributes:Qe(O,36),externalFileAttributes:ar(O,38),relativeOffsetOfLocalHeader:ar(O,42)};if(S.generalPurposeBitFlag&64)throw new Error("strong encryption is not supported");c+=46;let N=p.subarray(c,c+S.fileNameLength+S.extraFieldLength+S.fileCommentLength);S.nameBytes=N.slice(0,S.fileNameLength),S.name=co(S.nameBytes);let k=S.fileNameLength+S.extraFieldLength,Q=N.slice(S.fileNameLength,k);S.extraFields=[];let J=0;for(;J<Q.length-3;){let Z=Qe(Q,J+0),st=Qe(Q,J+2),et=J+4,nt=et+st;if(nt>Q.length)throw new Error("extra field length exceeds extra field buffer size");S.extraFields.push({id:Z,data:Q.slice(et,nt)}),J=nt}if(S.commentBytes=N.slice(k,k+S.fileCommentLength),S.comment=co(S.commentBytes),c+=N.length,S.uncompressedSize===4294967295||S.compressedSize===4294967295||S.relativeOffsetOfLocalHeader===4294967295){let Z=S.extraFields.find(nt=>nt.id===1);if(!Z)throw new Error("expected zip64 extended information extra field");let st=Z.data,et=0;if(S.uncompressedSize===4294967295){if(et+8>st.length)throw new Error("zip64 extended information extra field does not include uncompressed size");S.uncompressedSize=ci(st,et),et+=8}if(S.compressedSize===4294967295){if(et+8>st.length)throw new Error("zip64 extended information extra field does not include compressed size");S.compressedSize=ci(st,et),et+=8}if(S.relativeOffsetOfLocalHeader===4294967295){if(et+8>st.length)throw new Error("zip64 extended information extra field does not include relative header offset");S.relativeOffsetOfLocalHeader=ci(st,et),et+=8}}let ft=S.extraFields.find(Z=>Z.id===28789&&Z.data.length>=6&&Z.data[0]===1&&ar(Z.data,1),KB.unsigned(S.nameBytes));if(ft&&(S.fileName=co(ft.data.slice(5))),S.compressionMethod===0){let Z=S.uncompressedSize;if((S.generalPurposeBitFlag&1)!==0&&(Z+=12),S.compressedSize!==Z)throw new Error(`compressed size mismatch for stored file: ${S.compressedSize} != ${Z}`)}w.push(S)}return{zip:{comment:o,commentBytes:u},entries:w.map(C=>new $0(e,C))}}async function G0(e,t){if(t.generalPurposeBitFlag&1)throw new Error("encrypted entries not supported");let r=await Ji(e,t.relativeOffsetOfLocalHeader,30),i=await e.getLength(),o=ar(r,0);if(o!==67324752)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);let u=Qe(r,26),c=Qe(r,28),p=t.relativeOffsetOfLocalHeader+r.length+u+c,w;if(t.compressionMethod===0)w=!1;else if(t.compressionMethod===8)w=!0;else throw new Error(`unsupported compression method: ${t.compressionMethod}`);let M=p,C=M+t.compressedSize;if(t.compressedSize!==0&&C>i)throw new Error(`file data overflows file bounds: ${M} +  ${t.compressedSize}  > ${i}`);return{decompress:w,fileDataStart:M}}async function XB(e,t){let{decompress:r,fileDataStart:i}=await G0(e,t);if(!r){let c=await Ji(e,i,t.compressedSize);return RB(c)?c.buffer:c.slice().buffer}let o=await ul(e,i,t.compressedSize);return await q0(o,t.uncompressedSize)}async function tM(e,t,r){let{decompress:i,fileDataStart:o}=await G0(e,t);if(!i){let p=await ul(e,o,t.compressedSize,r);return N0(p)?p:new Blob([lo(p.buffer)?new Uint8Array(p):p],{type:r})}let u=await ul(e,o,t.compressedSize);return await q0(u,t.uncompressedSize,r)}async function eM(e){let t;if(typeof Blob<"u"&&e instanceof Blob)t=new al(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new il(e);else if(lo(e)||lo(e.buffer))t=new il(e);else if(typeof e=="string"){let i=await fetch(e);if(!i.ok)throw new Error(`failed http request ${e}, status: ${i.status}: ${i.statusText}`);let o=await i.blob();t=new al(o)}else if(typeof e.getLength=="function"&&typeof e.read=="function")t=e;else throw new Error("unsupported source type");let r=await t.getLength();if(r>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${r}. Only file sizes up 4503599627370496 bytes are supported`);return await JB(t,r)}async function H0(e){let{zip:t,entries:r}=await eM(e);return{zip:t,entries:Object.fromEntries(r.map(i=>[i.name,i]))}}var po=class{constructor(t){this.src=t;this.logger=At.INST.create("WasmSrc");this.splitted=this.splitBuffer(t),this.logger.debug(`Buffer splitted into ${this.splitted.length} parts`)}wasmBinary(){return this.splitted[0]}async sourceCode(){let{entries:t}=await H0(this.splitted[1]),r=new Map;for(let[i,o]of Object.entries(t)){if(o.isDirectory)continue;let u=await o.text();r.set(i,u)}return r}additionalCode(){return this.splitted.length==2?null:this.splitted[2].toString()}splitBuffer(t){let r="",i=parseInt(t.toString("utf8",0,1));this.logger.debug(`Number of elements: ${i}`);let o=t.length,u=0,c=0;for(let M=2;M<o;M++){let C=t.toString("utf8",M,M+1);if(C=="|"&&u++,u==i){c=M+1;break}r+=C}this.logger.debug("Parsed:",{header:r,dataStart:c});let p=r.split("|").map(M=>parseInt(M));this.logger.debug("Lengths",p);let w=[];for(let M of p){let C=Buffer.alloc(M),O=c+M;t.copy(C,0,c,O),c=O,w.push(C)}return w}};var rM=["application/javascript","application/wasm"],Zr=class{constructor(t,r){this.arweave=t;this.cache=r;this.logger=At.INST.create("ContractDefinitionLoader");this.arweaveWrapper=new kn(t)}async load(t,r){var u,c,p;if(!r&&((u=this.cache)==null?void 0:u.contains(t)))return this.logger.debug("ContractDefinitionLoader: Hit from cache!"),Promise.resolve((c=this.cache)==null?void 0:c.get(t));let i=ae.measure(),o=await this.doLoad(t,r);return this.logger.info(`Contract definition loaded in: ${i.elapsed()}`),(p=this.cache)==null||p.put(t,o),o}async doLoad(t,r){let i=ae.measure(),o=await this.arweaveWrapper.tx(t),u=await this.arweave.wallets.ownerToAddress(o.owner);this.logger.debug("Contract tx and owner",i.elapsed()),i.reset();let c=r||br(o,"Contract-Src"),p=br(o,"Min-Fee");this.logger.debug("Tags decoding",i.elapsed()),i.reset();let w=await this.arweaveWrapper.tx(c),M=br(w,"Content-Type");if(rM.indexOf(M)==-1)throw new Error(`Contract source content type ${M} not supported`);let C=M=="application/javascript"?"js":"wasm",O=C=="js"?await this.arweaveWrapper.txDataString(c):await this.arweaveWrapper.txData(c),I,S,N;if(C=="wasm"){if(S=new po(O),I=br(w,"Wasm-Lang"),!I)throw new Error(`Wasm lang not set for wasm contract src ${c}`);N=JSON.parse(br(w,"Wasm-Meta"))}this.logger.debug("Contract src tx load",i.elapsed()),i.reset();let k=await this.evalInitialState(o);this.logger.debug("init state",k);let Q=JSON.parse(await this.evalInitialState(o));return this.logger.debug("Parsing src and init state",i.elapsed()),{txId:t,srcTxId:c,src:C=="js"?O:null,srcBinary:C=="wasm"?S.wasmBinary():null,srcWasmLang:I,initState:Q,minFee:p,owner:u,contractType:C,metadata:N}}async evalInitialState(t){if(br(t,"Init-State"))return br(t,"Init-State");if(br(t,"Init-State-TX")){let r=br(t,"Init-State-TX");return this.arweaveWrapper.txDataString(r)}else return this.arweaveWrapper.txDataString(t.id)}};var M8=ir(wu());var vu=class extends Zr{constructor(t,r,i){super(r,i);this.baseUrl=t;this.rLogger=At.INST.create("RedstoneGatewayContractDefinitionLoader");this.baseUrl=yo(t)}async doLoad(t,r){if(r)return await super.doLoad(t,r);try{let i=await fetch(`${this.baseUrl}/gateway/contracts/${t}`).then(o=>o.ok?o.json():Promise.reject(o)).catch(o=>{var u,c;throw(u=o.body)!=null&&u.message&&this.rLogger.error(o.body.message),new Error(`Unable to retrieve contract data. Redstone gateway responded with status ${o.status}:${(c=o.body)==null?void 0:c.message}`)});if(i.srcBinary!=null&&!(i.srcBinary instanceof Buffer)&&(i.srcBinary=Buffer.from(i.srcBinary.data)),i.srcBinary){let o=new po(i.srcBinary);i.srcBinary=o.wasmBinary();let u=await this.arweaveWrapper.tx(i.srcTxId),c=JSON.parse(br(u,"Wasm-Meta"));i.metadata=c}return i.contractType=i.src?"js":"wasm",i}catch(i){return this.rLogger.warn("Falling back to default contracts loader",i),await super.doLoad(t,r)}}};var vl=100;function _l(e){var t,r;return!((t=e.node.parent)!=null&&t.id)&&!((r=e.node.bundledIn)!=null&&r.id)}var ta=class{constructor(t){this.arweave=t;this.logger=At.INST.create("ArweaveGatewayInteractionsLoader");this.arweaveWrapper=new kn(t)}async load(t,r,i,o){this.logger.debug("Loading interactions for",{contractId:t,fromBlockHeight:r,toBlockHeight:i});let u={tags:[{name:"App-Name",values:["SmartWeaveAction"]},{name:"Contract",values:[t]}],blockFilter:{min:r,max:i},first:vl},c=ae.measure(),p=await this.loadPages(u);if(c.stop(),o.internalWrites){let w={tags:[{name:"Interact-Write",values:[t]}],blockFilter:{min:r,max:i},first:vl},M=await this.loadPages(w);this.logger.debug("Inner writes interactions length:",M.length),p=p.concat(M)}return this.logger.info("All loaded interactions:",{from:r,to:i,loaded:p.length,time:c.elapsed()}),p}async loadPages(t){let r=await this.getNextPage(t),i=r.edges.filter(o=>_l(o));for(;r.pageInfo.hasNextPage;){let o=r.edges[vl-1].cursor;t=lr(re({},t),{after:o}),r=await this.getNextPage(t),i.push(...r.edges.filter(u=>_l(u)))}return i}async getNextPage(t){let r=ae.measure(),i=await this.arweaveWrapper.gql(ta.query,t);for(this.logger.debug("GQL page load:",r.elapsed());i.status===403;)this.logger.warn(`GQL rate limiting, waiting ${ta._30seconds}ms before next try.`),await mo(ta._30seconds),i=await this.arweaveWrapper.gql(ta.query,t);if(i.status!==200)throw new Error(`Unable to retrieve transactions. Arweave gateway responded with status ${i.status}.`);if(i.data.errors)throw this.logger.error(i.data.errors),new Error("Error while loading interaction transactions");return i.data.data.transactions}},en=ta;en.query=`query Transactions($tags: [TagFilter!]!, $blockFilter: BlockFilter!, $first: Int!, $after: String) {
    transactions(tags: $tags, block: $blockFilter, first: $first, sort: HEIGHT_ASC, after: $after) {
      pageInfo {
        hasNextPage
      }
      edges {
        node {
          id
          owner { address }
          recipient
          tags {
            name
            value
          }
          block {
            height
            id
            timestamp
          }
          fee { winston }
          quantity { winston }
          parent { id }
          bundledIn { id }
        }
        cursor
      }
    }
  }`,en._30seconds=30*1e3;var j8=ir(wu()),_u=(r=>(r.ARWEAVE="arweave",r.REDSTONE_SEQUENCER="redstone-sequencer",r))(_u||{}),bu=class{constructor(t,r=null,i=null){this.baseUrl=t;this.confirmationStatus=r;this.source=i;this.logger=At.INST.create("RedstoneGatewayInteractionsLoader");this.baseUrl=yo(t),Object.assign(this,r),this.source=i}async load(t,r,i){this.logger.debug("Loading interactions: for ",{contractId:t,fromBlockHeight:r,toBlockHeight:i});let o=[],u=0,c=0,p=ae.measure();do{let w=ae.measure(),M=await fetch(`${this.baseUrl}/gateway/interactions?${new URLSearchParams(re(re(re({contractId:t,from:r.toString(),to:i.toString(),page:(++u).toString()},this.confirmationStatus&&this.confirmationStatus.confirmed?{confirmationStatus:"confirmed"}:""),this.confirmationStatus&&this.confirmationStatus.notCorrupted?{confirmationStatus:"not_corrupted"}:""),this.source?{source:this.source}:""))}`).then(C=>C.ok?C.json():Promise.reject(C)).catch(C=>{var O;throw(O=C.body)!=null&&O.message&&this.logger.error(C.body.message),new Error(`Unable to retrieve transactions. Redstone gateway responded with status ${C.status}.`)});c=M.paging.pages,this.logger.debug(`Loading interactions: page ${u} of ${c} loaded in ${w.elapsed()}`),M.interactions.forEach(C=>o.push({cursor:"",node:lr(re({},C.interaction),{confirmationStatus:C.status})})),this.logger.debug(`Loaded interactions length: ${o.length}`)}while(u<c);return this.logger.debug("All loaded interactions:",{from:r,to:i,loaded:o.length,time:p.elapsed()}),o}};var Su=class{constructor(t,r=[]){this.arweave=t;this.executionContextModifiers=r;this.logger=At.INST.create("DefaultStateEvaluator");this.tagsParser=new ea}async eval(t,r){return this.doReadState(t.sortedInteractions,new Gr(t.contractDefinition.initState,{}),t,r)}async doReadState(t,r,i,o){let u=ae.measure(),{ignoreExceptions:c,stackTrace:p,internalWrites:w}=i.evaluationOptions,{contract:M,contractDefinition:C,sortedInteractions:O}=i,I=r.state,S=r.validity;i==null||i.handler.initState(I),this.logger.info(`Evaluating state for ${C.txId} [${t.length} non-cached of ${O.length} all]`);let N=null,k=null,Q=t.length;i.handler.initState(I);for(let ft=0;ft<Q;ft++){let Z=t[ft],st=ae.measure(),et=Z.node;if(this.logger.debug(`[${C.txId}][${Z.node.id}][${Z.node.block.height}]: ${t.indexOf(Z)+1}/${t.length} [of all:${O.length}]`),this.tagsParser.isInteractWrite(Z,C.txId)&&w){let dt=this.tagsParser.getContractTag(Z);this.logger.debug("Loading writing contract",dt);let gt=M.getCallStack().addInteractionData({interaction:null,interactionTx:et,currentTx:o}),K=i.smartweave.contract(dt,i.contract,et);this.logger.debug("Reading state of the calling contract",et.block.height),await K.readState(et.block.height,[...o||[],{contractTxId:C.txId,interactionTxId:Z.node.id}]);let A=await this.latestAvailableState(C.txId,et.block.height);if(this.logger.debug("New state:",{height:et.block.height,newState:A,txId:C.txId}),A!==null){I=A.cachedValue.state,S[et.id]=A.cachedValue.validity[et.id];let f=new Gr(I,S);await this.onStateUpdate(et,i,f),xu(et)&&(k={tx:et,state:f})}else S[et.id]=!1;gt.update({cacheHit:!1,intermediaryCacheHit:!1,outputState:p.saveState?I:void 0,executionTime:st.elapsed(!0),valid:S[et.id],errorMessage:N,gasUsed:0}),this.logger.debug("New state after internal write",{contractTxId:C.txId,newState:A})}else{let dt=this.tagsParser.getInputTag(Z,i.contractDefinition.txId);if(!dt){this.logger.error(`Skipping tx - Input tag not found for ${et.id}`);continue}let gt=this.parseInput(dt);if(!gt){this.logger.error(`Skipping tx - invalid Input tag - ${et.id}`);continue}let K={input:gt,caller:et.owner.address},A={interaction:K,interactionTx:et,currentTx:o};this.logger.debug("Interaction:",K);let f=M.getCallStack().addInteractionData(A),l=await i.handler.handle(i,new Gr(I,S),A);if(N=l.errorMessage,this.logResult(l,et,i),this.logger.debug("Interaction evaluation",st.elapsed()),f.update({cacheHit:!1,intermediaryCacheHit:!1,outputState:p.saveState?I:void 0,executionTime:st.elapsed(!0),valid:S[et.id],errorMessage:N,gasUsed:l.gasUsed}),l.type==="exception"&&c!==!0)throw new Error(`Exception while processing ${JSON.stringify(K)}:
${l.errorMessage}`);S[et.id]=l.type==="ok",I=l.state;let y=new Gr(I,S);xu(et)&&(k={tx:et,state:y}),await this.onStateUpdate(et,i,y)}for(let{modify:dt}of this.executionContextModifiers)i=await dt(I,i)}let J=new Gr(I,S);return k!==null&&await this.onStateEvaluated(k.tx,i,k.state),J}logResult(t,r,i){t.type==="exception"&&this.logger.error(`Executing of interaction: [${i.contractDefinition.txId} -> ${r.id}] threw exception:`,`${t.errorMessage}`),t.type==="error"&&this.logger.warn(`Executing of interaction: [${i.contractDefinition.txId} -> ${r.id}] returned error:`,t.errorMessage)}parseInput(t){try{return JSON.parse(t.value)}catch(r){return this.logger.error(r),null}}};var l_=ir(f_()),h_=ir(c_()),mo=e=>new Promise(t=>setTimeout(t,e)),Nr=(e,t=!1)=>t?(0,h_.default)(e):(0,l_.default)(e),zl=(e,t)=>t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t,aU=(e,t)=>typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t,Uu=(e,t)=>e-t,oU=(e,t)=>+e-+t,Kl=(e,t)=>t-e,sU=(e,t)=>+t-+e;function Vl(e){let t=null,r=new Promise((i,o)=>{t=setTimeout(()=>{clearTimeout(t),o("timeout")},e*1e3)});return{timeoutId:t,timeoutPromise:r}}function yo(e){return e.endsWith("/")?e.slice(0,-1):e}var oS=ir(vx());var sS=ir(rs()),vd=ir(wu()),kn=class{constructor(t){this.arweave=t;this.logger=At.INST.create("ArweaveWrapper");this.baseUrl=`${t.api.config.protocol}://${t.api.config.host}:${t.api.config.port}`,this.logger.debug("baseurl",this.baseUrl)}async info(){try{return await fetch(`${this.baseUrl}/info`).then(r=>r.ok?r.json():Promise.reject(r)).catch(r=>{var i,o;throw(i=r.body)!=null&&i.message&&this.logger.error(r.body.message),new Error(`Unable to retrieve info. ${r.status}: ${(o=r.body)==null?void 0:o.message}`)})}catch(t){throw this.logger.error("Error while loading network info",t),t}}async gql(t,r){try{let i=JSON.stringify({query:t,variables:r});return{data:await fetch(`${this.baseUrl}/graphql`,{method:"POST",body:i,headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}}).then(u=>u.ok?u.json():Promise.reject(u)).catch(u=>{var c,p;throw(c=u.body)!=null&&c.message&&this.logger.error(u.body.message),new Error(`Unable to retrieve gql page. ${u.status}: ${(p=u.body)==null?void 0:p.message}`)}),status:200}}catch(i){throw this.logger.error("Error while loading gql",i),i}}async tx(t){let r=await fetch(`${this.baseUrl}/tx/${t}`).then(i=>i.ok?i.json():Promise.reject(i)).catch(i=>{var o,u;throw(o=i.body)!=null&&o.message&&this.logger.error(i.body.message),new Error(`Unable to retrieve tx ${t}. ${i.status}. ${(u=i.body)==null?void 0:u.message}`)});return new sS.default(re({},r))}async txData(t){let r=await fetch(`${this.baseUrl}/${t}`);if(r.ok){let i=await r.arrayBuffer();return vd.Buffer.from(i)}else{this.logger.warn(`Unable to load data from arweave.net/${t} endpoint, falling back to arweave.js`);let i=await this.arweave.transactions.getData(t,{decode:!0});return vd.Buffer.from(i)}}async txDataString(t){let r=await this.txData(t);return oS.default.utils.bufferToString(r)}};var an=class{constructor(t=Number.MAX_SAFE_INTEGER){this.maxStoredBlockHeights=t;this.logger=At.INST.create("MemBlockHeightSwCache");this.storage={}}async getLast(t){if(!await this.contains(t))return null;let r=this.storage[t],i=[...r.keys()].sort(Uu).pop();return{cachedHeight:i,cachedValue:Nr(r.get(i))}}async getLessOrEqual(t,r){if(!await this.contains(t))return null;let i=this.storage[t],o=[...i.keys()].sort(Kl).find(u=>u<=r);return o===void 0?null:{cachedHeight:o,cachedValue:Nr(i.get(o))}}async put({cacheKey:t,blockHeight:r},i){this.putSync({cacheKey:t,blockHeight:r},i)}putSync({cacheKey:t,blockHeight:r},i){this.containsSync(t)||(this.storage[t]=new Map);let o=this.storage[t];if(o.size>=this.maxStoredBlockHeights){let u=[...o.keys()].sort(Uu).shift();o.delete(u)}o.set(r,i)}async contains(t){return this.containsSync(t)}containsSync(t){return Object.prototype.hasOwnProperty.call(this.storage,t)}async get(t,r,i=!0){return!await this.contains(t)||!this.storage[t].has(r)?null:{cachedHeight:r,cachedValue:i?Nr(this.storage[t].get(r)):this.storage[t].get(r)}}flush(){return Promise.resolve(void 0)}};var An=ir(_d()),Jn=ir(uS());var Id=ir(hS(),1),GG=Id.default.configure;var En=Id.default;var Tf=class extends an{constructor(t=Jn.default.join(__dirname,"storage","state"),r=Number.MAX_SAFE_INTEGER){super(r);this.basePath=t;this.fLogger=At.INST.create("FileBlockHeightSwCache");this.isFlushing=!1;this.isDirty=!1;this.saveCache=this.saveCache.bind(this),this.flush=this.flush.bind(this),An.default.existsSync(this.basePath)||An.default.mkdirSync(this.basePath);let i=An.default.readdirSync(this.basePath);this.fLogger.info("Loading cache from files"),i.forEach(o=>{let u=Jn.default.join(this.basePath,o);this.storage[o]==null&&(this.storage[o]=new Map);let c=ae.measure();An.default.readdirSync(u).forEach(w=>{let M=Jn.default.join(u,w),C=w.split(".")[0],O=JSON.parse(An.default.readFileSync(Jn.default.join(M),"utf-8"));this.putSync({cacheKey:o,blockHeight:+C},O)}),this.fLogger.info(`loading cache for ${o}`,c.elapsed()),this.fLogger.debug(`Amount of elements loaded for ${o} to mem: ${this.storage[o].size}`)}),this.fLogger.debug("Storage keys",this.storage),process.on("exit",async()=>{await this.flush(),process.exit()}),process.on("SIGINT",async()=>{await this.flush(),process.exit()})}async saveCache(){this.isFlushing=!0,this.fLogger.info("==== Persisting cache ====");try{let t=this.basePath;for(let r of Object.keys(this.storage)){let i=r;An.default.existsSync(Jn.default.join(t,i))||An.default.mkdirSync(Jn.default.join(t,i));let o=await this.getLast(r);if(o!==null){let{cachedHeight:u,cachedValue:c}=o;An.default.writeFileSync(Jn.default.join(t,i,`${u}.cache.json`),En(c))}}this.isDirty=!1}catch(t){this.fLogger.error("Error while flushing cache",t)}finally{this.isFlushing=!1,this.fLogger.info("==== Cache persisted ====")}}async put({cacheKey:t,blockHeight:r},i){return this.isDirty=!0,super.put({cacheKey:t,blockHeight:r},i)}async flush(){this.isFlushing||!this.isDirty||await this.saveCache()}};var Ea=class extends an{constructor(t,r=Number.MAX_SAFE_INTEGER,i){super(r);this.knex=t;this.kLogger=At.INST.create("KnexBlockHeightSwCache");this.lastFlushHeight=new Map;this.isFlushing=!1;this.isDirty=!1;this.saveCache=this.saveCache.bind(this),this.flush=this.flush.bind(this),i.forEach(o=>{this.putSync({cacheKey:o.contract_id,blockHeight:o.height},JSON.parse(o.state)),this.lastFlushHeight.set(o.contract_id,o.height)}),process.on("exit",async()=>{await this.flush(),process.exit()}),process.on("SIGINT",async()=>{await this.flush(),process.exit()})}static async init(t,r=Number.MAX_SAFE_INTEGER){await t.schema.hasTable("states")||await t.schema.createTable("states",o=>{o.string("contract_id",64).notNullable().index(),o.integer("height").notNullable().index(),o.string("hash").notNullable().unique(),o.text("state").notNullable(),o.unique(["contract_id","height","hash"],{indexName:"states_composite_index"})});let i=await t.select(["contract_id","height","state"]).from("states").max("height").groupBy(["contract_id","height","state"]).orderBy("height","desc");return new Ea(t,r,i)}async saveCache(){this.isFlushing=!0,this.kLogger.info("==== Persisting cache ====");try{let t=Object.keys(this.storage);for(let r of t){let i=await this.getLast(r);if(i!==null){let{cachedHeight:o,cachedValue:u}=i;if(this.lastFlushHeight.has(r)&&this.lastFlushHeight.get(r)>=o)continue;let c=En(u),p=(0,dS.createHash)("sha256");p.update(`${r}|${o}|${c}`);let w=p.digest("hex");await this.knex.insert({contract_id:r,height:o,hash:w,state:c}).into("states").onConflict(["contract_id","height","hash"]).merge(),this.lastFlushHeight.set(r,o)}}this.isDirty=!1}catch(t){this.kLogger.error("Error while flushing cache",t)}finally{this.isFlushing=!1,this.kLogger.info("==== Cache persisted ====")}}async put({cacheKey:t,blockHeight:r},i){return this.isDirty=!0,super.put({cacheKey:t,blockHeight:r},i)}async flush(){this.isFlushing||!this.isDirty||await this.saveCache()}};var pS=ir(zu()),us=class{constructor(t,r){this.type=t;this.baseURL=r;this.axios=pS.default.create({baseURL:r})}async getLast(t){return(await this.axios.get(`/last/${this.type}/${t}`)).data||null}async getLessOrEqual(t,r){return(await this.axios.get(`/less-or-equal/${this.type}/${t}/${r}`)).data||null}async put({cacheKey:t,blockHeight:r},i){!i||await this.axios.put(`/${this.type}/${t}/${r}`,i)}async contains(t){return(await this.axios.get(`/contains/${this.type}/${t}`)).data}async get(t,r){return(await this.axios.get(`/${this.type}/${t}/${r}`)).data||null}flush(){return Promise.resolve(void 0)}};var tr=class{constructor(){this.storage={}}clearAll(){Object.keys(this.storage).forEach(t=>{delete this.storage[t]})}contains(t){return Object.prototype.hasOwnProperty.call(this.storage,t)}get(t){return this.storage[t]}put(t,r){this.storage[t]=r}remove(t){delete this.storage[t]}};var Aa=class{constructor(t,r){this.cacheKey=t;this.blockHeight=r}},If=class{constructor(t,r){this.cachedHeight=t;this.cachedValue=r}};var Qn=class extends Su{constructor(t,r,i=[]){super(t,i);this.cache=r;this.cLogger=At.INST.create("CacheableStateEvaluator")}async eval(t,r){var M,C;let i=t.blockHeight;this.cLogger.debug(`Requested state block height: ${i}`);let o=t.cachedState;if((o==null?void 0:o.cachedHeight)===i)return(M=t.handler)==null||M.initState(o.cachedValue.state),o.cachedValue;this.cLogger.debug("executionContext.sortedInteractions",t.sortedInteractions.length);let u=t.sortedInteractions.filter(O=>O.node.block.height<=t.blockHeight),c=u.slice();if(this.cLogger.debug("missingInteractions",c.length),u.length>0){o!=null&&(this.cLogger.debug(`Cached state for ${t.contractDefinition.txId}`,{cachedHeight:o.cachedHeight,requestedBlockHeight:i}),c=u.filter(({node:O})=>O.block.height>o.cachedHeight&&O.block.height<=i)),this.cLogger.debug(`Interactions until [${i}]`,{total:u.length,cached:u.length-c.length});for(let O of r||[])if(O.contractTxId===t.contractDefinition.txId){let I=c.findIndex(S=>S.node.id===O.interactionTxId);I!==-1&&(this.cLogger.debug("Inf. Loop fix - removing interaction",{height:c[I].node.block.height,contractTxId:O.contractTxId,interactionTxId:O.interactionTxId}),c.splice(I))}if(c.length===0&&o)return this.cLogger.debug(`State up to requested height [${i}] fully cached!`),(C=t.handler)==null||C.initState(o.cachedValue.state),o.cachedValue}let p=o==null?t.contractDefinition.initState:o.cachedValue.state,w=o==null?{}:o.cachedValue.validity;return await this.doReadState(c,new Gr(p,w),t,r)}async onStateEvaluated(t,r,i){let o=r.contractDefinition.txId;this.cLogger.debug(`onStateEvaluated: cache update for contract ${o} [${t.block.height}]`),await this.putInCache(o,t,i,r.blockHeight,r.containsInteractionsFromSequencer),r.evaluationOptions.manualCacheFlush||await this.cache.flush()}async onStateUpdate(t,r,i){(r.evaluationOptions.updateCacheForEachInteraction||r.evaluationOptions.internalWrites)&&await this.putInCache(r.contractDefinition.txId,t,i,r.blockHeight,r.containsInteractionsFromSequencer)}async latestAvailableState(t,r){this.cLogger.debug("Searching for",{contractTxId:t,blockHeight:r});let i=await this.cache.getLessOrEqual(t,r);return this.cLogger.debug("Latest available state at",i==null?void 0:i.cachedHeight),i==null?null:new If(i.cachedHeight,i.cachedValue)}async onInternalWriteStateUpdate(t,r,i){this.cLogger.debug("Internal write state update:",{height:t.block.height,contractTxId:r,state:i}),await this.putInCache(r,t,i)}async onContractCall(t,r,i){await this.putInCache(r.contractDefinition.txId,t,i)}async putInCache(t,r,i,o=null,u=!1){if(r.dry||r.confirmationStatus!==void 0&&r.confirmationStatus!=="confirmed")return;let c=r.block.height;if(o!==null&&o==c&&u){this.cLogger.debug("skipping caching of the last block");return}let p=r.id,w=new Gr(i.state,i.validity,p,r.block.id);await this.cache.put(new Aa(t,c),w)}async flushCache(){return await this.cache.flush()}};var Cf=class{constructor(t,r,i){this.swGlobal=t;this.contractFunction=r;this.contractDefinition=i;this.logger=At.INST.create("ContractHandlerApi");this.contractLogger=At.INST.create(t.contract.id),this.assignReadContractState=this.assignReadContractState.bind(this),this.assignViewContractState=this.assignViewContractState.bind(this),this.assignWrite=this.assignWrite.bind(this),this.assignRefreshState=this.assignRefreshState.bind(this)}async handle(t,r,i){let o=At.INST.create("Contract"),{timeoutId:u,timeoutPromise:c}=Vl(t.evaluationOptions.maxInteractionEvaluationTimeSeconds);try{let{interaction:p,interactionTx:w,currentTx:M}=i,C=Nr(r.state,t.evaluationOptions.useFastCopy);this.swGlobal._activeTx=w,this.assignReadContractState(t,M,r,w),this.assignViewContractState(t),this.assignWrite(t,M),this.assignRefreshState(t);let O=await Promise.race([c,this.contractFunction(C,p)]);if(O&&(O.state||O.result))return{type:"ok",result:O.result,state:O.state||r.state};throw new Error(`Unexpected result from contract: ${JSON.stringify(O)}`)}catch(p){switch(p.name){case"ContractError":return{type:"error",errorMessage:p.message,state:r.state,result:null};default:return{type:"exception",errorMessage:`${p&&p.stack||p&&p.message||p}`,state:r.state,result:null}}}finally{u!==null&&clearTimeout(u)}}assignWrite(t,r){this.swGlobal.contracts.write=async(i,o)=>{if(!t.evaluationOptions.internalWrites)throw new Error("Internal writes feature switched off. Change EvaluationOptions.internalWrites flag to 'true'");this.logger.debug("swGlobal.write call:",{from:this.contractDefinition.txId,to:i,input:o});let c=await t.smartweave.contract(i,t.contract,this.swGlobal._activeTx).dryWriteFromTx(o,this.swGlobal._activeTx,[...r||[],{contractTxId:this.contractDefinition.txId,interactionTxId:this.swGlobal.transaction.id}]);return this.logger.debug("Cache result?:",!this.swGlobal._activeTx.dry),await t.smartweave.stateEvaluator.onInternalWriteStateUpdate(this.swGlobal._activeTx,i,{state:c.state,validity:{}}),c}}assignViewContractState(t){this.swGlobal.contracts.viewContractState=async(r,i)=>(this.logger.debug("swGlobal.viewContractState call:",{from:this.contractDefinition.txId,to:r,input:i}),await t.smartweave.contract(r,t.contract,this.swGlobal._activeTx).viewStateForTx(i,this.swGlobal._activeTx))}assignReadContractState(t,r,i,o){this.swGlobal.contracts.readContractState=async(u,c,p)=>{let w=c||this.swGlobal.block.height;this.logger.debug("swGlobal.readContractState call:",{from:this.contractDefinition.txId,to:u,height:w,transaction:this.swGlobal.transaction.id});let{stateEvaluator:M}=t.smartweave,C=t.smartweave.contract(u,t.contract,o);await M.onContractCall(o,t,i);let O=await C.readState(w,[...r||[],{contractTxId:this.contractDefinition.txId,interactionTxId:this.swGlobal.transaction.id}]);return p?Nr(O):Nr(O.state)}}assignRefreshState(t){this.swGlobal.contracts.refreshState=async()=>{let i=await t.smartweave.stateEvaluator.latestAvailableState(this.swGlobal.contract.id,this.swGlobal.block.height);return i==null?void 0:i.cachedValue.state}}initState(t){}};var yq="Operation requires compiling with --exportTable",mq="Operation requires compiling with --exportRuntime",fs=()=>{throw Error(mq)},wq=typeof BigUint64Array<"u",cs=Symbol(),vq=192,gS=1024,_q=new TextDecoder("utf-16le",{fatal:!0});Object.hasOwn=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function yS(e,t){let r=new Uint32Array(e)[t+-4>>>2]>>>1,i=new Uint16Array(e,t,r);if(r<=vq)return String.fromCharCode(...i);try{return _q.decode(i)}catch(o){let u="",c=0;for(;r-c>gS;)u+=String.fromCharCode(...i.subarray(c,c+=gS));return u+String.fromCharCode(...i.subarray(c))}}function Cd(e){let t={};function r(o,u){return o?yS(o.buffer,u):"<yet unknown>"}let i=e.env=e.env||{};return i.abort=i.abort||function(u,c,p,w){let M=t.memory||i.memory;throw Error(`abort: ${r(M,u)} at ${r(M,c)}:${p}:${w}`)},i.trace=i.trace||function(u,c,...p){let w=t.memory||i.memory;console.log(`trace: ${r(w,u)}${c?" ":""}${p.slice(0,c).join(", ")}`)},i.seed=i.seed||Date.now,e.Math=e.Math||Math,e.Date=e.Date||Date,t}function Od(e,t){let r=t.exports,i=r.memory,o=r.table,u=r.__new||fs,c=r.__pin||fs,p=r.__unpin||fs,w=r.__collect||fs,M=r.__rtti_base,C=M?l=>l[M>>>2]:fs;e.__new=u,e.__pin=c,e.__unpin=p,e.__collect=w;function O(l){let y=new Uint32Array(i.buffer);if((l>>>=0)>=C(y))throw Error(`invalid id: ${l}`);return y[(M+4>>>2)+(l<<1)]}function I(l){let y=new Uint32Array(i.buffer);if((l>>>=0)>=C(y))throw Error(`invalid id: ${l}`);return y[(M+4>>>2)+(l<<1)+1]}function S(l){let y=O(l);if(!(y&7))throw Error(`not an array: ${l}, flags=${y}`);return y}function N(l){return 31-Math.clz32(l>>>6&31)}function k(l){if(l==null)return 0;let y=l.length,v=u(y<<1,1),E=new Uint16Array(i.buffer);for(var R=0,D=v>>>1;R<y;++R)E[D+R]=l.charCodeAt(R);return v}e.__newString=k;function Q(l){if(l==null)return 0;let y=new Uint8Array(l),v=u(y.length,0);return new Uint8Array(i.buffer).set(y,v),v}e.__newArrayBuffer=Q;function J(l){if(!l)return null;let y=i.buffer;if(new Uint32Array(y)[l+-8>>>2]!==1)throw Error(`not a string: ${l}`);return yS(y,l)}e.__getString=J;function ft(l,y,v){let E=i.buffer;if(v)switch(l){case 2:return new Float32Array(E);case 3:return new Float64Array(E)}else switch(l){case 0:return new(y?Int8Array:Uint8Array)(E);case 1:return new(y?Int16Array:Uint16Array)(E);case 2:return new(y?Int32Array:Uint32Array)(E);case 3:return new(y?BigInt64Array:BigUint64Array)(E)}throw Error(`unsupported align: ${l}`)}function Z(l,y=0){let v=y,E=S(l),R=N(E),D=typeof v!="number",T=D?v.length:v,d=u(T<<R,E&4?l:0),m;if(E&4)m=d;else{c(d);let rt=u(E&2?16:12,l);p(d);let at=new Uint32Array(i.buffer);at[rt+0>>>2]=d,at[rt+4>>>2]=d,at[rt+8>>>2]=T<<R,E&2&&(at[rt+12>>>2]=T),m=rt}if(D){let rt=ft(R,E&2048,E&4096),at=d>>>R;if(E&16384)for(let q=0;q<T;++q)rt[at+q]=v[q];else rt.set(v,at)}return m}e.__newArray=Z;function st(l){let y=new Uint32Array(i.buffer),v=y[l+-8>>>2],E=S(v),R=N(E),D=E&4?l:y[l+4>>>2],T=E&2?y[l+12>>>2]:y[D+-4>>>2]>>>R;return ft(R,E&2048,E&4096).subarray(D>>>=R,D+T)}e.__getArrayView=st;function et(l){let y=st(l),v=y.length,E=new Array(v);for(let R=0;R<v;R++)E[R]=y[R];return E}e.__getArray=et;function nt(l){let y=i.buffer,v=new Uint32Array(y)[l+-4>>>2];return y.slice(l,l+v)}e.__getArrayBuffer=nt;function dt(l){if(!o)throw Error(yq);let y=new Uint32Array(i.buffer)[l>>>2];return o.get(y)}e.__getFunction=dt;function gt(l,y,v){return new l(K(l,y,v))}function K(l,y,v){let E=i.buffer,R=new Uint32Array(E);return new l(E,R[v+4>>>2],R[v+8>>>2]>>>y)}function A(l,y,v){e[`__get${y}`]=gt.bind(null,l,v),e[`__get${y}View`]=K.bind(null,l,v)}[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach(l=>{A(l,l.name,31-Math.clz32(l.BYTES_PER_ELEMENT))}),wq&&[BigUint64Array,BigInt64Array].forEach(l=>{A(l,l.name.slice(3),3)});function f(l,y){let v=new Uint32Array(i.buffer),E=v[l+-8>>>2];if(E<=C(v))do{if(E==y)return!0;E=I(E)}while(E);return!1}return e.__instanceof=f,e.memory=e.memory||i,e.table=e.table||o,bS(r,e)}function mS(e){return typeof Response<"u"&&e instanceof Response}function wS(e){return e instanceof WebAssembly.Module}async function vS(e,t={}){if(mS(e=await e))return _S(e,t);let r=wS(e)?e:await WebAssembly.compile(e),i=Cd(t),o=await WebAssembly.instantiate(r,t),u=Od(i,o);return{module:r,instance:o,exports:u}}function bq(e,t={}){let r=wS(e)?e:new WebAssembly.Module(e),i=Cd(t),o=new WebAssembly.Instance(r,t),u=Od(i,o);return{module:r,instance:o,exports:u}}async function _S(e,t={}){if(!WebAssembly.instantiateStreaming)return vS(mS(e=await e)?e.arrayBuffer():e,t);let r=Cd(t),i=await WebAssembly.instantiateStreaming(e,t),o=Od(r,i.instance);return lr(re({},i),{exports:o})}function bS(e,t={}){let r=e.__argumentsLength?i=>{e.__argumentsLength.value=i}:e.__setArgumentsLength||e.__setargc||(()=>{});for(let i of Object.keys(e)){let o=e[i],u=i.split("."),c=t;for(;u.length>1;){let M=u.shift();Object.hasOwn(c,M)||(c[M]={}),c=c[M]}let p=u[0],w=p.indexOf("#");if(w>=0){let M=p.substring(0,w),C=c[M];if(typeof C>"u"||!C.prototype){let O=function(...I){return O.wrap(O.prototype.constructor(0,...I))};O.prototype={valueOf(){return this[cs]}},O.wrap=function(I){return Object.create(O.prototype,{[cs]:{value:I,writable:!1}})},C&&Object.getOwnPropertyNames(C).forEach(I=>Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(C,I))),c[M]=O}if(p=p.substring(w+1),c=c[M].prototype,/^(get|set):/.test(p)){if(!Object.hasOwn(c,p=p.substring(4))){let O=e[i.replace("set:","get:")],I=e[i.replace("get:","set:")];Object.defineProperty(c,p,{get(){return O(this[cs])},set(S){I(this[cs],S)},enumerable:!0})}}else p==="constructor"?(c[p]=function(...O){return r(O.length),o(...O)}).original=o:(c[p]=function(...O){return r(O.length),o(this[cs],...O)}).original=o}else/^(get|set):/.test(p)?Object.hasOwn(c,p=p.substring(4))||Object.defineProperty(c,p,{get:e[i.replace("set:","get:")],set:e[i.replace("get:","set:")],enumerable:!0}):typeof o=="function"&&o!==r?(c[p]=(...M)=>(r(M.length),o(...M))).original=o:c[p]=o}return t}var xS={instantiate:vS,instantiateSync:bq,instantiateStreaming:_S,demangle:bS};var Bd=class{constructor(t,r,i){this.swGlobal=t;this.contractDefinition=r;this.wasmExports=i;this.logger=At.INST.create("WasmContractHandlerApi");this.contractLogger=At.INST.create(t.contract.id)}async handle(t,r,i){try{let{interaction:o,interactionTx:u,currentTx:c}=i;this.swGlobal._activeTx=u,this.swGlobal.gasLimit=t.evaluationOptions.gasLimit,this.swGlobal.gasUsed=0,this.assignReadContractState(t,c,r,u);let p=await this.doHandle(o);return{type:"ok",result:p,state:this.doGetCurrentState(),gasUsed:this.swGlobal.gasUsed}}catch(o){let u={errorMessage:o.message,state:r.state,result:null};return o.message.startsWith("[RE:")?(this.logger.fatal(o),lr(re({},u),{type:"exception"})):lr(re({},u),{type:"error"})}}initState(t){switch(this.contractDefinition.srcWasmLang){case"assemblyscript":{let r=this.wasmExports.__newString(En(t));this.wasmExports.initState(r);break}case"rust":{this.wasmExports.initState(t);break}case"go":{this.wasmExports.initState(En(t));break}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}async doHandle(t){switch(this.contractDefinition.srcWasmLang){case"assemblyscript":{let r=this.wasmExports.__newString(En(t.input)),i=this.wasmExports.handle(r),o=this.wasmExports.__getString(i);return JSON.parse(o)}case"rust":{let r=await this.wasmExports.handle(t.input);if(!r)return;if(Object.prototype.hasOwnProperty.call(r,"Ok"))return r.Ok;{this.logger.debug("Error from rust",r.Err);let i,o="";throw typeof r.Err=="string"||r.Err instanceof String?i=r.Err:(i=Object.keys(r.Err)[0],o=" "+r.Err[i]),i=="RuntimeError"?new Error(`[RE:RE]${o}`):new Error(`[CE:${i}${o}]`)}}case"go":{let r=await this.wasmExports.handle(En(t.input));return JSON.parse(r)}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}doGetCurrentState(){switch(this.contractDefinition.srcWasmLang){case"assemblyscript":{let t=this.wasmExports.currentState();return JSON.parse(this.wasmExports.__getString(t))}case"rust":return this.wasmExports.currentState();case"go":{let t=this.wasmExports.currentState();return JSON.parse(t)}default:throw new Error(`Support for ${this.contractDefinition.srcWasmLang} not implemented yet.`)}}assignReadContractState(t,r,i,o){this.swGlobal.contracts.readContractState=async(u,c,p)=>{let w=c||this.swGlobal.block.height;this.logger.debug("swGlobal.readContractState call:",{from:this.contractDefinition.txId,to:u,height:w,transaction:this.swGlobal.transaction.id});let{stateEvaluator:M}=t.smartweave,C=t.smartweave.contract(u,t.contract,o);await M.onContractCall(o,t,i);let O=await C.readState(w,[...r||[],{contractTxId:this.contractDefinition.txId,interactionTxId:this.swGlobal.transaction.id}]);return p?Nr(O):Nr(O.state)}}};var SS=(e,t)=>{let r=At.INST.create("WASM:AS");return{metering:{usegas:e.useGas},console:{"console.log":function(o){r.debug(`${e.contract.id}: ${t.exports.__getString(o)}`)},"console.logO":function(o,u){r.debug(`${e.contract.id}: ${t.exports.__getString(o)}`,JSON.parse(t.exports.__getString(u)))}},block:{"Block.height":function(){return e.block.height},"Block.indep_hash":function(){return t.exports.__newString(e.block.indep_hash)},"Block.timestamp":function(){return e.block.timestamp}},transaction:{"Transaction.id":function(){return t.exports.__newString(e.transaction.id)},"Transaction.owner":function(){return t.exports.__newString(e.transaction.owner)},"Transaction.target":function(){return t.exports.__newString(e.transaction.target)}},contract:{"Contract.id":function(){return t.exports.__newString(e.contract.id)},"Contract.owner":function(){return t.exports.__newString(e.contract.owner)}},api:{_readContractState:(o,u)=>{let c=t.exports.__getString(u),p=i(o);return console.log("Simulating read state of",c),setTimeout(()=>{console.log("calling callback"),p(t.exports.__newString(JSON.stringify({contractTxId:c})))},1e3)},clearTimeout},env:{abort(o,u,c,p){console.error("--------------------- Error message from AssemblyScript ----------------------"),console.error("  "+t.exports.__getString(o)),console.error('    In file "'+t.exports.__getString(u)+'"'),console.error(`    on line ${c}, column ${p}.`),console.error(`------------------------------------------------------------------------------
`)}}};function i(o){return t.exports.table.get(o)}};var ES=(e,t,r,i)=>{let o=At.INST.create("WASM"),u={metering:{usegas:e.useGas},console:{log:function(m){o.debug(`${e.contract.id}: ${m}`)}},Block:{height:function(){return e.block.height},indep_hash:function(){return e.block.indep_hash},timestamp:function(){return e.block.timestamp}},Transaction:{id:function(){return e.transaction.id},owner:function(){return e.transaction.owner},target:function(){return e.transaction.target}},Contract:{id:function(){return e.contract.id},owner:function(){return e.contract.owner}},SmartWeave:{readContractState:async function(m){return await e.contracts.readContractState(m)}}},c={__wbg_log_:function(m,rt){u.console.log(k(m,rt))},__wbindgen_json_parse:function(m,rt){var at=JSON.parse(k(m,rt));return ft(at)},__wbindgen_json_serialize:function(m,rt){let at=Z(rt);var q=JSON.stringify(at===void 0?null:at),yt=dt(q,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),Mt=st;K()[m/4+1]=Mt,K()[m/4+0]=yt},__wbindgen_object_drop_ref:function(m){f(m)},__wbindgen_cb_drop:function(m){let rt=f(m).original;if(rt.cnt--==1)return rt.a=0,!0;var at=!1;return at},__wbg_readContractState:function(m,rt){var at=u.SmartWeave.readContractState(k(m,rt));return ft(at)},__wbg_viewContractState:function(m,rt){},__wbg_write:function(m,rt){},__wbg_refreshState:function(m,rt){},__wbg_indephash:function(m){var rt=u.Block.indep_hash(),at=dt(rt,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),q=st;K()[m/4+1]=q,K()[m/4+0]=at},__wbg_height:function(){var m=u.Block.height();return m},__wbg_timestamp:function(){var m=u.Block.timestamp();return m},__wbg_id:function(){var m=u.Transaction.id();return m},__wbg_contractOwner:function(m){var rt=u.Contract.owner(),at=dt(rt,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),q=st;K()[m/4+1]=q,K()[m/4+0]=at},__wbg_contractId:function(){var m=u.Contract.id();return m},__wbg_owner:function(m){var rt=u.Transaction.owner(),at=dt(rt,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),q=st;K()[m/4+1]=q,K()[m/4+0]=at},__wbg_target:function(m){var rt=u.Transaction.target(),at=dt(rt,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),q=st;K()[m/4+1]=q,K()[m/4+0]=at},__wbg_call:function(){return D(function(m,rt,at){var q=Z(m).call(Z(rt),Z(at));return ft(q)},arguments)},__wbg_new:function(m,rt){try{var at={a:m,b:rt},q=(Mt,Et)=>{let Pt=at.a;at.a=0;try{return T(Pt,at.b,Mt,Et)}finally{at.a=Pt}},yt=new Promise(q);return ft(yt)}finally{at.a=at.b=0}},__wbg_resolve:function(m){var rt=Promise.resolve(Z(m));return ft(rt)},__wbg_then_a:function(m,rt){var at=Z(m).then(Z(rt));return ft(at)},__wbg_then_5:function(m,rt,at){var q=Z(m).then(Z(rt),Z(at));return ft(q)},__wbindgen_debug_string:function(m,rt){var at=l(Z(rt)),q=dt(at,r.exports.__wbindgen_malloc,r.exports.__wbindgen_realloc),yt=st;K()[m/4+1]=yt,K()[m/4+0]=q},__wbindgen_throw:function(m,rt){throw new Error(k(m,rt))},__wbindgen_closure_wrapper:function(m,rt,at){var q=y(m,rt,i,v);return ft(q)},__wbindgen_string_new:function(m,rt){var at=k(m,rt);return ft(at)}},p=Object.keys(c),w=t.reduce((m,rt)=>{let at=p.find(q=>rt.startsWith(q));if(at===void 0)throw new Error(`Cannot find import mapping for ${rt}`);return m[rt]=c[at],m},{}),M={};M.__wbindgen_placeholder__=w;let{TextDecoder:C,TextEncoder:O}=Gn(),I=new C("utf-8",{ignoreBOM:!0,fatal:!0});I.decode();let S=null;function N(){return(S===null||S.buffer!==r.exports.memory.buffer)&&(S=new Uint8Array(r.exports.memory.buffer)),S}function k(m,rt){return I.decode(N().subarray(m,m+rt))}let Q=new Array(32).fill(void 0);Q.push(void 0,null,!0,!1);let J=Q.length;function ft(m){J===Q.length&&Q.push(Q.length+1);let rt=J;return J=Q[rt],Q[rt]=m,rt}function Z(m){return Q[m]}let st=0,et=new O("utf-8"),nt=typeof et.encodeInto=="function"?function(m,rt){return et.encodeInto(m,rt)}:function(m,rt){let at=et.encode(m);return rt.set(at),{read:m.length,written:at.length}};function dt(m,rt,at){if(at===void 0){let Pt=et.encode(m),Ut=rt(Pt.length);return N().subarray(Ut,Ut+Pt.length).set(Pt),st=Pt.length,Ut}let q=m.length,yt=rt(q),Mt=N(),Et=0;for(;Et<q;Et++){let Pt=m.charCodeAt(Et);if(Pt>127)break;Mt[yt+Et]=Pt}if(Et!==q){Et!==0&&(m=m.slice(Et)),yt=at(yt,q,q=Et+m.length*3);let Pt=N().subarray(yt+Et,yt+q);Et+=nt(m,Pt).written}return st=Et,yt}let gt=null;function K(){return(gt===null||gt.buffer!==r.exports.memory.buffer)&&(gt=new Int32Array(r.exports.memory.buffer)),gt}function A(m){m<36||(Q[m]=J,J=m)}function f(m){let rt=Z(m);return A(m),rt}function l(m){let rt=typeof m;if(rt=="number"||rt=="boolean"||m==null)return`${m}`;if(rt=="string")return`"${m}"`;if(rt=="symbol"){let yt=m.description;return yt==null?"Symbol":`Symbol(${yt})`}if(rt=="function"){let yt=m.name;return typeof yt=="string"&&yt.length>0?`Function(${yt})`:"Function"}if(Array.isArray(m)){let yt=m.length,Mt="[";yt>0&&(Mt+=l(m[0]));for(let Et=1;Et<yt;Et++)Mt+=", "+l(m[Et]);return Mt+="]",Mt}let at=/\[object ([^\]]+)\]/.exec(toString.call(m)),q;if(at.length>1)q=at[1];else return toString.call(m);if(q=="Object")try{return"Object("+JSON.stringify(m)+")"}catch(yt){return"Object"}return m instanceof Error?`${m.name}: ${m.message}
${m.stack}`:q}function y(m,rt,at,q){let yt={a:m,b:rt,cnt:1,dtor:at},Mt=(...Et)=>{yt.cnt++;let Pt=yt.a;yt.a=0;try{return q(Pt,yt.b,...Et)}finally{--yt.cnt===0?r.exports.__wbindgen_export_2.get(yt.dtor)(Pt,yt.b):yt.a=Pt}};return Mt.original=yt,Mt}function v(m,rt,at){r.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__(m,rt,ft(at))}w.handle=function(m){var rt=r.exports.handle(ft(m));return f(rt)};let E=32;function R(m){if(E==1)throw new Error("out of js stack");return Q[--E]=m,E}w.initState=function(m){try{r.exports.initState(R(m))}finally{Q[E++]=void 0}},w.currentState=function(){var m=r.exports.currentState();return f(m)},w.lang=function(){try{let at=r.exports.__wbindgen_add_to_stack_pointer(-16);r.exports.lang(at);var m=K()[at/4+0],rt=K()[at/4+1];return k(m,rt)}finally{r.exports.__wbindgen_add_to_stack_pointer(16),r.exports.__wbindgen_free(m,rt)}},w.type=function(){var m=r.exports.type();return m};function D(m,rt){try{return m.apply(this,rt)}catch(at){r.exports.__wbindgen_exn_store(ft(at))}}function T(m,rt,at,q){r.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__(m,rt,ft(at),ft(q))}class d{__destroy_into_raw(){let rt=this.ptr;return this.ptr=0,rt}free(){let rt=this.__destroy_into_raw();r.exports.__wbg_statewrapper_free(rt)}}return w.StateWrapper=d,M.metering=u.metering,{imports:M,exports:w}};var xq=new TextEncoder,AS=new TextDecoder("utf-8"),Md=[],Ti;(function(e){Ti=e,Ti.redstone={go:{}}}).call(void 0,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var ls=class{constructor(t){this._callbackTimeouts=new Map,this._nextCallbackTimeoutID=1;let r=At.INST.create("WASM:Go"),i=this;Ti.redstone.go={WasmModule:{registerWasmModule:function(S){i._id=S,i.exports=Ti[S],delete Ti[S],Ti.redstone.go[S]={},Ti.redstone.go[S].imports={console:{log:function(...N){r.debug(N[0],...N.slice(1))}},Transaction:{id:function(){return t.transaction.id},owner:function(){return t.transaction.owner},target:function(){return t.transaction.target}},Block:{indep_hash:function(){return t.block.indep_hash},height:function(){return t.block.height},timestamp:function(){return t.block.timestamp}},Contract:{id:function(){return t.contract.id},owner:function(){return t.contract.owner}},SmartWeave:{readContractState:async function(N){return await t.contracts.readContractState(N)}}}}}};let o=()=>new DataView(this._inst.exports.memory.buffer),u=(S,N)=>{o().setUint32(S+0,N,!0),o().setUint32(S+4,Math.floor(N/4294967296),!0)},c=S=>{let N=o().getUint32(S+0,!0),k=o().getInt32(S+4,!0);return N+k*4294967296},p=S=>{let N=o().getFloat64(S,!0);if(N===0)return;if(!isNaN(N))return N;let k=o().getUint32(S,!0);return this._values[k]},w=(S,N)=>{if(typeof N=="number"){if(isNaN(N)){o().setUint32(S+4,2146959360,!0),o().setUint32(S,0,!0);return}if(N===0){o().setUint32(S+4,2146959360,!0),o().setUint32(S,1,!0);return}o().setFloat64(S,N,!0);return}switch(N){case void 0:o().setFloat64(S,0,!0);return;case null:o().setUint32(S+4,2146959360,!0),o().setUint32(S,2,!0);return;case!0:o().setUint32(S+4,2146959360,!0),o().setUint32(S,3,!0);return;case!1:o().setUint32(S+4,2146959360,!0),o().setUint32(S,4,!0);return}let Q=this._ids.get(N);Q===void 0&&(Q=this._idPool.pop(),Q===void 0&&(Q=this._values.length),this._values[Q]=N,this._goRefCounts[Q]=0,this._ids.set(N,Q)),this._goRefCounts[Q]++;let J=1;switch(typeof N){case"string":J=2;break;case"symbol":J=3;break;case"function":J=4;break}o().setUint32(S+4,2146959360|J,!0),o().setUint32(S,Q,!0)},M=(S,N,k=null)=>new Uint8Array(this._inst.exports.memory.buffer,S,N),C=(S,N,k)=>{let Q=new Array(N);for(let J=0;J<N;J++)Q[J]=p(S+J*8);return Q},O=(S,N)=>AS.decode(new DataView(this._inst.exports.memory.buffer,S,N)),I=Date.now()-performance.now();this.importObject={wasi_snapshot_preview1:{fd_write:function(S,N,k,Q){let J=0;if(S==1)for(let ft=0;ft<k;ft++){let Z=N+ft*8,st=o().getUint32(Z+0,!0),et=o().getUint32(Z+4,!0);J+=et;for(let nt=0;nt<et;nt++){let dt=o().getUint8(st+nt);if(dt!=13)if(dt==10){let gt=AS.decode(new Uint8Array(Md));Md=[],console.log(gt)}else Md.push(dt)}}else console.error("invalid file descriptor:",S);return o().setUint32(Q,J,!0),0},fd_close:()=>0,fd_fdstat_get:()=>0,fd_seek:()=>0,proc_exit:S=>{if(global.process)process.exit(S);else throw"trying to exit with code "+S},random_get:(S,N)=>(crypto.getRandomValues(M(S,N,null)),0)},env:{"runtime.ticks":()=>I+performance.now(),"runtime.sleepTicks":S=>{setTimeout(this._inst.exports.go_scheduler,S)},"syscall/js.finalizeRef":S=>{let N=o().getUint32(S,!0);if(this._goRefCounts[N]--,this._goRefCounts[N]===0){let k=this._values[N];this._values[N]=null,this._ids.delete(k),this._idPool.push(N)}},"syscall/js.stringVal":(S,N,k)=>{let Q=O(N,k);w(S,Q)},"syscall/js.valueGet":(S,N,k,Q)=>{let J=O(k,Q),ft=p(N),Z=Reflect.get(ft,J);w(S,Z)},"syscall/js.valueSet":(S,N,k,Q)=>{let J=p(S),ft=O(N,k),Z=p(Q);Reflect.set(J,ft,Z)},"syscall/js.valueDelete":(S,N,k)=>{let Q=p(S),J=O(N,k);Reflect.deleteProperty(Q,J)},"syscall/js.valueIndex":(S,N,k)=>{w(S,Reflect.get(p(N),k))},"syscall/js.valueSetIndex":(S,N,k)=>{Reflect.set(p(S),N,p(k))},"syscall/js.valueCall":(S,N,k,Q,J,ft,Z)=>{let st=p(N),et=O(k,Q),nt=C(J,ft,Z);try{let dt=Reflect.get(st,et);w(S,Reflect.apply(dt,st,nt)),o().setUint8(S+8,1)}catch(dt){w(S,dt),o().setUint8(S+8,0)}},"syscall/js.valueInvoke":(S,N,k,Q,J)=>{try{let ft=p(N),Z=C(k,Q,J);w(S,Reflect.apply(ft,void 0,Z)),o().setUint8(S+8,1)}catch(ft){w(S,ft),o().setUint8(S+8,0)}},"syscall/js.valueNew":(S,N,k,Q,J)=>{let ft=p(N),Z=C(k,Q,J);try{w(S,Reflect.construct(ft,Z)),o().setUint8(S+8,1)}catch(st){w(S,st),o().setUint8(S+8,0)}},"syscall/js.valueLength":S=>p(S).length,"syscall/js.valuePrepareString":(S,N)=>{let k=String(p(N)),Q=xq.encode(k);w(S,Q),u(S+8,Q.length)},"syscall/js.valueLoadString":(S,N,k,Q)=>{let J=p(S);M(N,k,Q).set(J)},"syscall/js.valueInstanceOf":(S,N)=>p(S)instanceof p(N),"syscall/js.copyBytesToGo":(S,N,k,Q,J)=>{let ft=S,Z=S+4,st=M(N,k),et=p(J);if(!(et instanceof Uint8Array)){o().setUint8(Z,0);return}let nt=et.subarray(0,st.length);st.set(nt),u(ft,nt.length),o().setUint8(Z,1)},"syscall/js.copyBytesToJS":(S,N,k,Q,J)=>{let ft=S,Z=S+4,st=p(N),et=M(k,Q);if(!(st instanceof Uint8Array)){o().setUint8(Z,0);return}let nt=et.subarray(0,st.length);st.set(nt),u(ft,nt.length),o().setUint8(Z,1)}}}}async run(t){this._inst=t,this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=[],this._ids=new Map,this._idPool=[],this.exited=!1;let r=new DataView(this._inst.exports.memory.buffer);for(;;){let i=new Promise(o=>{this._resolveCallbackPromise=()=>{if(this.exited)throw new Error("bad callback: Go program has already exited");setTimeout(o,0)}});if(this._inst.exports._start(),this.exited)break;await i}}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(t){let r=this;return function(){let i={id:t,this:this,args:arguments};return r._pendingEvent=i,r._resume(),i.result}}_resolveExitPromise(){}};var Rd=ir(ku());var Ld=class extends Error{constructor(t){super(t);this.name="ContractError"}},Yn=class{constructor(t){this.arweave=t;this.logger=At.INST.create("HandlerExecutorFactory");this.cache=new tr}async create(t,r){let i=new Bf(this.arweave,{id:t.txId,owner:t.owner});if(t.contractType=="wasm"){this.logger.info("Creating handler for wasm contract",t.txId);let o=ae.measure(),u,c=null;switch(t.srcWasmLang){case"assemblyscript":{let p={exports:null};u=xS.instantiateSync(t.srcBinary,SS(i,p)),p.exports=u.exports;break}case"rust":{let p={exports:null,modifiedExports:{wasm_bindgen__convert__closures__invoke2_mut__:null,_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__:null}},w=await WebAssembly.compile(t.srcBinary),C=WebAssembly.Module.imports(w).filter(N=>N.module==="__wbindgen_placeholder__").map(N=>N.name),{imports:O,exports:I}=ES(i,C,p,t.metadata.dtor);c=I,u=new WebAssembly.Instance(w,O),p.exports=u.exports,Object.keys(u.exports).forEach(N=>{N.startsWith("wasm_bindgen__convert__closures__invoke2_mut__")&&(p.modifiedExports.wasm_bindgen__convert__closures__invoke2_mut__=u.exports[N]),N.startsWith("_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__")&&(p.modifiedExports._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__=u.exports[N])});break}case"go":{let p=new ls(i);p.importObject.metering={usegas:function(M){i.useGas(M)}};let w=await WebAssembly.compile(t.srcBinary);u=new WebAssembly.Instance(w,p.importObject),p.run(u),c=p.exports;break}default:throw new Error(`Support for ${t.srcWasmLang} not implemented yet.`)}return this.logger.info(`WASM ${t.srcWasmLang} handler created in ${o.elapsed()}`),new Bd(i,t,c||u.exports)}else{this.logger.info("Creating handler for js contract",t.txId);let o=Pd(t.src,r.useVM2);if(r.useVM2){let u=new Of.VMScript(o),c=new Of.NodeVM({console:"off",sandbox:{SmartWeave:i,BigNumber:Rd.default,logger:this.logger,ContractError:Ld,ContractAssert:function(p,w){if(!p)throw new Ld(w)}},compiler:"javascript",eval:!1,wasm:!1,allowAsync:!0,wrapper:"commonjs"});return new Cf(i,c.run(u),t)}else{let c=new Function(o)(i,Rd.default,At.INST.create(i.contract.id));return new Cf(i,c,t)}}}};var Sq="".padEnd(13,"9"),Zn=class{constructor(t){this.arweave=t;this.logger=At.INST.create("LexicographicalInteractionsSorter")}async sort(t){let r=[...t],i=r.map(o=>this.addSortKey(o));return await Promise.all(i),r.sort((o,u)=>o.sortKey.localeCompare(u.sortKey))}async addSortKey(t){let{node:r}=t;t.node.sortKey!==void 0&&t.node.source=="redstone-sequencer"?(this.logger.debug("Using sortkey from sequencer",t.node.sortKey),t.sortKey=t.node.sortKey):t.sortKey=await this.createSortKey(r.block.id,r.id,r.block.height)}async createSortKey(t,r,i){let o=this.arweave.utils.b64UrlToBuffer(t),u=this.arweave.utils.b64UrlToBuffer(r),c=this.arweave.utils.concatBuffers([o,u]),p=Nd(await this.arweave.crypto.hash(c));return`${`${i}`.padStart(12,"0")},${Sq},${p}`}};var lE=ir(aE()),hE=ir(_d());function oE(e){let t=/var ret = makeMutClosure\(arg0, arg1, (\d+?), __wbg_adapter/;return e.match(t)[1]}var dE=ir(sE()),cE=new Map([[1,"assemblyscript"],[2,"rust"],[3,"go"]]),Ff=class{constructor(t){this.arweave=t;this.logger=At.INST.create("DefaultCreateContract");this.deployFromSourceTx=this.deployFromSourceTx.bind(this)}async deploy(t,r,i){this.logger.debug("Creating new contract");let{wallet:o,src:u,initState:c,tags:p,transfer:w}=t,M=u instanceof Buffer?"wasm":"js",C,O=null,I=null,S={},N=[];if(M=="wasm"){let J=lE.default.meterWASM(u,{meterType:"i32"});N.push(J);let ft=await WebAssembly.compile(u),Z=WebAssembly.Module.imports(ft),st;if(this.isGoModule(Z)){let nt=new ls(null),dt=new WebAssembly.Instance(ft,nt.importObject);nt.run(dt),st=nt.exports.lang(),I=nt.exports.version()}else{let nt=await WebAssembly.instantiate(u,jq(Z));if(!nt.instance.exports.lang)throw new Error('No info about source type in wasm binary. Did you forget to export "lang" function?');if(st=nt.instance.exports.lang(),I=nt.instance.exports.version(),!cE.has(st))throw new Error(`Unknown wasm source type ${st}`)}if(O=cE.get(st),r==null)throw new Error("No path to original wasm contract source code");let et=await this.zipContents(r);if(N.push(et),O=="rust"){if(!i)throw new Error("No path to generated wasm-bindgen js code");let nt=hE.default.readFileSync(i,"utf-8"),dt=oE(nt);S.dtor=(0,dE.parseInt)(dt),N.push(Buffer.from(nt))}}let k=M=="wasm"?this.joinBuffers(N):u;C=await this.arweave.createTransaction({data:k},o),C.addTag("App-Name","SmartWeaveContractSource"),C.addTag("App-Version","0.3.0"),C.addTag("SDK","RedStone"),C.addTag("Content-Type",M=="js"?"application/javascript":"application/wasm"),M=="wasm"&&(C.addTag("Wasm-Lang",O),C.addTag("Wasm-Lang-Version",I),C.addTag("Wasm-Meta",JSON.stringify(S))),await this.arweave.transactions.sign(C,o),this.logger.debug("Posting transaction with source");let Q=await this.arweave.transactions.post(C);if(Q.status===200||Q.status===208)return await this.deployFromSourceTx({srcTxId:C.id,wallet:o,initState:c,contractType:M,wasmLang:O,tags:p,transfer:w});throw new Error(`Unable to write Contract Source: ${Q==null?void 0:Q.statusText}`)}async deployFromSourceTx(t){this.logger.debug("Creating new contract from src tx");let{wallet:r,srcTxId:i,initState:o,tags:u,transfer:c}=t,p=await this.arweave.createTransaction({data:o},r);if(+(c==null?void 0:c.winstonQty)>0&&c.target.length&&(this.logger.debug("Creating additional transaction with AR transfer",c),p=await this.arweave.createTransaction({data:o,target:c.target,quantity:c.winstonQty},r)),u!=null&&u.length)for(let M of u)p.addTag(M.name.toString(),M.value.toString());p.addTag("App-Name","SmartWeaveContract"),p.addTag("App-Version","0.3.0"),p.addTag("Contract-Src",i),p.addTag("SDK","RedStone"),p.addTag("Content-Type","application/json"),p.addTag("Contract-Type",t.contractType),t.contractType=="wasm"&&p.addTag("Wasm-Lang",t.wasmLang),await this.arweave.transactions.sign(p,r);let w=await this.arweave.transactions.post(p);if(w.status===200||w.status===208)return p.id;throw new Error(`Unable to write Contract Source: ${w==null?void 0:w.statusText}`)}isGoModule(t){return t.some(r=>r.module=="env"&&r.name.startsWith("syscall/js"))}joinBuffers(t){let r=t.length,i=[];return i.push(Buffer.from(r.toString())),i.push(Buffer.from("|")),t.forEach(o=>{i.push(Buffer.from(o.length.toString())),i.push(Buffer.from("|"))}),i.push(...t),i.reduce((o,u)=>Buffer.concat([o,u]))}async zipContents(t){let r=uE(),i=fE(),o=new i.WritableStreamBuffer({initialSize:1e3*1024,incrementAmount:1e3*1024}),u=r("zip",{zlib:{level:9}});return u.on("error",function(c){throw c}),u.pipe(o),u.directory(t.toString(),t.toString()),await u.finalize(),o.end(),o.getContents()}};function jq(e){let t={};return e.forEach(r=>{Object.prototype.hasOwnProperty.call(t,r.module)||(t[r.module]={}),t[r.module][r.name]=function(){}}),t}var ea=class{constructor(){this.logger=At.INST.create("TagsParser")}getInputTag(t,r){if(ea.hasMultipleInteractions(t)){this.logger.debug("Interaction transaction is using multiple input tx tag format.");let i=t.node.tags.findIndex(u=>u.name==="Contract"&&u.value===r);if(t.node.tags.length-1===i){this.logger.warn("Wrong tags format: 'Contract' is the last tag");return}let o=t.node.tags[i+1];if(o.name!=="Input"){this.logger.warn(`No 'Input' tag found after 'Contract' tag. Instead ${o.name} was found`);return}return o}else return t.node.tags.find(i=>i.name==="Input")}isInteractWrite(t,r){return t.node.tags.some(i=>i.name==="Interact-Write"&&i.value===r)}getContractTag(t){var r;return(r=t.node.tags.find(i=>i.name==="Contract"))==null?void 0:r.value}getContractsWithInputs(t){let r=new Map;return t.node.tags.filter(o=>o.name==="Contract").forEach(o=>{r.set(o.value,this.getInputTag(t,o.value))}),r}static hasMultipleInteractions(t){return t.node.tags.filter(r=>r.name==="Contract").length>1}};function Pd(e,t){let r=e.trim().split(`
`),i=r[0],o=r[r.length-1];return(/\(\s*\(\)\s*=>\s*{/g.test(i)||/\s*\(\s*function\s*\(\)\s*{/g.test(i))&&/}\s*\)\s*\(\)\s*;/g.test(o)&&(r.shift(),r.pop(),e=r.join(`
`)),e=e.replace(/export\s+async\s+function\s+handle/gmu,"async function handle").replace(/export\s+function\s+handle/gmu,"function handle"),t?`
    ${e}
    module.exports = handle;`:`
    const [SmartWeave, BigNumber, logger] = arguments;
    class ContractError extends Error { constructor(message) { super(message); this.name = 'ContractError' } };
    function ContractAssert(cond, message) { if (!cond) throw new ContractError(message) };
    ${e};
    return handle;
  `}function xu(e){return e.confirmationStatus===void 0?!0:e.confirmationStatus==="confirmed"}var li=(k=>(k.APP_NAME="App-Name",k.APP_VERSION="App-Version",k.CONTRACT_TX_ID="Contract",k.INPUT="Input",k.CONTENT_TYPE="Content-Type",k.CONTRACT_SRC_TX_ID="Contract-Src",k.SDK="SDK",k.MIN_FEE="Min-Fee",k.INIT_STATE="Init-State",k.INIT_STATE_TX="Init-State-TX",k.INTERACT_WRITE="Interact-Write",k.WASM_LANG="Wasm-Lang",k.WASM_LANG_VERSION="Wasm-Lang-Version",k.CONTRACT_TYPE="Contract-Type",k.WASM_META="Wasm-Meta",k))(li||{});var pE=class{};var Ca=class{constructor(t,r,i=""){this.contractTxId=t;this.depth=r;this.label=i;this.interactions=new Map}addInteractionData(t){let{interaction:r,interactionTx:i}=t,o=gs.create(new Yd(i.id,i.block.height,i.block.timestamp,r==null?void 0:r.caller,r==null?void 0:r.input.function,r==null?void 0:r.input,i.dry,new Map));return this.interactions.set(i.id,o),o}getInteraction(t){return this.interactions.get(t)}print(){return JSON.stringify(this,zl)}},gs=class{constructor(t){this.interactionInput=t}static create(t){return new gs(t)}update(t){this.interactionOutput=t}},Yd=class{constructor(t,r,i,o,u,c,p,w=new Map){this.txId=t;this.blockHeight=r;this.blockTimestamp=i;this.caller=o;this.functionName=u;this.functionArguments=c;this.dryWrite=p;this.foreignContractCalls=w}},gE=class{constructor(t,r,i,o,u,c="",p){this.cacheHit=t;this.intermediaryCacheHit=r;this.outputState=i;this.executionTime=o;this.valid=u;this.errorMessage=c;this.gasUsed=p}};var Oa=class{constructor(t,r){this.baseImplementation=t;this.cache=r;this.logger=At.INST.create("CacheableContractInteractionsLoader")}async load(t,r,i,o){let u=ae.measure();this.logger.debug("Loading interactions",{contractId:t,fromBlockHeight:r,toBlockHeight:i});let{cachedHeight:c,cachedValue:p}=await this.cache.getLast(t)||{cachedHeight:-1,cachedValue:[]};if(c>=i)return this.logger.debug("Reusing interactions cached at higher block height:",c),p.filter(O=>O.node.block.height>=r&&O.node.block.height<=i);this.logger.trace("Cached:",{cachedHeight:c,cachedValue:p});let w=await this.baseImplementation.load(t,Math.max(c+1,r),i,o),M=p.filter(O=>O.node.block.height>=r).concat(w),C=p.concat(w);return this.logger.debug("Interactions load result:",{cached:p.length,missing:w.length,total:C.length,result:M.length}),await this.cache.put(new Aa(t,i),C),this.logger.debug(`Interactions loaded in ${u.elapsed()}`),M}};var Xn=class{constructor(t,r,i){this.arweave=t;this.baseImplementation=r;this.cache=i;this.logger=At.INST.create("CacheableExecutorFactory")}async create(t,r){return await this.baseImplementation.create(t,r)}};var kf=class{constructor(t,r){this.baseImplementation=t;this.sourceCode=r}async create(t,r){return Object.prototype.hasOwnProperty.call(this.sourceCode,t.txId)&&(t=lr(re({},t),{src:this.sourceCode[t.txId]})),await this.baseImplementation.create(t,r)}};function zq(e){if(!e)return!1;let t=yE(e);return e.evolve!==void 0||t.has("evolve")}var kr=class{constructor(t,r){this.definitionLoader=t;this.executorFactory=r;this.logger=At.INST.create("Evolve");this.modify=this.modify.bind(this)}async modify(t,r){let i=r.contractDefinition.txId;this.logger.debug(`trying to evolve for: ${i}`);let o=kr.evolvedSrcTxId(t),u=r.contractDefinition.srcTxId;if(o&&(this.logger.debug("Checking evolve:",{current:u,evolvedSrcTxId:o}),u!==o))try{this.logger.info("Evolving to: ",o);let c=await this.definitionLoader.load(i,o),p=await this.executorFactory.create(c,r.evaluationOptions);return r.contractDefinition=c,r.handler=p,this.logger.debug("evolved to:",{evolve:o,newSrcTxId:r.contractDefinition.srcTxId,current:u,txId:r.contractDefinition.txId}),r}catch(c){throw new Df("CONTRACT_NOT_FOUND",{message:`Contract having txId: ${i} not found`,requestedTxId:i})}return r}static evolvedSrcTxId(t){if(!zq(t))return;let r=yE(t),i=t.evolve||r.get("evolve"),o=t.canEvolve||r.get("canEvolve");if(o==null&&(o=!0),i&&/[a-z0-9_-]{43}/i.test(i)&&o)return i}};function yE(e){let t=new Map;return e.settings&&(Kq(e.settings)?t=new Map(e.settings):Vq(e.settings)&&(t=new Map(Object.entries(e.settings)))),t}function Kq(e){return e==null?!1:typeof e[Symbol.iterator]=="function"}function Vq(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var qf=class{static remoteCached(t,r){return this.remoteCacheBased(t,r).build()}static remoteCacheBased(t,r){let i=new Zr(t,new tr),o=new Oa(new en(t),new us("INTERACTIONS",r)),u=new Xn(t,new Yn(t),new tr),c=new Qn(t,new us("STATE",r),[new kr(i,u)]),p=new Zn(t);return sn.builder(t).setDefinitionLoader(i).setInteractionsLoader(o).setInteractionsSorter(p).setExecutorFactory(u).setStateEvaluator(c)}static memCached(t,r=10){return this.memCachedBased(t,r).build()}static memCachedBased(t,r=10,i){let o=new Zr(t,new tr),u=new en(t),c=new Xn(t,new Yn(t),new tr),p=new Qn(t,i||new an(r),[new kr(o,c)]),w=new Zn(t);return sn.builder(t).setDefinitionLoader(o).setCacheableInteractionsLoader(u).setInteractionsSorter(w).setExecutorFactory(c).setStateEvaluator(p)}};var mE=class extends qf{static fileCached(t,r,i=10){return this.fileCachedBased(t,r,i).build()}static fileCachedBased(t,r,i=10){let o=new Zr(t,new tr),u=new en(t),c=new Xn(t,new Yn(t),new tr),p=new Qn(t,new Tf(r,i),[new kr(o,c)]),w=new Zn(t);return sn.builder(t).setDefinitionLoader(o).setCacheableInteractionsLoader(u).setInteractionsSorter(w).setExecutorFactory(c).setStateEvaluator(p)}static async knexCached(t,r,i=10){return(await this.knexCachedBased(t,r,i)).build()}static async knexCachedBased(t,r,i=10){let o=new Zr(t,new tr),u=new en(t),c=new Xn(t,new Yn(t),new tr),p=new Qn(t,await Ea.init(r,i),[new kr(o,c)]),w=new Zn(t);return sn.builder(t).setDefinitionLoader(o).setCacheableInteractionsLoader(u).setInteractionsSorter(w).setExecutorFactory(c).setStateEvaluator(p)}};var Ba=class{constructor(t,r,i=null,o=null){this._contractTxId=t;this.smartweave=r;this._parentContract=i;this._callingInteraction=o;this.logger=At.INST.create("HandlerBasedContract");this._evaluationOptions=new lu;this._networkInfo=null;this._rootBlockHeight=null;this._innerWritesEvaluator=new Wf;this._benchmarkStats=null;if(this.waitForConfirmation=this.waitForConfirmation.bind(this),this._arweaveWrapper=new kn(r.arweave),i!=null){this._networkInfo=i.getNetworkInfo(),this._rootBlockHeight=i.getRootBlockHeight(),this._evaluationOptions=i.evaluationOptions(),this._callDepth=i.callDepth()+1;let u=i.getCallStack().getInteraction(o.id);if(this._callDepth>this._evaluationOptions.maxCallDepth)throw Error(`Max call depth of ${this._evaluationOptions.maxCallDepth} has been exceeded for interaction ${JSON.stringify(u.interactionInput)}`);if(this._networkInfo==null)throw Error("Calling contract should have the network info already set!");this.logger.debug("Calling interaction id",o.id);let c=new Ca(t,this._callDepth);u.interactionInput.foreignContractCalls.set(t,c),this._callStack=c}else this._callDepth=0,this._callStack=new Ca(t,0)}async readState(t,r){var M,C;this.logger.info("Read state for",{contractTxId:this._contractTxId,currentTx:r});let i=ae.measure();this.maybeResetRootContract(t);let{stateEvaluator:o}=this.smartweave,u=await this.createExecutionContext(this._contractTxId,t);this.logger.info("Execution Context",{blockHeight:u.blockHeight,srcTxId:(M=u.contractDefinition)==null?void 0:M.srcTxId,missingInteractions:u.sortedInteractions.length,cachedStateHeight:(C=u.cachedState)==null?void 0:C.cachedHeight}),i.stop();let c=ae.measure(),p=await o.eval(u,r||[]);c.stop();let w=i.elapsed(!0)+c.elapsed(!0);return this._benchmarkStats={gatewayCommunication:i.elapsed(!0),stateEvaluation:c.elapsed(!0),total:w},this.logger.info("Benchmark",{"Gateway communication  ":i.elapsed(),"Contract evaluation    ":c.elapsed(),"Total:                 ":`${w.toFixed(0)}ms`}),p}async viewState(t,r,i=[],o=Ki){return this.logger.info("View state for",this._contractTxId),await this.callContract(t,void 0,r,i,o)}async viewStateForTx(t,r){return this.logger.info(`View state for ${this._contractTxId}`,r),await this.callContractForTx(t,r)}async dryWrite(t,r,i,o){return this.logger.info("Dry-write for",this._contractTxId),await this.callContract(t,r,void 0,i,o)}async dryWriteFromTx(t,r,i){return this.logger.info(`Dry-write from transaction ${r.id} for ${this._contractTxId}`),await this.callContractForTx(t,r,i||[])}async writeInteraction(t,r=[],i=Ki,o=!1){if(this.logger.info("Write interaction input",t),!this.wallet)throw new Error("Wallet not connected. Use 'connect' method first.");let{arweave:u}=this.smartweave,c=await this.createInteraction(t,r,i,o),p=await u.transactions.post(c);if(p.status!==200)return this.logger.error("Error while posting transaction",p),null;if(this._evaluationOptions.waitForConfirmation){this.logger.info("Waiting for confirmation of",c.id);let w=ae.measure();await this.waitForConfirmation(c.id),this.logger.info("Transaction confirmed after",w.elapsed())}return c.id}async bundleInteraction(t,r=[],i=Ki,o=!1){if(this.logger.info("Bundle interaction input",t),!this.wallet)throw new Error("Wallet not connected. Use 'connect' method first.");let u=await this.createInteraction(t,r,i,o);return{bundlrResponse:await fetch(`${this._evaluationOptions.sequencerAddress}gateway/sequencer/register`,{method:"POST",body:JSON.stringify(u),headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Accept:"application/json"}}).then(p=>(this.logger.debug(p),p.ok?p.json():Promise.reject(p))).catch(p=>{var w;throw this.logger.error(p),(w=p.body)!=null&&w.message&&this.logger.error(p.body.message),new Error(`Unable to bundle interaction: ${JSON.stringify(p)}`)}),originalTxId:u.id}}async createInteraction(t,r,i,o){if(this._evaluationOptions.internalWrites){let c=await this.callContract(t,void 0,void 0,r,i);if(o&&c.type!=="ok")throw Error(`Cannot create interaction: ${c.errorMessage}`);let p=this.getCallStack(),w=this._innerWritesEvaluator.eval(p);this.logger.debug("Input",t),this.logger.debug("Callstack",p.print()),w.forEach(M=>{r.push({name:"Interact-Write",value:M})}),this.logger.debug("Tags with inner calls",r)}else if(o){let c=await this.callContract(t,void 0,void 0,r,i);if(c.type!=="ok")throw Error(`Cannot create interaction: ${c.errorMessage}`)}return await $f(this.smartweave.arweave,this.wallet,this._contractTxId,t,r,i.target,i.winstonQty)}txId(){return this._contractTxId}getCallStack(){return this._callStack}getNetworkInfo(){return this._networkInfo}connect(t){return this.wallet=t,this}setEvaluationOptions(t){return this._evaluationOptions=re(re({},this._evaluationOptions),t),this}getRootBlockHeight(){return this._rootBlockHeight}async waitForConfirmation(t){let{arweave:r}=this.smartweave,i=await r.transactions.getStatus(t);if(i.confirmed===null)this.logger.info(`Transaction ${t} not yet confirmed. Waiting another 20 seconds before next check.`),await mo(2e4),await this.waitForConfirmation(t);else return this.logger.info(`Transaction ${t} confirmed`,i),i}async createExecutionContext(t,r,i=!1){var Z;let{definitionLoader:o,interactionsLoader:u,interactionsSorter:c,executorFactory:p,stateEvaluator:w}=this.smartweave,M,C=ae.measure();this._parentContract==null?r?this._networkInfo={height:r}:(this.logger.debug("Reading network info for root call"),M=await this._arweaveWrapper.info(),this._networkInfo=M):(this.logger.debug("Reusing network info from the calling contract"),M=this._parentContract._networkInfo),r==null&&(r=M.height),this.logger.debug("network info",C.elapsed()),C.reset();let O=await w.latestAvailableState(t,r),I=-1;O!=null&&(I=O.cachedHeight),this.logger.debug("cache lookup",C.elapsed()),C.reset();let S=kr.evolvedSrcTxId((Z=O==null?void 0:O.cachedValue)==null?void 0:Z.state),N,k=[],Q=[],J;I!=r?([N,k]=await Promise.all([o.load(t,S),u.load(t,I+1,this._rootBlockHeight||this._networkInfo.height,this._evaluationOptions)]),this.logger.debug("contract and interactions load",C.elapsed()),Q=await c.sort(k),this.logger.trace("Sorted interactions",Q),J=await p.create(N,this._evaluationOptions)):(this.logger.debug("State fully cached, not loading interactions."),(i||S)&&(N=await o.load(t,S),J=await p.create(N,this._evaluationOptions)));let ft=k.some(st=>st.node.source=="redstone-sequencer");return this.logger.debug("containsInteractionsFromSequencer",ft),{contractDefinition:N,blockHeight:r,sortedInteractions:Q,handler:J,smartweave:this.smartweave,contract:this,evaluationOptions:this._evaluationOptions,currentNetworkInfo:M,cachedState:O,containsInteractionsFromSequencer:ft}}async createExecutionContextFromTx(t,r){let i=ae.measure(),{definitionLoader:o,interactionsLoader:u,interactionsSorter:c,executorFactory:p,stateEvaluator:w}=this.smartweave,M=r.block.height,C=r.owner.address,O=await w.latestAvailableState(t,M),I=-1;O!=null&&(I=O.cachedHeight);let S,N=[],k=[];I!=M?([S,N]=await Promise.all([o.load(t),await u.load(t,0,M,this._evaluationOptions)]),k=await c.sort(N)):(this.logger.debug("State fully cached, not loading interactions."),S=await o.load(t));let Q=await p.create(S,this._evaluationOptions);this.logger.debug("Creating execution context from tx:",i.elapsed());let J=N.some(ft=>ft.node.source=="redstone-sequencer");return{contractDefinition:S,blockHeight:M,sortedInteractions:k,handler:Q,smartweave:this.smartweave,contract:this,evaluationOptions:this._evaluationOptions,caller:C,cachedState:O,containsInteractionsFromSequencer:J}}maybeResetRootContract(t){this._parentContract==null&&(this.logger.debug("Clearing network info and call stack for the root contract"),this._networkInfo=null,this._callStack=new Ca(this.txId(),0),this._rootBlockHeight=t)}async callContract(t,r,i,o=[],u=Ki){var k;this.logger.info("Call contract input",t),this.maybeResetRootContract(),this.wallet||this.logger.warn("Wallet not set.");let{arweave:c,stateEvaluator:p}=this.smartweave,w=await this.createExecutionContext(this._contractTxId,i,!0);if(!w.currentBlockData){let Q=(k=w.currentNetworkInfo)!=null&&k.current?await c.blocks.get(w.currentNetworkInfo.current):await c.blocks.getCurrent();w=lr(re({},w),{currentBlockData:Q})}let M=r||(this.wallet?await c.wallets.jwkToAddress(this.wallet):"");w=lr(re({},w),{caller:M});let C=await p.eval(w,[]),O={input:t,caller:w.caller};this.logger.debug("interaction",O);let I=await $f(c,this.wallet,this._contractTxId,t,o,u.target,u.winstonQty),S=Xd(I,w.caller,w.currentBlockData),N=await this.evalInteraction({interaction:O,interactionTx:S,currentTx:[]},w,C);return N.type!=="ok"&&this.logger.fatal("Error while interacting with contract",{type:N.type,error:N.errorMessage}),N}async callContractForTx(t,r,i){this.maybeResetRootContract();let o=await this.createExecutionContextFromTx(this._contractTxId,r),u=await this.smartweave.stateEvaluator.eval(o,i);this.logger.debug("callContractForTx - evalStateResult",{result:u.state,txId:this._contractTxId});let p={interaction:{input:t,caller:this._parentContract.txId()},interactionTx:r,currentTx:i};return await this.evalInteraction(p,o,u)}async evalInteraction(t,r,i){let o=this.getCallStack().addInteractionData(t),u=ae.measure(),c=await r.handler.handle(r,i,t);return o.update({cacheHit:!1,intermediaryCacheHit:!1,outputState:this._evaluationOptions.stackTrace.saveState?c.state:void 0,executionTime:u.elapsed(!0),valid:c.type==="ok",errorMessage:c.errorMessage,gasUsed:c.gasUsed}),c}parent(){return this._parentContract}callDepth(){return this._callDepth}evaluationOptions(){return this._evaluationOptions}lastReadStateStats(){return this._benchmarkStats}};var Gf=class extends Ba{async currentBalance(t){let r=await this.viewState({function:"balance",target:t});if(r.type!=="ok")throw Error(r.errorMessage);return r.result}async currentState(){return(await super.readState()).state}async transfer(t){return await this.writeInteraction(re({function:"transfer"},t))}async evolve(t){return await this.writeInteraction({function:"evolve",value:t})}async saveNewSource(t){if(!this.wallet)throw new Error("Wallet not connected. Use 'connect' method first.");let{arweave:r}=this.smartweave,i=await r.createTransaction({data:t},this.wallet);return i.addTag("App-Name","SmartWeaveContractSource"),i.addTag("App-Version","0.3.0"),i.addTag("Content-Type","application/javascript"),await r.transactions.sign(i,this.wallet),await r.transactions.post(i),i.id}};var Wf=class{eval(t){let r=[];return t.interactions.forEach(i=>{this.evalForeignCalls(t.contractTxId,i,r)}),r}evalForeignCalls(t,r,i){r.interactionInput.foreignContractCalls.forEach(o=>{o.interactions.forEach(u=>{u.interactionInput.dryWrite&&!i.includes(o.contractTxId)&&t!==o.contractTxId&&i.push(o.contractTxId),this.evalForeignCalls(t,u,i)})})}};var sn=class{constructor(t,r,i,o,u,c){this.arweave=t;this.definitionLoader=r;this.interactionsLoader=i;this.interactionsSorter=o;this.executorFactory=u;this.stateEvaluator=c;this.createContract=new Ff(t)}static builder(t){return new Hf(t)}contract(t,r,i){return new Ba(t,this,r,i)}pst(t){return new Gf(t,this)}async flushCache(){await this.stateEvaluator.flushCache()}};var Hf=class{constructor(t){this._arweave=t}setDefinitionLoader(t){return this._definitionLoader=t,this}setInteractionsLoader(t){return this._interactionsLoader=t,this}setCacheableInteractionsLoader(t,r=1){return this._interactionsLoader=new Oa(t,new an(r)),this}setInteractionsSorter(t){return this._interactionsSorter=t,this}setExecutorFactory(t){return this._executorFactory=t,this}setStateEvaluator(t){return this._stateEvaluator=t,this}overwriteSource(t){if(this._executorFactory==null)throw new Error("Set base ExecutorFactory first");return this._executorFactory=new kf(this._executorFactory,t),this.build()}useRedStoneGateway(t=null,r=null){return this._interactionsLoader=new bu("https://gateway.redstone.finance",t,r),this._definitionLoader=new vu("https://gateway.redstone.finance",this._arweave,new tr),this}build(){return new sn(this._arweave,this._definitionLoader,this._interactionsLoader,this._interactionsSorter,this._executorFactory,this._stateEvaluator)}};var Bf=class{constructor(t,r,i=Number.MAX_SAFE_INTEGER){this.gasUsed=0,this.gasLimit=i,this.unsafeClient=t,this.arweave={ar:t.ar,utils:t.utils,wallets:t.wallets,crypto:t.crypto},this.contract=r,this.transaction=new wE(this),this.block=new vE(this),this.contracts={readContractState:(o,u,c)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},viewContractState:(o,u)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},write:(o,u)=>{throw new Error("Not implemented - should be set by HandlerApi implementor")},refreshState:()=>{throw new Error("Not implemented - should be set by HandlerApi implementor")}},this.useGas=this.useGas.bind(this)}useGas(t){if(t<0)throw new Error("[RE:GNE] Gas number exception - gas < 0.");if(this.gasUsed+=t,this.gasUsed>this.gasLimit)throw new Error(`[RE:OOG] Out of gas! Used: ${this.gasUsed}, limit: ${this.gasLimit}`)}},wE=class{constructor(t){this.global=t}get id(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.id}get owner(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.owner.address}get target(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.recipient}get tags(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.tags}get quantity(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.quantity.winston}get reward(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.fee.winston}},vE=class{constructor(t){this.global=t}get height(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.block.height}get indep_hash(){if(!this.global._activeTx)throw new Error("No current Tx");return this.global._activeTx.block.id}get timestamp(){if(!this.global._activeTx)throw new Error("No current tx");return this.global._activeTx.block.timestamp}};var Zd=(t=>(t.CONTRACT_NOT_FOUND="CONTRACT_NOT_FOUND",t))(Zd||{}),Df=class extends Error{constructor(t,r={}){r.message?super(r.message):super(),this.type=t,this.otherInfo=r}getType(){return this.type}};function br(e,t){let r=e.get("tags");for(let i of r)try{if(i.get("name",{decode:!0,string:!0})===t)return i.get("value",{decode:!0,string:!0})}catch(o){}return!1}function Nd(e){let t="";for(let r of e)t+=("0"+r.toString(16)).slice(-2);return t}async function $f(e,t,r,i,o,u="",c="0"){let p={data:Math.random().toString().slice(-4)};u&&u.length&&(p.target=u.toString(),c&&+c>0&&(p.quantity=c.toString()));let w=await e.createTransaction(p,t);if(!i)throw new Error(`Input should be a truthy value: ${JSON.stringify(i)}`);if(o&&o.length)for(let M of o)w.addTag(M.name.toString(),M.value.toString());return w.addTag("App-Name","SmartWeaveAction"),w.addTag("App-Version","0.3.0"),w.addTag("SDK","RedStone"),w.addTag("Contract",r),w.addTag("Input",JSON.stringify(i)),await e.transactions.sign(w,t),w}function Xd(e,t,r){let i=_E(e);return{id:e.id,owner:{address:t,key:""},recipient:e.target,tags:i,fee:{winston:e.reward,ar:""},quantity:{winston:e.quantity,ar:""},block:{id:r.indep_hash,height:r.height,timestamp:r.timestamp,previous:null},dry:!0,anchor:null,signature:null,data:null,parent:null,bundledIn:null}}function _E(e){let t=e.get("tags"),r=[];for(let i of t)try{let o=i.get("name",{decode:!0,string:!0}),u=i.get("value",{decode:!0,string:!0});r.push({name:o,value:u})}catch(o){}return r}return OB(Jq);})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
